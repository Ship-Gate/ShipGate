"use strict";(()=>{var t={};t.id=602,t.ids=[602],t.modules={517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2683:(t,e,r)=>{r.r(e),r.d(e,{headerHooks:()=>w,originalPathname:()=>_,patchFetch:()=>Z,requestAsyncStorage:()=>m,routeModule:()=>h,serverHooks:()=>y,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>v});var a={};r.r(a),r.d(a,{DELETE:()=>d,GET:()=>c,PUT:()=>p});var n=r(2534),s=r(9409),i=r(6717),o=r(7445),u=r(3075),l=r(3107);async function c(t,{params:e}){try{let{id:t}=await e,r=await (0,u.u_)(t);if(!r)return o.Z.json({error:"Not found"},{status:404});return o.Z.json(r)}catch(t){return o.Z.json({error:"Internal Server Error"},{status:500})}}async function p(t,{params:e}){try{let{id:r}=await e,a=await t.json(),n=l.rw.safeParse(a);if(!n.success)return o.Z.json({error:n.error.flatten()},{status:400});let s=await (0,u.CP)(r,n.data);return o.Z.json(s)}catch(t){return o.Z.json({error:"Internal Server Error"},{status:500})}}async function d(t,{params:e}){try{let{id:t}=await e;return await (0,u.fR)(t),o.Z.json({success:!0})}catch(t){return o.Z.json({error:"Internal Server Error"},{status:500})}}let h=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/posts/[id]/route",pathname:"/api/posts/[id]",filename:"route",bundlePath:"app/api/posts/[id]/route"},resolvedPagePath:"/Users/liquidgroove/Desktop/ShipGate-main/packages/crud-template-examples/src/app/api/posts/[id]/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:f,serverHooks:y,headerHooks:w,staticGenerationBailout:v}=h,_="/api/posts/[id]/route";function Z(){return(0,i.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:f})}},4625:(t,e,r)=>{r.d(e,{_:()=>n});let a=require("@prisma/client"),n=globalThis.prisma??new a.PrismaClient},3075:(t,e,r)=>{r.d(e,{CP:()=>u,aA:()=>s,fR:()=>l,qb:()=>o,u_:()=>i});var a=r(4625);let n={};async function s(t){let{page:e,limit:r,sortBy:s,sortOrder:i}=t,o={...n};t.search&&t.search.trim()&&(o.OR=[{title:{contains:t.search,mode:"insensitive"}},{content:{contains:t.search,mode:"insensitive"}}]),t.published&&(o.published=t.published);let[u,l]=await Promise.all([a._.post.findMany({where:o,skip:(e-1)*r,take:r,orderBy:{[t.sortBy]:t.sortOrder}}),a._.post.count({where:o})]);return{items:u,total:l,page:e,limit:r,totalPages:Math.ceil(l/r)}}async function i(t){return await a._.post.findFirst({where:{...n,id:t}})||null}async function o(t){return a._.post.create({data:t})}async function u(t,e){return a._.post.update({where:{id:t},data:e})}async function l(t){return await a._.post.delete({where:{id:t}})}},3107:(t,e,r)=>{r.d(e,{EV:()=>i,rw:()=>s,zk:()=>n});var a=r(1573);let n=a.Ry({title:a.Z_(),content:a.Z_().optional(),published:a.O7()}),s=a.Ry({title:a.Z_().optional(),content:a.Z_().optional(),published:a.O7().optional()}).partial(),i=a.Ry({page:a.oQ.number().int().min(1).default(1),limit:a.oQ.number().int().min(1).max(100).default(20),sortBy:a.Km(["title","published"]).default("title"),sortOrder:a.Km(["asc","desc"]).default("asc"),search:a.Z_().optional(),published:a.Z_().optional()})}};var e=require("../../../../webpack-runtime.js");e.C(t);var r=t=>e(e.s=t),a=e.X(0,[150,431],()=>r(2683));module.exports=a})();