(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[597],{7844:function(e,t,s){Promise.resolve().then(s.bind(s,6280))},6280:function(e,t,s){"use strict";s.r(t),s.d(t,{CicdPanel:function(){return h}});var n=s(782),r=s(618),i=s(5426),a=s(319);function o(e){let{title:t,subtitle:s,extra:r,children:i}=e;return(0,n.jsxs)("div",{className:"bg-sg-bg1 rounded-[10px] border border-sg-border overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center py-3 px-[18px] border-b border-sg-border",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-[13px] font-semibold text-sg-text0",children:t}),s&&(0,n.jsx)("span",{className:"text-[11px] text-sg-text3 ml-2",children:s})]}),r]}),i]})}function l(e){let{text:t,color:s,bg:r}=e;return(0,n.jsx)("span",{className:"font-mono text-[10px] font-bold py-0.5 px-2 rounded-[3px]",style:{color:s,background:r,border:"1px solid ".concat(s,"33")},children:t})}let c={ship:"#00e68a",warn:"#ffb547",noship:"#ff5c6a",blue:"#38bdf8"},d={ship:"rgba(0,230,138,0.08)",warn:"rgba(255,181,71,0.08)",noship:"rgba(255,92,106,0.08)",blue:"rgba(56,189,248,0.08)"};function u(e){return["SHIP","pass","success"].includes(e)?c.ship:["WARN","partial","pending"].includes(e)?c.warn:["NO_SHIP","fail","failure"].includes(e)?c.noship:["running","scanning"].includes(e)?c.blue:c.noship}function p(e){let{status:t,size:s=8}=e,r=u(t);return(0,n.jsxs)("span",{className:"relative inline-flex",children:[(0,n.jsx)("span",{className:"rounded-full shrink-0",style:{width:s,height:s,background:r}}),"running"===t&&(0,n.jsx)("span",{className:"absolute -inset-0.5 rounded-full animate-ping-ring border-[1.5px]",style:{borderColor:r,opacity:0}})]})}let x=[{id:"1",name:"ShipGate Verify",event:"pull_request",branch:"feat/payment-flow",status:"success",duration:"1m 23s",time:"3m ago",pr:"#142",author:"gee",commit:"a1b2c3d",commitMsg:"feat: add Stripe webhook handler",jobs:[{name:"Install",status:"success",duration:"12s"},{name:"shipgate verify",status:"success",duration:"28s"},{name:"shipgate ship --ci",status:"success",duration:"34s"},{name:"Post PR Comment",status:"success",duration:"3s"},{name:"Upload SARIF",status:"success",duration:"6s"}],verdict:"SHIP",score:94},{id:"2",name:"ShipGate Verify",event:"pull_request",branch:"fix/auth-middleware",status:"running",duration:"0m 42s",time:"now",pr:"#143",author:"alex",commit:"d4e5f6g",commitMsg:"fix: validate JWT expiry",jobs:[{name:"Install",status:"success",duration:"11s"},{name:"shipgate verify",status:"running",duration:"31s"},{name:"shipgate ship --ci",status:"pending",duration:"—"},{name:"Post PR Comment",status:"pending",duration:"—"},{name:"Upload SARIF",status:"pending",duration:"—"}],verdict:null,score:null},{id:"3",name:"ShipGate Verify",event:"pull_request",branch:"feat/email-service",status:"failure",duration:"1m 08s",time:"1h ago",pr:"#139",author:"sam",commit:"h7i8j9k",commitMsg:"feat: email templates with AI",jobs:[{name:"Install",status:"success",duration:"13s"},{name:"shipgate verify",status:"success",duration:"26s"},{name:"shipgate ship --ci",status:"failure",duration:"22s"},{name:"Post PR Comment",status:"success",duration:"4s"},{name:"Upload SARIF",status:"success",duration:"5s"}],verdict:"NO_SHIP",score:41,blockers:["2 hardcoded secrets detected","3 hallucinated imports","Auth missing on /api/email/send"]}];function h(){let[e,t]=(0,r.useState)(null),s=x.filter(e=>"running"===e.status).length;return(0,n.jsx)(o,{title:"CI/CD Pipeline",subtitle:"GitHub Actions",extra:(0,n.jsxs)("div",{className:"flex gap-1.5",children:[(0,n.jsx)(l,{text:"".concat(x.length," runs"),color:"#8888a0",bg:"#1a1a24"}),s>0&&(0,n.jsx)(l,{text:"".concat(s," active"),color:"#38bdf8",bg:"rgba(56,189,248,0.08)"})]}),children:x.map(s=>(0,n.jsx)(m,{run:s,expanded:e===s.id,onToggle:()=>t(e===s.id?null:s.id)},s.id))})}function m(e){var t;let{run:s,expanded:r,onToggle:o}=e;return(0,n.jsxs)("div",{className:"border-b border-sg-border last:border-b-0",children:[(0,n.jsxs)("button",{type:"button",onClick:o,className:"w-full flex items-center gap-2.5 py-2.5 px-[18px] cursor-pointer text-left transition-colors hover:bg-[rgba(255,255,255,0.015)]",style:{background:r?"rgba(255,255,255,0.015)":"transparent"},children:[(0,n.jsx)(p,{status:s.status}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-xs font-medium text-sg-text0 truncate",children:s.commitMsg}),(0,n.jsx)("span",{className:"text-[10px] text-sg-accent font-mono shrink-0",children:s.pr})]}),(0,n.jsxs)("div",{className:"flex gap-2 text-[10px] text-sg-text3 mt-0.5",children:[(0,n.jsx)("span",{children:s.branch}),(0,n.jsx)("span",{children:"•"}),(0,n.jsx)("span",{children:s.author}),(0,n.jsx)("span",{children:"•"}),(0,n.jsx)("span",{children:s.time})]})]}),s.verdict&&(0,n.jsx)(l,{text:s.verdict,color:u(s.verdict),bg:["SHIP","pass","success"].includes(t=s.verdict)?d.ship:["WARN","partial","pending"].includes(t)?d.warn:["NO_SHIP","fail","failure"].includes(t)?d.noship:["running","scanning"].includes(t)?d.blue:d.noship}),null!=s.score&&(0,n.jsx)("span",{className:"text-xs font-semibold text-sg-text0 font-mono w-6 text-right",children:s.score}),(0,n.jsx)("span",{className:"text-[10px] text-sg-text3 font-mono w-[50px] text-right",children:s.duration}),(0,n.jsx)("span",{className:"text-[10px] text-sg-text3 transition-transform",style:{transform:r?"rotate(180deg)":""},children:"▾"})]}),(0,n.jsx)(i.M,{initial:!1,children:r&&(0,n.jsx)(a.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:[.16,1,.3,1]},className:"overflow-hidden",children:(0,n.jsxs)("div",{className:"pt-1 pb-3.5 px-[18px] pl-9",children:[(0,n.jsx)("div",{className:"flex items-center gap-1 flex-wrap mb-2.5",children:s.jobs.map((e,t)=>(0,n.jsxs)(a.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.03*t},className:"flex items-center gap-1.5",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1.5 py-1.5 px-2.5 rounded-[5px] border border-sg-border",style:{background:"#1a1a24"},children:[(0,n.jsx)(p,{status:e.status,size:6}),(0,n.jsx)("span",{className:"text-[10px] ".concat("pending"===e.status?"text-sg-text3":"text-sg-text1"),children:e.name}),(0,n.jsx)("span",{className:"text-[9px] text-sg-text3 font-mono",children:e.duration})]}),t<s.jobs.length-1&&(0,n.jsx)("span",{className:"text-[10px] text-sg-text3",children:"→"})]},t))}),s.blockers&&s.blockers.length>0&&(0,n.jsxs)("div",{className:"py-2 px-3 rounded-[6px] mt-1 border",style:{background:"rgba(255,92,106,0.08)",borderColor:"rgba(255,92,106,0.15)"},children:[(0,n.jsx)("div",{className:"text-[10px] font-semibold text-sg-noship uppercase tracking-wider mb-1",children:"Blockers"}),s.blockers.map((e,t)=>(0,n.jsxs)("div",{className:"text-[11px] text-sg-noship opacity-80 flex gap-1.5 mt-0.5",children:[(0,n.jsx)("span",{children:"✗"}),(0,n.jsx)("span",{children:e})]},t))]}),(0,n.jsxs)("div",{className:"flex gap-1.5 mt-2.5",children:[(0,n.jsx)(f,{children:"View Logs"}),(0,n.jsx)(f,{children:"View Proof Bundle"}),(0,n.jsx)(f,{children:"Re-run"}),"NO_SHIP"===s.verdict&&(0,n.jsx)("button",{type:"button",className:"py-1 px-2.5 rounded border text-[10px] font-semibold cursor-pointer transition-opacity hover:opacity-90",style:{borderColor:"rgba(0,230,138,0.3)",background:"rgba(0,230,138,0.08)",color:"#00e68a"},children:"Auto-fix →"})]})]})})})]})}function f(e){let{children:t}=e;return(0,n.jsx)("button",{type:"button",className:"py-1 px-2.5 rounded border border-sg-border bg-transparent text-[10px] text-sg-text2 cursor-pointer hover:text-sg-text1 transition-colors",children:t})}},5426:function(e,t,s){"use strict";s.d(t,{M:function(){return g}});var n=s(782),r=s(618),i=s(8811),a=s(591),o=s(109),l=s(9586);class c extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:s}=e,i=(0,r.useId)(),a=(0,r.useRef)(null),o=(0,r.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,r.useContext)(l._);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:r}=o.current;if(s||!a.current||!e||!t)return;a.current.dataset.motionPopId=i;let l=document.createElement("style");return d&&(l.nonce=d),document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(n,"px !important;\n            left: ").concat(r,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[s]),(0,n.jsx)(c,{isPresent:s,childRef:a,sizeRef:o,children:r.cloneElement(t,{ref:a})})}let u=e=>{let{children:t,initial:s,isPresent:i,onExitComplete:l,custom:c,presenceAffectsLayout:u,mode:x}=e,h=(0,a.h)(p),m=(0,r.useId)(),f=(0,r.useCallback)(e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;l&&l()},[h,l]),g=(0,r.useMemo)(()=>({id:m,initial:s,isPresent:i,custom:c,onExitComplete:f,register:e=>(h.set(e,!1),()=>h.delete(e))}),u?[Math.random(),f]:[i,f]);return(0,r.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[i]),r.useEffect(()=>{i||h.size||!l||l()},[i]),"popLayout"===x&&(t=(0,n.jsx)(d,{isPresent:i,children:t})),(0,n.jsx)(o.O.Provider,{value:g,children:t})};function p(){return new Map}var x=s(3167);let h=e=>e.key||"";function m(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}var f=s(9976);let g=e=>{let{children:t,custom:s,initial:o=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:d="sync",propagate:p=!1}=e,[g,b]=(0,x.oO)(p),j=(0,r.useMemo)(()=>m(t),[t]),v=p&&!g?[]:j.map(h),y=(0,r.useRef)(!0),N=(0,r.useRef)(j),w=(0,a.h)(()=>new Map),[P,k]=(0,r.useState)(j),[C,I]=(0,r.useState)(j);(0,f.L)(()=>{y.current=!1,N.current=j;for(let e=0;e<C.length;e++){let t=h(C[e]);v.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[C,v.length,v.join("-")]);let R=[];if(j!==P){let e=[...j];for(let t=0;t<C.length;t++){let s=C[t],n=h(s);v.includes(n)||(e.splice(t,0,s),R.push(s))}"wait"===d&&R.length&&(e=R),I(m(e)),k(j);return}let{forceRender:S}=(0,r.useContext)(i.p);return(0,n.jsx)(n.Fragment,{children:C.map(e=>{let t=h(e),r=(!p||!!g)&&(j===C||v.includes(t));return(0,n.jsx)(u,{isPresent:r,initial:(!y.current||!!o)&&void 0,custom:r?void 0:s,presenceAffectsLayout:c,mode:d,onExitComplete:r?void 0:()=>{if(!w.has(t))return;w.set(t,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==S||S(),I(N.current),p&&(null==b||b()),l&&l())},children:e},t)})})}}},function(e){e.O(0,[319,789,166,744],function(){return e(e.s=7844)}),_N_E=e.O()}]);