/**
 * ISL Authoritative Gate
 * 
 * The single source of truth for SHIP/NO_SHIP decisions.
 * 
 * @module @isl-lang/gate/authoritative
 */

// Core gate function
export { 
  runAuthoritativeGate, 
  quickGateCheck, 
  wouldShip,
} from './gate.js';

// Decision engine
export { 
  makeDecision, 
  wouldShip as wouldShipFromAggregation,
  getSuggestions,
  getMinScoreToShip,
} from './decision-engine.js';

// Signal aggregation
export {
  aggregateSignals,
  createSignal,
  createBlockingSignal,
  createFinding,
  hasBlockingIssues,
  getFailedSignals,
  getBlockingFailures,
  countBySeverity,
} from './aggregator.js';

// Evidence bundle
export {
  hashContent,
  generateFingerprint,
  createBundle,
  createArtifact,
  writeBundle,
} from './evidence-bundle.js';

// Verdict engine (SHIP / WARN / NO_SHIP)
export {
  SCORING_THRESHOLDS,
  CRITICAL_FAILURES,
  createGateEvidence,
  computeScore,
  findCriticalFailures,
  hasCriticalFailure,
  produceVerdict,
} from './verdict-engine.js';

export type {
  ScoringThresholds,
  CriticalFailureKind,
  GateEvidenceSource,
  GateEvidence,
  VerdictDecision,
  GateVerdict,
  VerdictOptions,
} from './verdict-engine.js';

// AI safety guardrails
export {
  applyGuardrails,
  isAutoGeneratedSpec,
  hasAiRuleEvidence,
  findEmptyCategories,
  formatGuardrailWarnings,
} from './guardrails.js';

// Specless check registry
export {
  registerSpeclessCheck,
  unregisterSpeclessCheck,
  getSpeclessChecks,
  clearSpeclessChecks,
  runSpeclessChecks,
} from './specless-registry.js';

export type {
  GateContext,
  SpeclessCheck,
} from './specless-registry.js';

// Types
export type {
  AuthoritativeVerdict,
  AuthoritativeGateInput,
  AuthoritativeGateResult,
  VerificationSignal,
  SignalSource,
  SignalFinding,
  AggregatedSignals,
  ThresholdConfig,
  VerdictReason,
  EvidenceBundle,
  EvidenceArtifact,
  VerdictSource,
  CombinedVerdictResult,
  GuardrailPolicy,
  RiskAcceptance,
  GuardrailResult,
} from './types.js';

// Constants
export {
  EXIT_CODES,
  DEFAULT_THRESHOLDS,
  DEV_THRESHOLDS,
  DEFAULT_GUARDRAIL_POLICY,
} from './types.js';

// Verified Intent â€” 3-pillar contract
export {
  evaluateVerifiedIntent,
  evaluateVerifiedIntentFromInputs,
  applyVerifiedIntentCap,
  formatVerifiedIntentReport,
  evaluateSpecFidelity,
  evaluateCoverage,
  evaluateExecution,
  extractSpecFidelityInput,
  extractCoverageInput,
  extractExecutionInput,
  buildProvenanceReport,
  partitionProvenance,
  formatProvenanceReport,
  DEFAULT_VERIFIED_INTENT_CONFIG,
  DEV_VERIFIED_INTENT_CONFIG,
} from '../verified-intent/index.js';

export type {
  PillarStatus,
  PillarName,
  ProvenanceOrigin,
  ExecutionStatus,
  ProvenanceRecord,
  ProvenanceReport,
  PillarResult,
  PillarDetail,
  VerifiedIntentResult,
  MissingPillarPolicy,
  VerifiedIntentConfig,
  SpecFidelityInput,
  CoverageInput,
  ExecutionInput,
} from '../verified-intent/index.js';
