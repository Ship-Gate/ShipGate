(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[611],{98163:function(e,t,r){Promise.resolve().then(r.bind(r,30431))},30431:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var s=r(80782),a=r(40618),n=r(88147),i=r(47492),l=r(98219),o=r(73458),d=r(72831),c=r(68150),u=r(82582),x=r(55335),m=r(24145),f=r(90555),p=r(54126),h=r(95162),b=r(12630),g=r(48668);function v(){var e,t;let[r,v]=(0,a.useState)(""),[j,N]=(0,a.useState)(""),[y,w]=(0,a.useState)(1),S=(0,a.useMemo)(()=>{let e=new Date;return{from:(0,u.b)((0,x.k)(e,30)).toISOString(),to:(0,m.i)(e).toISOString()}},[]),{data:k,loading:I,error:P,refetch:z}=(0,i.VH)({q:r||void 0,verdict:j||void 0,from:S.from,to:S.to,page:y,limit:20}),C=null!==(e=null==k?void 0:k.data)&&void 0!==e?e:[],_=null!==(t=null==k?void 0:k.pagination)&&void 0!==t?t:{page:1,limit:20,total:0,totalPages:0},O=(0,a.useCallback)(e=>{e.preventDefault(),w(1),z()},[z]);return(0,s.jsxs)("div",{className:"container py-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Runs"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Verification run history — evidence and auditability"})]}),(0,s.jsx)(n.default,{href:"/runs/upload",children:(0,s.jsxs)(l.z,{variant:"default",className:"gap-2",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4","aria-hidden":!0}),"Ingest Proof Bundle"]})})]}),(0,s.jsx)(o.Zb,{children:(0,s.jsxs)(o.Ol,{children:[(0,s.jsx)(o.ll,{className:"text-base",children:"Filters"}),(0,s.jsxs)("form",{onSubmit:O,className:"flex flex-wrap gap-3 pt-2",children:[(0,s.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,s.jsx)(h.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground","aria-hidden":!0}),(0,s.jsx)(d.I,{placeholder:"Search repo, branch, commit…",value:r,onChange:e=>v(e.target.value),className:"pl-9","aria-label":"Search runs"})]}),(0,s.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter by verdict",children:[(0,s.jsx)("option",{value:"",children:"All verdicts"}),(0,s.jsx)("option",{value:"SHIP",children:"Ship"}),(0,s.jsx)("option",{value:"WARN",children:"Warn"}),(0,s.jsx)("option",{value:"NO_SHIP",children:"No Ship"})]}),(0,s.jsx)(l.z,{type:"submit",variant:"secondary",children:"Apply"})]})]})}),(0,s.jsx)(o.Zb,{children:(0,s.jsxs)(o.aY,{className:"p-0",children:[P&&(0,s.jsx)("div",{className:"p-4 text-destructive text-sm",role:"alert",children:P.message}),I?(0,s.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"Loading runs…"}):0===C.length?(0,s.jsxs)("div",{className:"p-12 text-center space-y-4",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"No runs yet"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload a proof bundle or connect CI to see run history."}),(0,s.jsx)(n.default,{href:"/runs/upload",children:(0,s.jsxs)(l.z,{variant:"default",className:"gap-2",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4","aria-hidden":!0}),"Ingest Proof Bundle"]})})]}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",role:"grid",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b bg-muted/50",children:[(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Repo"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Ref"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Verdict"}),(0,s.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"Score"}),(0,s.jsx)("th",{className:"text-right py-3 px-4 font-medium",children:"Duration"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Commit"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-medium",children:"Timestamp"})]})}),(0,s.jsx)("tbody",{children:C.map(e=>(0,s.jsxs)("tr",{className:"border-b hover:bg-muted/30 transition-colors cursor-pointer",onClick:()=>window.location.href="/runs/".concat(e.id),role:"row",tabIndex:0,onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),window.location.href="/runs/".concat(e.id))},children:[(0,s.jsx)("td",{className:"py-3 px-4 font-medium",children:e.repo}),(0,s.jsx)("td",{className:"py-3 px-4 font-mono text-xs",children:e.pr?"#".concat(e.pr):e.branch}),(0,s.jsx)("td",{className:"py-3 px-4",children:(0,s.jsx)(c.q,{verdict:e.verdict,size:"sm"})}),(0,s.jsx)("td",{className:"py-3 px-4 text-right",children:e.score}),(0,s.jsx)("td",{className:"py-3 px-4 text-right",children:e.duration>0?"".concat(e.duration,"ms"):"—"}),(0,s.jsx)("td",{className:"py-3 px-4 font-mono text-xs truncate max-w-[120px]",children:e.commit.slice(0,7)}),(0,s.jsx)("td",{className:"py-3 px-4 text-muted-foreground",children:(0,f.Q)(new Date(e.timestamp),{addSuffix:!0})})]},e.id))})]})}),_.totalPages>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4 p-4 border-t",children:[(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Page ",_.page," of ",_.totalPages," \xb7 ",_.total," ","total"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.z,{variant:"outline",size:"sm",disabled:y<=1,onClick:()=>w(e=>Math.max(1,e-1)),"aria-label":"Previous page",children:(0,s.jsx)(b.Z,{className:"h-4 w-4"})}),(0,s.jsx)(l.z,{variant:"outline",size:"sm",disabled:y>=_.totalPages,onClick:()=>w(e=>e+1),"aria-label":"Next page",children:(0,s.jsx)(g.Z,{className:"h-4 w-4"})})]})]})]})})]})}},68150:function(e,t,r){"use strict";r.d(t,{q:function(){return i}});var s=r(80782),a=r(59971);let n={SHIP:{label:"Ship",className:"bg-emerald-100 text-emerald-800 border-emerald-200"},WARN:{label:"Warn",className:"bg-amber-100 text-amber-800 border-amber-200"},NO_SHIP:{label:"No Ship",className:"bg-red-100 text-red-800 border-red-200"}};function i(e){var t;let{verdict:r,size:i="md"}=e,{label:l,className:o}=null!==(t=n[r])&&void 0!==t?t:n.NO_SHIP;return(0,s.jsx)("span",{className:(0,a.cn)("inline-flex items-center font-medium rounded-full border",o,"sm"===i?"text-xs px-2 py-0.5":"text-sm px-2.5 py-1"),role:"status","aria-label":"Verdict: ".concat(l),children:l})}},98219:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var s=r(80782),a=r(40618),n=r(44299),i=r(14161),l=r(59971);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:r})),ref:t,...c})});d.displayName="Button"},72831:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var s=r(80782),a=r(40618),n=r(59971);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"}},function(e){e.O(0,[763,425,987,616,540,789,166,744],function(){return e(e.s=98163)}),_N_E=e.O()}]);