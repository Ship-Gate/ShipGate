"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[540],{73458:function(t,e,n){n.d(e,{Ol:function(){return a},SZ:function(){return d},Zb:function(){return s},aY:function(){return u},ll:function(){return c}});var i=n(80782),o=n(40618),r=n(59971);let s=o.forwardRef((t,e)=>{let{className:n,...o}=t;return(0,i.jsx)("div",{ref:e,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...o})});s.displayName="Card";let a=o.forwardRef((t,e)=>{let{className:n,...o}=t;return(0,i.jsx)("div",{ref:e,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",n),...o})});a.displayName="CardHeader";let c=o.forwardRef((t,e)=>{let{className:n,...o}=t;return(0,i.jsx)("h3",{ref:e,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",n),...o})});c.displayName="CardTitle";let d=o.forwardRef((t,e)=>{let{className:n,...o}=t;return(0,i.jsx)("p",{ref:e,className:(0,r.cn)("text-sm text-muted-foreground",n),...o})});d.displayName="CardDescription";let u=o.forwardRef((t,e)=>{let{className:n,...o}=t;return(0,i.jsx)("div",{ref:e,className:(0,r.cn)("p-6 pt-0",n),...o})});u.displayName="CardContent",o.forwardRef((t,e)=>{let{className:n,...o}=t;return(0,i.jsx)("div",{ref:e,className:(0,r.cn)("flex items-center p-6 pt-0",n),...o})}).displayName="CardFooter"},47492:function(t,e,n){n.d(e,{f_:function(){return y},ay:function(){return w},xx:function(){return S},sR:function(){return P},J9:function(){return b},cy:function(){return k},Sr:function(){return T},Tu:function(){return U},VH:function(){return x},Fq:function(){return E},_d:function(){return N},fv:function(){return C}});var i,o=n(40618);let r=n(37269).env.NEXT_PUBLIC_API_URL||"/api";class s{async fetch(t,e){let n=await fetch("".concat(this.baseUrl).concat(t),{...e,headers:{"Content-Type":"application/json",...null==e?void 0:e.headers}});if(!n.ok)throw Error("API error: ".concat(n.status," ").concat(n.statusText));return n.json()}async getDashboardStats(){return this.fetch("/dashboard/stats")}async getDomains(){return this.fetch("/domains")}async getDomain(t){return this.fetch("/domains/".concat(t))}async getDomainBehaviors(t){return this.fetch("/domains/".concat(t,"/behaviors"))}async getDomainVerifications(t){return this.fetch("/domains/".concat(t,"/verifications"))}async getVerifications(){return this.fetch("/verifications")}async getVerification(t){return this.fetch("/verifications/".concat(t))}async triggerVerification(t){return this.fetch("/domains/".concat(t,"/verify"),{method:"POST"})}constructor(t=r){this.baseUrl=t}}let a=new s,c={stats:()=>({totalDomains:12,totalBehaviors:87,totalVerifications:234,averageTrustScore:.847,passingDomains:9,failingDomains:3,recentVerifications:c.verifications().slice(0,5),trustScoreHistory:[{date:"2026-01-25",score:.82},{date:"2026-01-26",score:.84},{date:"2026-01-27",score:.81},{date:"2026-01-28",score:.85},{date:"2026-01-29",score:.87},{date:"2026-01-30",score:.84},{date:"2026-01-31",score:.85}]}),domains:()=>[{id:"auth",name:"Authentication",description:"User authentication and session management",behaviorCount:12,lastVerified:"2026-01-31T10:30:00Z",trustScore:.95,status:"verified"},{id:"payments",name:"Payments",description:"Payment processing and billing",behaviorCount:18,lastVerified:"2026-01-31T09:15:00Z",trustScore:.72,status:"failing"},{id:"inventory",name:"Inventory",description:"Product inventory management",behaviorCount:8,lastVerified:"2026-01-30T16:45:00Z",trustScore:.88,status:"verified"},{id:"notifications",name:"Notifications",description:"Email and push notifications",behaviorCount:6,lastVerified:null,trustScore:0,status:"pending"},{id:"analytics",name:"Analytics",description:"User analytics and reporting",behaviorCount:15,lastVerified:"2026-01-31T08:00:00Z",trustScore:.91,status:"verified"},{id:"orders",name:"Orders",description:"Order processing and fulfillment",behaviorCount:22,lastVerified:"2026-01-30T22:30:00Z",trustScore:.65,status:"failing"}],behaviors:t=>[{id:"".concat(t,"-1"),name:"User Login",description:"Authenticates user with credentials",domainId:t,preconditions:["User exists","Password is valid"],postconditions:["Session created","Token returned"],testCount:5},{id:"".concat(t,"-2"),name:"User Logout",description:"Terminates user session",domainId:t,preconditions:["User is logged in"],postconditions:["Session destroyed","Token invalidated"],testCount:3},{id:"".concat(t,"-3"),name:"Password Reset",description:"Initiates password reset flow",domainId:t,preconditions:["User exists","Email is verified"],postconditions:["Reset token created","Email sent"],testCount:4}],verifications:()=>[{id:"v1",domainId:"auth",domainName:"Authentication",timestamp:"2026-01-31T10:30:00Z",duration:12500,verdict:"pass",trustScore:.95,coverage:{behaviors:12,totalBehaviors:12,preconditions:24,totalPreconditions:24,postconditions:36,totalPostconditions:38},results:[]},{id:"v2",domainId:"payments",domainName:"Payments",timestamp:"2026-01-31T09:15:00Z",duration:45200,verdict:"fail",trustScore:.72,coverage:{behaviors:15,totalBehaviors:18,preconditions:30,totalPreconditions:36,postconditions:42,totalPostconditions:54},results:[]},{id:"v3",domainId:"analytics",domainName:"Analytics",timestamp:"2026-01-31T08:00:00Z",duration:8900,verdict:"pass",trustScore:.91,coverage:{behaviors:14,totalBehaviors:15,preconditions:28,totalPreconditions:30,postconditions:45,totalPostconditions:48},results:[]},{id:"v4",domainId:"orders",domainName:"Orders",timestamp:"2026-01-30T22:30:00Z",duration:67800,verdict:"fail",trustScore:.65,coverage:{behaviors:18,totalBehaviors:22,preconditions:36,totalPreconditions:44,postconditions:52,totalPostconditions:66},results:[]},{id:"v5",domainId:"inventory",domainName:"Inventory",timestamp:"2026-01-30T16:45:00Z",duration:5600,verdict:"pass",trustScore:.88,coverage:{behaviors:7,totalBehaviors:8,preconditions:14,totalPreconditions:16,postconditions:21,totalPostconditions:24},results:[]}],verification:t=>({id:t,domainId:"auth",domainName:"Authentication",timestamp:"2026-01-31T10:30:00Z",duration:12500,verdict:"pass",trustScore:.95,coverage:{behaviors:12,totalBehaviors:12,preconditions:24,totalPreconditions:24,postconditions:36,totalPostconditions:38},results:[{behaviorId:"auth-1",behaviorName:"User Login",verdict:"pass",duration:2300,tests:[{name:"should login with valid credentials",verdict:"pass",duration:450,preconditionResults:[{condition:"User exists",passed:!0},{condition:"Password is valid",passed:!0}],postconditionResults:[{condition:"Session created",passed:!0},{condition:"Token returned",passed:!0}]},{name:"should reject invalid password",verdict:"pass",duration:380,preconditionResults:[{condition:"User exists",passed:!0},{condition:"Password is invalid",passed:!0}],postconditionResults:[{condition:"Error returned",passed:!0},{condition:"No session created",passed:!0}]}]},{behaviorId:"auth-2",behaviorName:"User Logout",verdict:"pass",duration:1200,tests:[{name:"should destroy session on logout",verdict:"pass",duration:320,preconditionResults:[{condition:"User is logged in",passed:!0}],postconditionResults:[{condition:"Session destroyed",passed:!0},{condition:"Token invalidated",passed:!0}]}]},{behaviorId:"auth-3",behaviorName:"Password Reset",verdict:"partial",duration:3400,tests:[{name:"should send reset email",verdict:"pass",duration:890,preconditionResults:[{condition:"User exists",passed:!0},{condition:"Email is verified",passed:!0}],postconditionResults:[{condition:"Reset token created",passed:!0},{condition:"Email sent",passed:!0}]},{name:"should expire old tokens",verdict:"fail",duration:560,message:"Expected old token to be invalidated",preconditionResults:[{condition:"Old token exists",passed:!0}],postconditionResults:[{condition:"Old token invalidated",passed:!1,expected:"true",actual:"false"}]}]}]})},d=(null===(i=n(37269).env.NEXT_PUBLIC_API_URL)||void 0===i?void 0:i.replace(/\/$/,""))||"http://localhost:3700/api/v1";async function u(t,e){let n=await fetch(t,{...e,headers:{"Content-Type":"application/json",...null==e?void 0:e.headers}});if(!n.ok)throw Error((await n.json().catch(()=>({}))).error||n.statusText);return n.json()}async function l(){var t,e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=function(t){let e=new URLSearchParams;for(let[n,i]of Object.entries(t))void 0!==i&&""!==i&&e.set(n,String(i));let n=e.toString();return n?"?".concat(n):""}({repo:n.repo,branch:n.branch,verdict:n.verdict,q:n.q,from:n.from,to:n.to,page:null!==(t=n.page)&&void 0!==t?t:1,limit:null!==(e=n.limit)&&void 0!==e?e:20});return u("".concat(d,"/reports").concat(i))}async function f(t){return(await u("".concat(d,"/reports/").concat(encodeURIComponent(t)))).data}async function m(t){return(await u("".concat(d,"/reports/").concat(encodeURIComponent(t),"/diff"))).data}async function p(t){var e,n,i,o;return(await u("".concat(d,"/proof-bundles"),{method:"POST",body:JSON.stringify({proofBundle:t.proofBundle,repo:null!==(e=t.repo)&&void 0!==e?e:"unknown",branch:null!==(n=t.branch)&&void 0!==n?n:"main",commit:null!==(i=t.commit)&&void 0!==i?i:"unknown",pr:t.pr,triggeredBy:null!==(o=t.triggeredBy)&&void 0!==o?o:"manual"})})).data}let v="false"!==n(37269).env.NEXT_PUBLIC_USE_MOCK;function h(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],[i,r]=(0,o.useState)(null),[s,a]=(0,o.useState)(!0),[c,d]=(0,o.useState)(null),u=(0,o.useCallback)(async()=>{a(!0),d(null);try{if(v)await new Promise(t=>setTimeout(t,300)),r(e());else{let e=await t();r(e)}}catch(t){d(t instanceof Error?t:Error("Unknown error"))}finally{a(!1)}},n);return(0,o.useEffect)(()=>{u()},[u]),{data:i,loading:s,error:c,refetch:u}}function g(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[n,i]=(0,o.useState)(null),[r,s]=(0,o.useState)(!0),[a,c]=(0,o.useState)(null),d=(0,o.useCallback)(async()=>{s(!0),c(null);try{let e=await t();i(e)}catch(t){c(t instanceof Error?t:Error("Unknown error"))}finally{s(!1)}},e);return(0,o.useEffect)(()=>{d()},[d]),{data:n,loading:r,error:a,refetch:d}}function y(){return h(()=>a.getDashboardStats(),()=>c.stats(),[])}function b(){return h(()=>a.getDomains(),()=>c.domains(),[])}function w(t){return h(()=>a.getDomain(t),()=>c.domains().find(e=>e.id===t)||c.domains()[0],[t])}function S(t){return h(()=>a.getDomainBehaviors(t),()=>c.behaviors(t),[t])}function P(t){return h(()=>a.getDomainVerifications(t),()=>c.verifications().filter(e=>e.domainId===t),[t])}function C(){return h(()=>a.getVerifications(),()=>c.verifications(),[])}function N(t){return h(()=>a.getVerification(t),()=>c.verification(t),[t])}function x(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{repo:e,branch:n,verdict:i,q:o,from:r,to:s,page:a=1,limit:c=20}=t;return g(()=>l({repo:e,branch:n,verdict:i,q:o,from:r,to:s,page:a,limit:c}),[e,n,i,o,r,s,a,c])}function T(t){return g((0,o.useCallback)(()=>t?f(t):Promise.reject(Error("No id")),[t]),[null!=t?t:""])}function U(t){return g((0,o.useCallback)(()=>t?m(t):Promise.reject(Error("No id")),[t]),[null!=t?t:""])}function k(){let[t,e]=(0,o.useState)(!1),[n,i]=(0,o.useState)(null);return{ingest:(0,o.useCallback)(async t=>{e(!0),i(null);try{return await p(t)}catch(e){let t=e instanceof Error?e:Error("Unknown error");throw i(t),t}finally{e(!1)}},[]),loading:t,error:n}}function E(){let[t,e]=(0,o.useState)(!1),[n,i]=(0,o.useState)(null);return{trigger:(0,o.useCallback)(async t=>{e(!0),i(null);try{if(v)return await new Promise(t=>setTimeout(t,500)),{jobId:"job-".concat(Date.now())};return await a.triggerVerification(t)}catch(e){let t=e instanceof Error?e:Error("Unknown error");throw i(t),t}finally{e(!1)}},[]),loading:t,error:n}}},59971:function(t,e,n){n.d(e,{LU:function(){return a},cn:function(){return r},p6:function(){return s},rl:function(){return c}});var i=n(57204),o=n(70626);function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,o.m6)((0,i.W)(e))}function s(t){return("string"==typeof t?new Date(t):t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function a(t){return t<1e3?"".concat(t,"ms"):t<6e4?"".concat((t/1e3).toFixed(1),"s"):"".concat((t/6e4).toFixed(1),"m")}function c(t){return"".concat((100*t).toFixed(1),"%")}}}]);