(()=>{var e={};e.id=611,e.ids=[611],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5904:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=r(84841),a=r(54421),n=r(32994),i=r.n(n),l=r(27547),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["runs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,46772)),"C:\\Users\\mevla\\OneDrive\\Desktop\\projects\\IntentOS\\packages\\dashboard-web\\src\\app\\runs\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,55221)),"C:\\Users\\mevla\\OneDrive\\Desktop\\projects\\IntentOS\\packages\\dashboard-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35223,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\mevla\\OneDrive\\Desktop\\projects\\IntentOS\\packages\\dashboard-web\\src\\app\\runs\\page.tsx"],u="/runs/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/runs/page",pathname:"/runs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27744:(e,t,r)=>{Promise.resolve().then(r.bind(r,99475))},99475:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var s=r(19688),a=r(18123),n=r(85213),i=r(7521),l=r(91263),o=r(88048),d=r(10344),c=r(50202),u=r(4955),m=r(64175),x=r(90196);function p(e){let t=(0,m.Q)(e);return t.setHours(23,59,59,999),t}function f(e,t){let r=(0,m.Q)(e),s=(0,m.Q)(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}var h=r(74657),g=r(95845),b=r(75610),v=r(95944),j=r(34571);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,j.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),y=(0,j.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),D=(0,j.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),w=(0,j.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function S(){let[e,t]=(0,a.useState)(""),[r,j]=(0,a.useState)(""),[S,M]=(0,a.useState)(1),k=(0,a.useMemo)(()=>{let e=new Date;return{from:(0,u.b)(function(e,t){let r=(0,m.Q)(e);return isNaN(t)?(0,x.L)(e,NaN):(t&&r.setDate(r.getDate()+t),r)}(e,-30)).toISOString(),to:p(e).toISOString()}},[]),{data:P,loading:_,error:I,refetch:q}=(0,i.VH)({q:e||void 0,verdict:r||void 0,from:k.from,to:k.to,page:S,limit:20}),H=P?.data??[],Q=P?.pagination??{page:1,limit:20,total:0,totalPages:0},C=(0,a.useCallback)(e=>{e.preventDefault(),M(1),q()},[q]);return(0,s.jsxs)("div",{className:"container py-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Runs"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Verification run history — evidence and auditability"})]}),s.jsx(n.default,{href:"/runs/upload",children:(0,s.jsxs)(l.z,{variant:"default",className:"gap-2",children:[s.jsx(N,{className:"h-4 w-4","aria-hidden":!0}),"Ingest Proof Bundle"]})})]}),s.jsx(o.Zb,{children:(0,s.jsxs)(o.Ol,{children:[s.jsx(o.ll,{className:"text-base",children:"Filters"}),(0,s.jsxs)("form",{onSubmit:C,className:"flex flex-wrap gap-3 pt-2",children:[(0,s.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[s.jsx(y,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground","aria-hidden":!0}),s.jsx(d.I,{placeholder:"Search repo, branch, commit…",value:e,onChange:e=>t(e.target.value),className:"pl-9","aria-label":"Search runs"})]}),(0,s.jsxs)("select",{value:r,onChange:e=>j(e.target.value),className:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter by verdict",children:[s.jsx("option",{value:"",children:"All verdicts"}),s.jsx("option",{value:"SHIP",children:"Ship"}),s.jsx("option",{value:"WARN",children:"Warn"}),s.jsx("option",{value:"NO_SHIP",children:"No Ship"})]}),s.jsx(l.z,{type:"submit",variant:"secondary",children:"Apply"})]})]})}),s.jsx(o.Zb,{children:(0,s.jsxs)(o.aY,{className:"p-0",children:[I&&s.jsx("div",{className:"p-4 text-destructive text-sm",role:"alert",children:I.message}),_?s.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Loading runs…"}):0===H.length?(0,s.jsxs)("div",{className:"p-12 text-center space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"No runs yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a proof bundle or connect CI to see run history."}),s.jsx(n.default,{href:"/runs/upload",children:(0,s.jsxs)(l.z,{variant:"default",className:"gap-2",children:[s.jsx(N,{className:"h-4 w-4","aria-hidden":!0}),"Ingest Proof Bundle"]})})]}):s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm",role:"grid",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Repo"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Ref"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Verdict"}),s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Score"}),s.jsx("th",{className:"text-right py-3 px-4 font-medium",children:"Duration"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Commit"}),s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Timestamp"})]})}),s.jsx("tbody",{children:H.map(e=>{var t;return(0,s.jsxs)("tr",{className:"border-b hover:bg-muted/30 transition-colors cursor-pointer",onClick:()=>window.location.href=`/runs/${e.id}`,role:"row",tabIndex:0,onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),window.location.href=`/runs/${e.id}`)},children:[s.jsx("td",{className:"py-3 px-4 font-medium",children:e.repo}),s.jsx("td",{className:"py-3 px-4 font-mono text-xs",children:e.pr?`#${e.pr}`:e.branch}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(c.q,{verdict:e.verdict,size:"sm"})}),s.jsx("td",{className:"py-3 px-4 text-right",children:e.score}),s.jsx("td",{className:"py-3 px-4 text-right",children:e.duration>0?`${e.duration}ms`:"—"}),s.jsx("td",{className:"py-3 px-4 font-mono text-xs truncate max-w-[120px]",children:e.commit.slice(0,7)}),s.jsx("td",{className:"py-3 px-4 text-muted-foreground",children:function(e,t,r){var s,a,n,i;let l,o,d;let c=(0,b.j)(),u=r?.locale??c.locale??g._,x=f(e,t);if(isNaN(x))throw RangeError("Invalid time value");let j=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:x});x>0?(l=(0,m.Q)(t),o=(0,m.Q)(e)):(l=(0,m.Q)(e),o=(0,m.Q)(t));let N=(s=o,a=l,(i=void 0,e=>{let t=(i?Math[i]:Math.trunc)(e);return 0===t?0:t})((+(0,m.Q)(s)-+(0,m.Q)(a))/1e3)),y=Math.round((N-((0,v.D)(o)-(0,v.D)(l))/1e3)/60);if(y<2){if(r?.includeSeconds){if(N<5)return u.formatDistance("lessThanXSeconds",5,j);if(N<10)return u.formatDistance("lessThanXSeconds",10,j);if(N<20)return u.formatDistance("lessThanXSeconds",20,j);if(N<40)return u.formatDistance("halfAMinute",0,j);else if(N<60)return u.formatDistance("lessThanXMinutes",1,j);else return u.formatDistance("xMinutes",1,j)}return 0===y?u.formatDistance("lessThanXMinutes",1,j):u.formatDistance("xMinutes",y,j)}if(y<45)return u.formatDistance("xMinutes",y,j);if(y<90)return u.formatDistance("aboutXHours",1,j);if(y<h.H_)return u.formatDistance("aboutXHours",Math.round(y/60),j);if(y<2520)return u.formatDistance("xDays",1,j);if(y<h.fH){let e=Math.round(y/h.H_);return u.formatDistance("xDays",e,j)}if(y<2*h.fH)return d=Math.round(y/h.fH),u.formatDistance("aboutXMonths",d,j);if((d=function(e,t){let r;let s=(0,m.Q)(e),a=(0,m.Q)(t),n=f(s,a),i=Math.abs(function(e,t){let r=(0,m.Q)(e),s=(0,m.Q)(t);return 12*(r.getFullYear()-s.getFullYear())+(r.getMonth()-s.getMonth())}(s,a));if(i<1)r=0;else{1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-n*i);let t=f(s,a)===-n;(function(e){let t=(0,m.Q)(e);return+p(t)==+function(e){let t=(0,m.Q)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}(t)})((0,m.Q)(e))&&1===i&&1===f(e,a)&&(t=!1),r=n*(i-Number(t))}return 0===r?0:r}(o,l))<12){let e=Math.round(y/h.fH);return u.formatDistance("xMonths",e,j)}{let e=d%12,t=Math.trunc(d/12);return e<3?u.formatDistance("aboutXYears",t,j):e<9?u.formatDistance("overXYears",t,j):u.formatDistance("almostXYears",t+1,j)}}(t=new Date(e.timestamp),(0,x.L)(t,Date.now()),{addSuffix:!0})})]},e.id)})})]})}),Q.totalPages>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4 p-4 border-t",children:[(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Page ",Q.page," of ",Q.totalPages," \xb7 ",Q.total," ","total"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(l.z,{variant:"outline",size:"sm",disabled:S<=1,onClick:()=>M(e=>Math.max(1,e-1)),"aria-label":"Previous page",children:s.jsx(D,{className:"h-4 w-4"})}),s.jsx(l.z,{variant:"outline",size:"sm",disabled:S>=Q.totalPages,onClick:()=>M(e=>e+1),"aria-label":"Next page",children:s.jsx(w,{className:"h-4 w-4"})})]})]})]})})]})}},50202:(e,t,r)=>{"use strict";r.d(t,{q:()=>i});var s=r(19688),a=r(31296);let n={SHIP:{label:"Ship",className:"bg-emerald-100 text-emerald-800 border-emerald-200"},WARN:{label:"Warn",className:"bg-amber-100 text-amber-800 border-amber-200"},NO_SHIP:{label:"No Ship",className:"bg-red-100 text-red-800 border-red-200"}};function i({verdict:e,size:t="md"}){let{label:r,className:i}=n[e]??n.NO_SHIP;return s.jsx("span",{className:(0,a.cn)("inline-flex items-center font-medium rounded-full border",i,"sm"===t?"text-xs px-2 py-0.5":"text-sm px-2.5 py-1"),role:"status","aria-label":`Verdict: ${r}`,children:r})}},10344:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var s=r(19688),a=r(18123),n=r(31296);let i=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));i.displayName="Input"},46772:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let s=(0,r(45968).createProxy)(String.raw`C:\Users\mevla\OneDrive\Desktop\projects\IntentOS\packages\dashboard-web\src\app\runs\page.tsx`),{__esModule:a,$$typeof:n}=s,i=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[230,102,158,97,987],()=>r(5904));module.exports=s})();