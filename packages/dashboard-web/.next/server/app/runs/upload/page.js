(()=>{var e={};e.id=565,e.ids=[565],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10104:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=r(84841),s=r(54421),n=r(32994),o=r.n(n),l=r(27547),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["runs",{children:["upload",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,35661)),"C:\\Users\\mevla\\OneDrive\\Desktop\\projects\\IntentOS\\packages\\dashboard-web\\src\\app\\runs\\upload\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,55221)),"C:\\Users\\mevla\\OneDrive\\Desktop\\projects\\IntentOS\\packages\\dashboard-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35223,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\mevla\\OneDrive\\Desktop\\projects\\IntentOS\\packages\\dashboard-web\\src\\app\\runs\\upload\\page.tsx"],u="/runs/upload/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/runs/upload/page",pathname:"/runs/upload",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},42651:(e,t,r)=>{Promise.resolve().then(r.bind(r,81367))},34571:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(18123),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,a.forwardRef)(({color:r="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:d="",children:c,...u},p)=>(0,a.createElement)("svg",{ref:p,...s,width:o,height:o,stroke:r,strokeWidth:i?24*Number(l)/Number(o):l,className:["lucide",`lucide-${n(e)}`,d].join(" "),...u},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r}},86661:(e,t,r)=>{"use strict";var a=r(76694);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},81367:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(19688),s=r(18123),n=r(86661),o=r(7521),l=r(88048),i=r(10344);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,r(34571).Z)("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);function c(){let e=(0,n.useRouter)(),{ingest:t,loading:r,error:c}=(0,o.cy)(),[u,p]=(0,s.useState)(!1),[m,h]=(0,s.useState)(null),[x,b]=(0,s.useState)(""),[f,g]=(0,s.useState)("main"),[v,j]=(0,s.useState)(""),k=(0,s.useCallback)(async r=>{if(h(null),!r||"object"!=typeof r||!("schemaVersion"in r)||"1.0.0"!==r.schemaVersion){h('Invalid proof bundle: must have schemaVersion "1.0.0"');return}try{let a=await t({proofBundle:r,repo:x||"unknown",branch:f||"main",commit:v||"unknown",triggeredBy:"manual"});e.push(`/runs/${a.id}`)}catch{}},[t,x,f,v,e]),y=(0,s.useCallback)(e=>{let t=new FileReader;t.onload=()=>{try{let e=JSON.parse(t.result);k(e)}catch{h("Invalid JSON file")}},t.onerror=()=>h("Failed to read file"),t.readAsText(e)},[k]),w=(0,s.useCallback)(e=>{e.preventDefault(),p(!1);let t=e.dataTransfer.files[0];t&&y(t)},[y]),N=(0,s.useCallback)(e=>{e.preventDefault(),p(!0)},[]),C=(0,s.useCallback)(e=>{e.preventDefault(),p(!1)},[]),P=(0,s.useCallback)(e=>{let t=e.target.files?.[0];t&&y(t),e.target.value=""},[y]);return(0,a.jsxs)("div",{className:"container py-6 space-y-6 max-w-2xl",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Ingest Proof Bundle"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload a proof bundle JSON file to add a run to the dashboard"})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{className:"text-base",children:"Run metadata (optional)"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Override repo, branch, and commit if not present in the bundle"})]}),(0,a.jsxs)(l.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"repo",className:"text-sm font-medium block mb-1",children:"Repo"}),a.jsx(i.I,{id:"repo",placeholder:"owner/repo",value:x,onChange:e=>b(e.target.value),"aria-label":"Repository name"})]}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"branch",className:"text-sm font-medium block mb-1",children:"Branch"}),a.jsx(i.I,{id:"branch",placeholder:"main",value:f,onChange:e=>g(e.target.value),"aria-label":"Branch name"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"commit",className:"text-sm font-medium block mb-1",children:"Commit"}),a.jsx(i.I,{id:"commit",placeholder:"abc123...",value:v,onChange:e=>j(e.target.value),"aria-label":"Commit SHA"})]})]})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{className:"text-base",children:"Proof bundle file"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag and drop a .json file or click to browse. Must comply with ProofBundleV1 schema."})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsxs)("div",{onDrop:w,onDragOver:N,onDragLeave:C,className:`relative flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-12 transition-colors ${u?"border-primary bg-primary/5":"border-muted-foreground/25"}`,children:[a.jsx("input",{type:"file",accept:".json,application/json",onChange:P,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","aria-label":"Select proof bundle JSON file"}),a.jsx(d,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium mb-1",children:"Drop proof bundle here or click to browse"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"JSON file with schemaVersion 1.0.0"})]}),(c||m)&&a.jsx("p",{className:"mt-4 text-sm text-destructive",role:"alert",children:c?.message??m}),r&&a.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Uploading and validatingâ€¦"})]})]})]})}},10344:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var a=r(19688),s=r(18123),n=r(31296);let o=s.forwardRef(({className:e,type:t,...r},s)=>a.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));o.displayName="Input"},35661:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>o});let a=(0,r(45968).createProxy)(String.raw`C:\Users\mevla\OneDrive\Desktop\projects\IntentOS\packages\dashboard-web\src\app\runs\upload\page.tsx`),{__esModule:s,$$typeof:n}=a,o=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[230,102,987],()=>r(10104));module.exports=a})();