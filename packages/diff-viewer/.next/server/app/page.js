(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8305:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>r.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>o});var i=n(8090),s=n(9409),a=n(1522),r=n.n(a),l=n(1305),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);n.d(t,d);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,1342)),"C:\\Users\\mevla\\OneDrive\\Desktop\\IntentOS\\packages\\diff-viewer\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,2204)),"C:\\Users\\mevla\\OneDrive\\Desktop\\IntentOS\\packages\\diff-viewer\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,111,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\mevla\\OneDrive\\Desktop\\IntentOS\\packages\\diff-viewer\\src\\app\\page.tsx"],m="/page",p={require:n,loadChunk:()=>Promise.resolve()},h=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5954:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,1170,23)),Promise.resolve().then(n.t.bind(n,3082,23)),Promise.resolve().then(n.t.bind(n,6181,23)),Promise.resolve().then(n.t.bind(n,5381,23)),Promise.resolve().then(n.t.bind(n,6205,23)),Promise.resolve().then(n.t.bind(n,4266,23))},3394:()=>{},7669:(e,t,n)=>{Promise.resolve().then(n.bind(n,2989))},2989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ea});var i=n(4297),s=n(5803),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let n=(0,s.forwardRef)(({color:n="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:o="",children:c,...m},p)=>(0,s.createElement)("svg",{ref:p,...a,width:i,height:i,stroke:n,strokeWidth:d?24*Number(l)/Number(i):l,className:["lucide",`lucide-${r(e)}`,o].join(" "),...m},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n},d=l("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),o=l("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),c=l("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),m=l("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),p=l("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),h=l("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]),u=l("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);function x(){}x.prototype={diff:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.callback;"function"==typeof i&&(s=i,i={}),this.options=i;var a=this;function r(e){return s?(setTimeout(function(){s(void 0,e)},0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var l=(t=this.removeEmpty(this.tokenize(t))).length,d=e.length,o=1,c=l+d;i.maxEditLength&&(c=Math.min(c,i.maxEditLength));var m=null!==(n=i.timeout)&&void 0!==n?n:1/0,p=Date.now()+m,h=[{oldPos:-1,lastComponent:void 0}],u=this.extractCommon(h[0],t,e,0);if(h[0].oldPos+1>=d&&u+1>=l)return r([{value:this.join(t),count:t.length}]);var x=-1/0,g=1/0;function f(){for(var n=Math.max(x,-o);n<=Math.min(g,o);n+=2){var i=void 0,s=h[n-1],c=h[n+1];s&&(h[n-1]=void 0);var m=!1;if(c){var p=c.oldPos-n;m=c&&0<=p&&p<l}var f=s&&s.oldPos+1<d;if(!m&&!f){h[n]=void 0;continue}if(i=!f||m&&s.oldPos+1<c.oldPos?a.addToPath(c,!0,void 0,0):a.addToPath(s,void 0,!0,1),u=a.extractCommon(i,t,e,n),i.oldPos+1>=d&&u+1>=l)return r(function(e,t,n,i,s){for(var a,r=[];t;)r.push(t),a=t.previousComponent,delete t.previousComponent,t=a;r.reverse();for(var l=0,d=r.length,o=0,c=0;l<d;l++){var m=r[l];if(m.removed){if(m.value=e.join(i.slice(c,c+m.count)),c+=m.count,l&&r[l-1].added){var p=r[l-1];r[l-1]=r[l],r[l]=p}}else{if(!m.added&&s){var h=n.slice(o,o+m.count);h=h.map(function(e,t){var n=i[c+t];return n.length>e.length?n:e}),m.value=e.join(h)}else m.value=e.join(n.slice(o,o+m.count));o+=m.count,m.added||(c+=m.count)}}var u=r[d-1];return d>1&&"string"==typeof u.value&&(u.added||u.removed)&&e.equals("",u.value)&&(r[d-2].value+=u.value,r.pop()),r}(a,i.lastComponent,t,e,a.useLongestToken));h[n]=i,i.oldPos+1>=d&&(g=Math.min(g,n-1)),u+1>=l&&(x=Math.max(x,n+1))}o++}if(s)!function e(){setTimeout(function(){if(o>c||Date.now()>p)return s();f()||e()},0)}();else for(;o<=c&&Date.now()<=p;){var y=f();if(y)return y}},addToPath:function(e,t,n,i){var s=e.lastComponent;return s&&s.added===t&&s.removed===n?{oldPos:e.oldPos+i,lastComponent:{count:s.count+1,added:t,removed:n,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+i,lastComponent:{count:1,added:t,removed:n,previousComponent:s}}},extractCommon:function(e,t,n,i){for(var s=t.length,a=n.length,r=e.oldPos,l=r-i,d=0;l+1<s&&r+1<a&&this.equals(t[l+1],n[r+1]);)l++,r++,d++;return d&&(e.lastComponent={count:d,previousComponent:e.lastComponent}),e.oldPos=r,l},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}},new x;var g=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,f=/\S/,y=new x;y.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!f.test(e)&&!f.test(t)},y.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&g.test(t[n])&&g.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var v=new x;function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}v.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,"\n"));var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var i=0;i<n.length;i++){var s=n[i];i%2&&!this.options.newlineIsToken?t[t.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),t.push(s))}return t},new x().tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)},new x().tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var k=Object.prototype.toString,_=new x;_.useLongestToken=!0,_.tokenize=v.tokenize,_.castInput=function(e){var t=this.options,n=t.undefinedReplacement,i=t.stringifyReplacer,s=void 0===i?function(e,t){return void 0===t?n:t}:i;return"string"==typeof e?e:JSON.stringify(function e(t,n,i,s,a){for(n=n||[],i=i||[],s&&(t=s(a,t)),r=0;r<n.length;r+=1)if(n[r]===t)return i[r];if("[object Array]"===k.call(t)){for(n.push(t),l=Array(t.length),i.push(l),r=0;r<t.length;r+=1)l[r]=e(t[r],n,i,s,a);return n.pop(),i.pop(),l}if(t&&t.toJSON&&(t=t.toJSON()),"object"===b(t)&&null!==t){n.push(t),l={},i.push(l);var r,l,d,o=[];for(d in t)t.hasOwnProperty(d)&&o.push(d);for(o.sort(),r=0;r<o.length;r+=1)l[d=o[r]]=e(t[d],n,i,s,d);n.pop(),i.pop()}else l=t;return l}(e,null,null,s),s,"  ")},_.equals=function(e,t){return x.prototype.equals.call(_,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var L=new x;function C(e){return Array.isArray(e)?e.map(C).reverse():j(j({},e),{},{oldFileName:e.newFileName,oldHeader:e.newHeader,newFileName:e.oldFileName,newHeader:e.oldHeader,hunks:e.hunks.map(function(e){return{oldLines:e.newLines,oldStart:e.newStart,newLines:e.oldLines,newStart:e.oldStart,linedelimiters:e.linedelimiters,lines:e.lines.map(function(e){return e.startsWith("-")?"+".concat(e.slice(1)):e.startsWith("+")?"-".concat(e.slice(1)):e})}})})}function $(e,t){let n=v.diff(e,t,void 0),i=[],s=null,a=1,r=1;for(let e of n){let t=e.value.split("\n").filter((e,t,n)=>t<n.length-1||""!==e);if(e.added||e.removed)for(let n of(s||(s={oldStart:a,oldLines:0,newStart:r,newLines:0,lines:[]}),t)){let t={lineNumber:e.added?r:a,type:e.added?"added":"removed",content:n,oldLineNumber:e.removed?a:void 0,newLineNumber:e.added?r:void 0};s.lines.push(t),e.added?(s.newLines++,r++):(s.oldLines++,a++)}else{if(s&&s.lines.length>0){let e=Math.min(3,t.length);for(let n=0;n<e;n++)s.lines.push({lineNumber:a+n,type:"unchanged",content:t[n],oldLineNumber:a+n,newLineNumber:r+n});t.length>3&&(i.push(s),s=null)}a+=t.length,r+=t.length}}s&&s.lines.length>0&&i.push(s);let l=0,d=0;for(let e of i)for(let t of e.lines)"added"===t.type&&l++,"removed"===t.type&&d++;return{oldContent:e,newContent:t,hunks:i,additions:l,deletions:d}}function S(e){let t={domain:{name:"",version:""},types:new Map,entities:new Map,behaviors:new Map},n=e.split("\n"),i="root",s=null,a=null,r=0;for(let e=0;e<n.length;e++){let l=n[e].trim(),d=e+1;r+=(l.match(/{/g)||[]).length,r-=(l.match(/}/g)||[]).length;let o=l.match(/^domain\s+(\w+)\s*\{/);if(o){t.domain.name=o[1];continue}let c=l.match(/version:\s*"([^"]+)"/);if(c){t.domain.version=c[1];continue}let m=l.match(/^type\s+(\w+)\s*=/);if(m){t.types.set(m[1],{name:m[1],definition:l,constraints:[],line:d});continue}let p=l.match(/^entity\s+(\w+)\s*\{/);if(p){i="entity",s={name:p[1],fields:new Map,invariants:[],line:d};continue}let h=l.match(/^behavior\s+(\w+)\s*\{/);if(h){i="behavior",a={name:h[1],inputFields:new Map,outputType:"",errors:[],preconditions:[],postconditions:[],temporal:[],security:[],line:d};continue}if("entity"===i&&s){let e=l.match(/^(\w+)(\?)?:\s*(\S+)/);if(e){let t=[];for(let e of l.matchAll(/\[([^\]]+)\]/g))t.push(...e[1].split(",").map(e=>e.trim()));s.fields.set(e[1],{name:e[1],type:e[3],optional:"?"===e[2],annotations:t,line:d})}"}"===l&&r<=1&&(t.entities.set(s.name,s),s=null,i="root")}"behavior"===i&&a&&"}"===l&&r<=1&&(t.behaviors.set(a.name,a),a=null,i="root")}return t}function P(e,t){let n=S(e),i=S(t),s=[],a=0,r=()=>`change-${++a}`;for(let[e,t]of(n.domain.version!==i.domain.version&&s.push({id:r(),type:"domain_version_changed",path:["domain","version"],oldValue:n.domain.version,newValue:i.domain.version,description:`Version changed from ${n.domain.version} to ${i.domain.version}`,breakingLevel:"safe"}),i.types)){let i=n.types.get(e);i?i.definition!==t.definition&&s.push({id:r(),type:"type_constraint_modified",path:["types",e],oldValue:i.definition,newValue:t.definition,description:`Type '${e}' definition changed`,breakingLevel:"warning",location:{oldLine:i.line,newLine:t.line}}):s.push({id:r(),type:"type_added",path:["types",e],newValue:t.definition,description:`Type '${e}' was added`,breakingLevel:"safe",location:{newLine:t.line}})}for(let[e,t]of n.types)i.types.has(e)||s.push({id:r(),type:"type_removed",path:["types",e],oldValue:t.definition,description:`Type '${e}' was removed`,breakingLevel:"breaking",location:{oldLine:t.line}});for(let[e,t]of i.entities){let i=n.entities.get(e);i?s.push(...function(e,t,n){let i=[],s=t.name;for(let[a,r]of t.fields){let t=e.fields.get(a);if(t){t.type!==r.type&&i.push({id:n(),type:"field_type_changed",path:["entities",s,"fields",a,"type"],oldValue:t.type,newValue:r.type,description:`Field '${a}' type changed from '${t.type}' to '${r.type}'`,breakingLevel:"breaking",location:{oldLine:t.line,newLine:r.line}}),t.optional&&!r.optional?i.push({id:n(),type:"field_made_required",path:["entities",s,"fields",a,"optional"],oldValue:!0,newValue:!1,description:`Field '${a}' in '${s}' is now required`,breakingLevel:"breaking",location:{oldLine:t.line,newLine:r.line}}):!t.optional&&r.optional&&i.push({id:n(),type:"field_made_optional",path:["entities",s,"fields",a,"optional"],oldValue:!1,newValue:!0,description:`Field '${a}' in '${s}' is now optional`,breakingLevel:"safe",location:{oldLine:t.line,newLine:r.line}});let e=r.annotations.filter(e=>!t.annotations.includes(e)),l=t.annotations.filter(e=>!r.annotations.includes(e));for(let t of e)i.push({id:n(),type:"field_annotation_added",path:["entities",s,"fields",a,"annotations",t],newValue:t,description:`Annotation '${t}' added to '${s}.${a}'`,breakingLevel:"safe",location:{newLine:r.line}});for(let e of l)i.push({id:n(),type:"field_annotation_removed",path:["entities",s,"fields",a,"annotations",e],oldValue:e,description:`Annotation '${e}' removed from '${s}.${a}'`,breakingLevel:"warning",location:{oldLine:t.line}})}else{let e=r.optional?"safe":"breaking";i.push({id:n(),type:"field_added",path:["entities",s,"fields",a],newValue:`${r.type}${r.optional?"?":""}`,description:`Field '${a}' was added to '${s}'${r.optional?"":" (required, breaking)"}`,breakingLevel:e,location:{newLine:r.line}})}}for(let[a,r]of e.fields)t.fields.has(a)||i.push({id:n(),type:"field_removed",path:["entities",s,"fields",a],oldValue:`${r.type}${r.optional?"?":""}`,description:`Field '${a}' was removed from '${s}'`,breakingLevel:"breaking",location:{oldLine:r.line}});return i}(i,t,r)):s.push({id:r(),type:"entity_added",path:["entities",e],description:`Entity '${e}' was added`,breakingLevel:"safe",location:{newLine:t.line}})}for(let[e,t]of n.entities)i.entities.has(e)||s.push({id:r(),type:"entity_removed",path:["entities",e],description:`Entity '${e}' was removed`,breakingLevel:"breaking",location:{oldLine:t.line}});for(let[e,t]of i.behaviors)n.behaviors.get(e)||s.push({id:r(),type:"behavior_added",path:["behaviors",e],description:`Behavior '${e}' was added`,breakingLevel:"safe",location:{newLine:t.line}});for(let[e,t]of n.behaviors)i.behaviors.has(e)||s.push({id:r(),type:"behavior_removed",path:["behaviors",e],description:`Behavior '${e}' was removed`,breakingLevel:"breaking",location:{oldLine:t.line}});return s}function q(e,t){let n=$(e,t),i=P(e,t),s=function(e){let t=[],n=0,i=e.filter(e=>"breaking"===e.breakingLevel),s=i.filter(e=>"field_removed"===e.type),a=i.filter(e=>"field_type_changed"===e.type),r=i.filter(e=>"entity_removed"===e.type);i.filter(e=>"behavior_removed"===e.type);let l=i.filter(e=>"field_made_required"===e.type),d=i.filter(e=>"field_added"===e.type&&"breaking"===e.breakingLevel);if(s.length>0&&t.push({id:`hint-${++n}`,title:"Handle Removed Fields",description:`${s.length} field(s) have been removed. Update code that references these fields.`,severity:"critical",changeIds:s.map(e=>e.id),steps:[{order:1,title:"Update data models",description:"Remove references to deleted fields in your data models and DTOs.",required:!0},{order:2,title:"Update database schema",description:"Create a migration to remove the columns (after data migration if needed).",required:!0},{order:3,title:"Update API consumers",description:"Notify API consumers that these fields are no longer available.",required:!1}]}),a.length>0&&t.push({id:`hint-${++n}`,title:"Migrate Field Type Changes",description:`${a.length} field(s) have changed types. Data migration required.`,severity:"critical",changeIds:a.map(e=>e.id),steps:[{order:1,title:"Create migration script",description:"Write a migration to convert existing data to the new type.",required:!0},{order:2,title:"Update validation",description:"Ensure validation rules match the new type constraints.",required:!0},{order:3,title:"Update serialization",description:"Update JSON/API serialization to handle the new type.",required:!0}],codeExample:{before:a[0]?.oldValue||"",after:a[0]?.newValue||"",language:"typescript"}}),r.length>0&&t.push({id:`hint-${++n}`,title:"Handle Removed Entities",description:`${r.length} entity/entities have been removed. Major refactoring required.`,severity:"critical",changeIds:r.map(e=>e.id),steps:[{order:1,title:"Archive data",description:"Backup or archive any data from removed entities before deletion.",required:!0},{order:2,title:"Remove references",description:"Remove all code references to the deleted entities.",required:!0},{order:3,title:"Drop database tables",description:"Create migration to drop the associated tables.",required:!0}]}),l.length>0||d.length>0){let e=[...l,...d];t.push({id:`hint-${++n}`,title:"Populate Required Fields",description:`${e.length} field(s) are now required. Existing records need default values.`,severity:"high",changeIds:e.map(e=>e.id),steps:[{order:1,title:"Set default values",description:"Determine appropriate default values for existing records.",required:!0},{order:2,title:"Run backfill migration",description:"Create and run a migration to populate the new required fields.",required:!0},{order:3,title:"Add NOT NULL constraint",description:"After backfill, add NOT NULL constraint to the database column.",required:!0}]})}return t}(i),a=i.filter(e=>"breaking"===e.breakingLevel).length,r=i.filter(e=>"warning"===e.breakingLevel).length;return{totalChanges:i.length,additions:n.additions,deletions:n.deletions,modifications:i.filter(e=>e.type.includes("modified")||e.type.includes("changed")).length,breakingChanges:a,warnings:r,semanticChanges:i,migrationHints:s}}function M({oldContent:e,newContent:t,oldVersion:n="Old",newVersion:a="New",showLineNumbers:r=!0,onLineClick:l}){let d=(0,s.useMemo)(()=>$(e,t),[e,t]),o=(0,s.useMemo)(()=>{let e=[];for(let t of d.hunks){let n=[],i=[],s=[];for(let e of t.lines)"removed"===e.type?n.push(e):"added"===e.type?i.push(e):s.push(e);let a=Math.max(n.length,i.length);for(let t=0;t<a;t++)e.push({oldLine:n[t]||null,newLine:i[t]||null});for(let t of s)e.push({oldLine:t,newLine:t})}return e},[d]),c=e=>{switch(e){case"added":return"bg-added-bg";case"removed":return"bg-removed-bg";default:return""}},m=e=>{switch(e){case"added":return"bg-added-line text-added-text";case"removed":return"bg-removed-line text-removed-text";default:return"bg-gray-50 text-gray-500"}};return(0,i.jsxs)("div",{className:"font-mono text-sm border border-gray-200 rounded-lg overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex border-b border-gray-200 bg-gray-50",children:[(0,i.jsxs)("div",{className:"flex-1 px-4 py-2 border-r border-gray-200",children:[i.jsx("span",{className:"font-semibold text-gray-700",children:n}),(0,i.jsxs)("span",{className:"ml-2 text-red-600",children:["−",d.deletions]})]}),(0,i.jsxs)("div",{className:"flex-1 px-4 py-2",children:[i.jsx("span",{className:"font-semibold text-gray-700",children:a}),(0,i.jsxs)("span",{className:"ml-2 text-green-600",children:["+",d.additions]})]})]}),(0,i.jsxs)("div",{className:"flex",children:[i.jsx("div",{className:"flex-1 border-r border-gray-200 overflow-x-auto",children:o.map((e,t)=>(0,i.jsxs)("div",{className:`flex min-h-[24px] ${c(e.oldLine?.type)}`,onClick:()=>e.oldLine?.oldLineNumber&&l?.(e.oldLine.oldLineNumber,"old"),children:[r&&i.jsx("div",{className:`w-12 px-2 text-right select-none flex-shrink-0 ${m(e.oldLine?.type)}`,children:e.oldLine?.oldLineNumber||""}),(0,i.jsxs)("div",{className:`flex-1 px-2 whitespace-pre ${e.oldLine?.type==="removed"?"text-removed-text":""}`,children:[e.oldLine?.type==="removed"&&i.jsx("span",{className:"select-none mr-1",children:"−"}),e.oldLine?.content??""]})]},`old-${t}`))}),i.jsx("div",{className:"flex-1 overflow-x-auto",children:o.map((e,t)=>(0,i.jsxs)("div",{className:`flex min-h-[24px] ${c(e.newLine?.type)}`,onClick:()=>e.newLine?.newLineNumber&&l?.(e.newLine.newLineNumber,"new"),children:[r&&i.jsx("div",{className:`w-12 px-2 text-right select-none flex-shrink-0 ${m(e.newLine?.type)}`,children:e.newLine?.newLineNumber||""}),(0,i.jsxs)("div",{className:`flex-1 px-2 whitespace-pre ${e.newLine?.type==="added"?"text-added-text":""}`,children:[e.newLine?.type==="added"&&i.jsx("span",{className:"select-none mr-1",children:"+"}),e.newLine?.content??""]})]},`new-${t}`))})]})]})}function A({oldContent:e,newContent:t,oldVersion:n="Old",newVersion:a="New",showLineNumbers:r=!0,contextLines:l=3,onLineClick:d}){let o=(0,s.useMemo)(()=>$(e,t),[e,t]),c=e=>{switch(e){case"added":return"bg-added-bg";case"removed":return"bg-removed-bg";default:return""}},m=e=>{switch(e){case"added":return"bg-added-line text-added-text";case"removed":return"bg-removed-line text-removed-text";default:return"bg-gray-50 text-gray-500"}},p=e=>{switch(e){case"added":return"+";case"removed":return"−";default:return" "}};return(0,i.jsxs)("div",{className:"font-mono text-sm border border-gray-200 rounded-lg overflow-hidden",children:[(0,i.jsxs)("div",{className:"px-4 py-2 border-b border-gray-200 bg-gray-50",children:[(0,i.jsxs)("span",{className:"font-semibold text-gray-700",children:[n," → ",a]}),(0,i.jsxs)("span",{className:"ml-4 text-red-600",children:["−",o.deletions]}),(0,i.jsxs)("span",{className:"ml-2 text-green-600",children:["+",o.additions]})]}),(0,i.jsxs)("div",{className:"overflow-x-auto",children:[o.hunks.map((e,t)=>(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"bg-blue-50 text-blue-700 px-4 py-1 text-xs border-b border-gray-200",children:["@@ -",e.oldStart,",",e.oldLines," +",e.newStart,",",e.newLines," @@"]}),e.lines.map((e,n)=>(0,i.jsxs)("div",{className:`flex min-h-[24px] ${c(e.type)} cursor-pointer hover:brightness-95`,onClick:()=>{let t="removed"===e.type?e.oldLineNumber:e.newLineNumber,n="removed"===e.type?"old":"new";t&&d?.(t,n)},children:[r&&(0,i.jsxs)(i.Fragment,{children:[i.jsx("div",{className:`w-12 px-2 text-right select-none flex-shrink-0 border-r border-gray-200 ${m(e.type)}`,children:"added"!==e.type?e.oldLineNumber:""}),i.jsx("div",{className:`w-12 px-2 text-right select-none flex-shrink-0 border-r border-gray-200 ${m(e.type)}`,children:"removed"!==e.type?e.newLineNumber:""})]}),i.jsx("div",{className:`w-6 text-center select-none flex-shrink-0 ${"added"===e.type?"text-added-text":"removed"===e.type?"text-removed-text":"text-gray-400"}`,children:p(e.type)}),i.jsx("div",{className:`flex-1 px-2 whitespace-pre ${"added"===e.type?"text-added-text":"removed"===e.type?"text-removed-text":""}`,children:e.content})]},`${t}-${n}`))]},t)),0===o.hunks.length&&i.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:"No differences found"})]})]})}L.tokenize=function(e){return e.slice()},L.join=L.removeEmpty=function(e){return e};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let E=l("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),I=l("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),V=l("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),D=l("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),O=l("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),T=l("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),U=l("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]),R=l("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),F=l("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),z=l("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),H=l("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),W={domain_version_changed:"documentation",domain_renamed:"schema",type_added:"schema",type_removed:"schema",type_renamed:"schema",type_constraint_added:"contract",type_constraint_removed:"contract",type_constraint_modified:"contract",entity_added:"schema",entity_removed:"schema",entity_renamed:"schema",field_added:"schema",field_removed:"schema",field_renamed:"schema",field_type_changed:"schema",field_made_optional:"schema",field_made_required:"schema",field_annotation_added:"schema",field_annotation_removed:"schema",invariant_added:"contract",invariant_removed:"contract",invariant_modified:"contract",behavior_added:"behavior",behavior_removed:"behavior",behavior_renamed:"behavior",input_field_added:"behavior",input_field_removed:"behavior",input_field_type_changed:"behavior",output_type_changed:"behavior",error_added:"behavior",error_removed:"behavior",precondition_added:"contract",precondition_removed:"contract",precondition_modified:"contract",postcondition_added:"contract",postcondition_removed:"contract",postcondition_modified:"contract",temporal_spec_added:"contract",temporal_spec_removed:"contract",temporal_spec_modified:"contract",security_spec_added:"policy",security_spec_removed:"policy",scenario_added:"documentation",scenario_removed:"documentation",scenario_modified:"documentation",policy_added:"policy",policy_removed:"policy",policy_modified:"policy"},B={domain_version_changed:"Documentation update only",domain_renamed:"Major namespace change, affects all imports",type_added:"New type available for use",type_removed:"Type no longer available, update all usages",type_renamed:"Type name changed, update all references",type_constraint_added:"New validation rules apply to existing data",type_constraint_removed:"Validation relaxed, previously invalid data may now be valid",type_constraint_modified:"Validation rules changed, verify existing data compliance",entity_added:"New entity available",entity_removed:"Entity no longer exists, remove all references",entity_renamed:"Entity name changed, update all references",field_added:"New field available on entity",field_removed:"Field no longer exists, remove all usages",field_renamed:"Field name changed, update all references",field_type_changed:"Field type changed, data migration required",field_made_optional:"Field now nullable, update null checks",field_made_required:"Field now required, backfill existing records",field_annotation_added:"New metadata on field",field_annotation_removed:"Metadata removed from field",invariant_added:"New constraint must be satisfied",invariant_removed:"Constraint relaxed",invariant_modified:"Constraint rules changed",behavior_added:"New API endpoint available",behavior_removed:"API endpoint removed",behavior_renamed:"API endpoint renamed, update clients",input_field_added:"New input field on API",input_field_removed:"Input field removed from API",input_field_type_changed:"Input field type changed",output_type_changed:"API response type changed",error_added:"New error type may be returned",error_removed:"Error type no longer returned",precondition_added:"New validation on requests",precondition_removed:"Validation relaxed on requests",precondition_modified:"Request validation changed",postcondition_added:"New guarantee on responses",postcondition_removed:"Guarantee removed from responses",postcondition_modified:"Response guarantee changed",temporal_spec_added:"New timing requirement",temporal_spec_removed:"Timing requirement removed",temporal_spec_modified:"Timing requirement changed",security_spec_added:"New security requirement",security_spec_removed:"Security requirement removed",scenario_added:"New test scenario",scenario_removed:"Test scenario removed",scenario_modified:"Test scenario updated",policy_added:"New policy in effect",policy_removed:"Policy removed",policy_modified:"Policy rules changed"};function G(e){let t=W[e.type]||"documentation",n=B[e.type]||"Unknown impact",i=function(e){let t=[],n=e.type;return(n.startsWith("entity_")||n.startsWith("field_")||n.startsWith("type_"))&&t.push("database","data-layer","models"),(n.startsWith("behavior_")||n.startsWith("input_")||n.startsWith("output_")||n.startsWith("error_"))&&t.push("api","clients","controllers"),(n.includes("condition")||n.includes("invariant")||n.includes("constraint"))&&t.push("validation","business-logic"),n.startsWith("security_")&&t.push("security","middleware","authentication"),n.startsWith("temporal_")&&t.push("monitoring","slo","alerts"),[...new Set(t)]}(e);return{...e,category:t,impact:n,affectedComponents:i}}function J(e){let t=e.map(G),n=new Map;for(let e of t){let t=n.get(e.category)||[];t.push(e),n.set(e.category,t)}let i=t.filter(e=>"breaking"===e.breakingLevel),s=t.filter(e=>"warning"===e.breakingLevel),a=t.filter(e=>"safe"===e.breakingLevel),r={schema:0,behavior:0,contract:0,policy:0,documentation:0};for(let[e,t]of n)r[e]=t.length;let l={breaking:i.length,warning:s.length,safe:a.length},d=function(e){if(0===e.length)return 0;let t=0;for(let n of e){switch(n.breakingLevel){case"breaking":t+=30;break;case"warning":t+=10;break;case"safe":t+=2}switch(n.category){case"schema":t+=5;break;case"behavior":t+=3;break;case"policy":t+=4}"entity_removed"===n.type&&(t+=20),"behavior_removed"===n.type&&(t+=15),"field_type_changed"===n.type&&(t+=10)}return Math.min(100,t)}(t);return{categories:n,breakingChanges:i,warnings:s,safeChanges:a,summary:{totalChanges:e.length,byCategory:r,byLevel:l,riskScore:d}}}function Z({oldContent:e,newContent:t,onChangeSelect:n,selectedChangeId:a,showOnlyBreaking:r=!1}){var l;let[d,o]=(0,s.useState)(new Set(["schema","behavior","contract","policy"])),c=(0,s.useMemo)(()=>J(P(e,t)),[e,t]),p=e=>{o(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},h=e=>{switch(e){case"schema":return i.jsx(E,{className:"w-4 h-4"});case"behavior":return i.jsx(I,{className:"w-4 h-4"});case"contract":default:return i.jsx(V,{className:"w-4 h-4"});case"policy":return i.jsx(D,{className:"w-4 h-4"})}},u=e=>e.type.includes("added")?i.jsx(O,{className:"w-4 h-4 text-green-600"}):e.type.includes("removed")?i.jsx(T,{className:"w-4 h-4 text-red-600"}):i.jsx(U,{className:"w-4 h-4 text-yellow-600"}),x=e=>{switch(e){case"breaking":return i.jsx(R,{className:"w-4 h-4 text-red-600"});case"warning":return i.jsx(m,{className:"w-4 h-4 text-yellow-600"});case"safe":return i.jsx(F,{className:"w-4 h-4 text-green-600"})}},g=r?new Map(Array.from(c.categories.entries()).map(([e,t])=>[e,t.filter(e=>"breaking"===e.breakingLevel)])):c.categories;return(0,i.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("h3",{className:"font-semibold text-gray-900",children:[c.summary.totalChanges," Changes"]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,i.jsxs)("span",{className:"flex items-center gap-1 text-red-600",children:[i.jsx(R,{className:"w-3 h-3"}),c.summary.byLevel.breaking," Breaking"]}),(0,i.jsxs)("span",{className:"flex items-center gap-1 text-yellow-600",children:[i.jsx(m,{className:"w-3 h-3"}),c.summary.byLevel.warning," Warnings"]}),(0,i.jsxs)("span",{className:"flex items-center gap-1 text-green-600",children:[i.jsx(F,{className:"w-3 h-3"}),c.summary.byLevel.safe," Safe"]})]})]}),(0,i.jsxs)("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${(l=c.summary.riskScore)>=70?"text-red-600 bg-red-100":l>=40?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100"}`,children:["Risk Score: ",c.summary.riskScore]})]})}),(0,i.jsxs)("div",{className:"divide-y divide-gray-200",children:[Array.from(g.entries()).map(([e,t])=>{if(0===t.length)return null;let s=d.has(e),r=t.filter(e=>"breaking"===e.breakingLevel).length;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("button",{onClick:()=>p(e),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[s?i.jsx(z,{className:"w-4 h-4 text-gray-400"}):i.jsx(H,{className:"w-4 h-4 text-gray-400"}),h(e),i.jsx("span",{className:"font-medium text-gray-900",children:{schema:"Schema Changes",behavior:"API Changes",contract:"Contract Changes",policy:"Policy Changes",documentation:"Documentation"}[e]}),(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:["(",t.length," changes)"]})]}),r>0&&(0,i.jsxs)("span",{className:"px-2 py-0.5 text-xs font-medium bg-red-100 text-red-700 rounded-full",children:[r," breaking"]})]}),s&&i.jsx("div",{className:"bg-gray-50 border-t border-gray-200",children:t.map(e=>(0,i.jsxs)("button",{onClick:()=>n?.(e),className:`w-full px-4 py-3 flex items-start gap-3 text-left hover:bg-white transition-colors border-b border-gray-100 last:border-b-0 ${a===e.id?"bg-blue-50 border-l-2 border-l-blue-500":""}`,children:[i.jsx("div",{className:"mt-0.5",children:u(e)}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-gray-900 truncate",children:e.path.join(" > ")}),i.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${{breaking:"text-red-600 bg-red-50 border-red-200",warning:"text-yellow-700 bg-yellow-50 border-yellow-200",safe:"text-green-600 bg-green-50 border-green-200"}[e.breakingLevel]}`,children:e.breakingLevel})]}),i.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e.description}),e.impact&&(0,i.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Impact: ",e.impact]}),e.affectedComponents.length>0&&i.jsx("div",{className:"mt-2 flex gap-1 flex-wrap",children:e.affectedComponents.map(e=>i.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-200 text-gray-700 rounded",children:e},e))})]}),i.jsx("div",{className:"mt-0.5",children:x(e.breakingLevel)})]},e.id))})]},e)}),0===c.summary.totalChanges&&i.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:"No semantic changes detected"})]})]})}/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let K=l("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function Q({oldContent:e,newContent:t,onChangeClick:n}){let{breakingChanges:a,warnings:r}=(0,s.useMemo)(()=>J(P(e,t)),[e,t]),l=e=>{let t=new Map;for(let n of e){let e=n.path.slice(0,2).join("."),i=t.get(e)||[];i.push(n),t.set(e,i)}return t},d=l(a),o=l(r);return 0===a.length&&0===r.length?(0,i.jsxs)("div",{className:"border border-green-200 rounded-lg bg-green-50 p-6 text-center",children:[(0,i.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-700",children:[i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"font-semibold",children:"No breaking changes detected"})]}),i.jsx("p",{className:"mt-2 text-sm text-green-600",children:"This update is backward compatible and can be safely deployed."})]}):(0,i.jsxs)("div",{className:"space-y-6",children:[a.length>0&&(0,i.jsxs)("div",{className:"border border-red-200 rounded-lg overflow-hidden",children:[(0,i.jsxs)("div",{className:"bg-red-50 border-b border-red-200 px-4 py-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(R,{className:"w-5 h-5 text-red-600"}),(0,i.jsxs)("h3",{className:"font-semibold text-red-900",children:[a.length," Breaking Change",1!==a.length?"s":""]})]}),i.jsx("p",{className:"mt-1 text-sm text-red-700",children:"These changes may break existing integrations or require data migrations."})]}),i.jsx("div",{className:"divide-y divide-red-100",children:Array.from(d.entries()).map(([e,t])=>(0,i.jsxs)("div",{className:"bg-white",children:[i.jsx("div",{className:"px-4 py-2 bg-red-25 border-b border-red-100",children:i.jsx("span",{className:"text-sm font-medium text-red-800",children:e})}),t.map(e=>(0,i.jsxs)("button",{onClick:()=>n?.(e),className:"w-full px-4 py-3 text-left hover:bg-red-50 transition-colors flex items-start gap-3",children:[i.jsx(H,{className:"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0"}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-gray-900",children:X(e.type)}),e.location?.oldLine&&(0,i.jsxs)("span",{className:"text-xs text-gray-500",children:["Line ",e.location.oldLine]})]}),i.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e.description}),(void 0!==e.oldValue||void 0!==e.newValue)&&(0,i.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-xs font-mono",children:[void 0!==e.oldValue&&i.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded",children:String(e.oldValue)}),void 0!==e.oldValue&&void 0!==e.newValue&&i.jsx(K,{className:"w-3 h-3 text-gray-400"}),void 0!==e.newValue&&i.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded",children:String(e.newValue)})]}),(0,i.jsxs)("p",{className:"mt-2 text-xs text-red-600",children:["⚠️ ",e.impact]})]})]},e.id))]},e))})]}),r.length>0&&(0,i.jsxs)("div",{className:"border border-yellow-200 rounded-lg overflow-hidden",children:[(0,i.jsxs)("div",{className:"bg-yellow-50 border-b border-yellow-200 px-4 py-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(m,{className:"w-5 h-5 text-yellow-600"}),(0,i.jsxs)("h3",{className:"font-semibold text-yellow-900",children:[r.length," Warning",1!==r.length?"s":""]})]}),i.jsx("p",{className:"mt-1 text-sm text-yellow-700",children:"These changes should be reviewed but are unlikely to cause immediate issues."})]}),i.jsx("div",{className:"divide-y divide-yellow-100",children:Array.from(o.entries()).map(([e,t])=>(0,i.jsxs)("div",{className:"bg-white",children:[i.jsx("div",{className:"px-4 py-2 bg-yellow-25 border-b border-yellow-100",children:i.jsx("span",{className:"text-sm font-medium text-yellow-800",children:e})}),t.map(e=>(0,i.jsxs)("button",{onClick:()=>n?.(e),className:"w-full px-4 py-3 text-left hover:bg-yellow-50 transition-colors flex items-start gap-3",children:[i.jsx(H,{className:"w-4 h-4 text-yellow-400 mt-0.5 flex-shrink-0"}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"font-medium text-gray-900",children:X(e.type)})}),i.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e.description}),(0,i.jsxs)("p",{className:"mt-1 text-xs text-yellow-600",children:["⚡ ",e.impact]})]})]},e.id))]},e))})]}),a.length>0&&i.jsx("div",{className:"bg-gray-900 rounded-lg p-4 text-white",children:(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[i.jsx(R,{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0"}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-semibold",children:"Action Required"}),(0,i.jsxs)("p",{className:"mt-1 text-sm text-gray-300",children:["This specification change includes ",a.length," ","breaking change",1!==a.length?"s":"",". Before deploying:"]}),(0,i.jsxs)("ul",{className:"mt-2 text-sm text-gray-300 space-y-1",children:[(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-red-400 rounded-full"}),"Review migration hints for each breaking change"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-red-400 rounded-full"}),"Update client applications and dependent services"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-red-400 rounded-full"}),"Plan data migrations if schema changes are involved"]}),(0,i.jsxs)("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-red-400 rounded-full"}),"Update API documentation and notify consumers"]})]})]})]})})]})}function X(e){return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let Y=l("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),ee=l("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),et=l("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function en({oldContent:e,newContent:t,onHintClick:n}){let[a,r]=(0,s.useState)(new Set),[l,d]=(0,s.useState)(new Set),[o,c]=(0,s.useState)(null),m=(0,s.useMemo)(()=>q(e,t),[e,t]),h=e=>{r(t=>{let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},u=(e,t)=>{let n=`${e}-${t}`;d(e=>{let t=new Set(e);return t.has(n)?t.delete(n):t.add(n),t})},x=async(e,t)=>{await navigator.clipboard.writeText(e),c(t),setTimeout(()=>c(null),2e3)},g=e=>{switch(e){case"critical":return"border-red-200 bg-red-50";case"high":return"border-orange-200 bg-orange-50";case"medium":return"border-yellow-200 bg-yellow-50";case"low":return"border-blue-200 bg-blue-50"}},f=e=>{switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-blue-100 text-blue-800"}},y=e=>{let t=e.steps.length;return 0===t?100:Math.round(e.steps.filter(t=>l.has(`${e.id}-${t.order}`)).length/t*100)};return 0===m.migrationHints.length?(0,i.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 text-center bg-gray-50",children:[i.jsx(p,{className:"w-8 h-8 text-gray-400 mx-auto"}),i.jsx("h3",{className:"mt-2 font-medium text-gray-900",children:"No migration required"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"All changes are backward compatible. No special migration steps needed."})]}):(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(p,{className:"w-5 h-5 text-yellow-500"}),i.jsx("h3",{className:"font-semibold text-gray-900",children:"Migration Guide"}),(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:["(",m.migrationHints.length," hint",1!==m.migrationHints.length?"s":"",")"]})]})}),i.jsx("div",{className:"space-y-3",children:m.migrationHints.map(e=>{let t=a.has(e.id),s=y(e);return(0,i.jsxs)("div",{className:`border rounded-lg overflow-hidden ${g(e.severity)}`,children:[(0,i.jsxs)("button",{onClick:()=>{h(e.id),n?.(e)},className:"w-full px-4 py-3 flex items-start gap-3 text-left hover:brightness-95 transition-all",children:[t?i.jsx(z,{className:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}):i.jsx(H,{className:"w-5 h-5 text-gray-400 mt-0.5 flex-shrink-0"}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:"font-semibold text-gray-900",children:e.title}),i.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${f(e.severity)}`,children:e.severity})]}),i.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e.description}),e.steps.length>0&&(0,i.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all ${100===s?"bg-green-500":"bg-blue-500"}`,style:{width:`${s}%`}})}),(0,i.jsxs)("span",{className:"text-xs text-gray-500 flex-shrink-0",children:[s,"%"]})]})]})]}),t&&(0,i.jsxs)("div",{className:"px-4 pb-4 pt-0",children:[e.steps.length>0&&i.jsx("div",{className:"border border-gray-200 rounded-lg bg-white divide-y divide-gray-100",children:e.steps.map(t=>{let n=`${e.id}-${t.order}`,s=l.has(n);return(0,i.jsxs)("div",{className:"flex items-start gap-3 p-3",children:[i.jsx("button",{onClick:()=>u(e.id,t.order),className:"mt-0.5 flex-shrink-0",children:s?i.jsx(F,{className:"w-5 h-5 text-green-500"}):i.jsx(Y,{className:"w-5 h-5 text-gray-300"})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("span",{className:`font-medium ${s?"text-gray-400 line-through":"text-gray-900"}`,children:[t.order,". ",t.title]}),t.required&&i.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-red-100 text-red-700 rounded",children:"Required"})]}),i.jsx("p",{className:`mt-1 text-sm ${s?"text-gray-400":"text-gray-600"}`,children:t.description})]})]},t.order)})}),e.codeExample&&(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(I,{className:"w-4 h-4 text-gray-400"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Code Example"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("div",{className:"border border-red-200 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"bg-red-50 px-3 py-1.5 border-b border-red-200 flex items-center justify-between",children:i.jsx("span",{className:"text-xs font-medium text-red-700",children:"Before"})}),i.jsx("pre",{className:"p-3 text-xs font-mono bg-white overflow-x-auto",children:e.codeExample.before})]}),(0,i.jsxs)("div",{className:"border border-green-200 rounded-lg overflow-hidden",children:[(0,i.jsxs)("div",{className:"bg-green-50 px-3 py-1.5 border-b border-green-200 flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-medium text-green-700",children:"After"}),i.jsx("button",{onClick:()=>x(e.codeExample.after,`${e.id}-code`),className:"text-green-600 hover:text-green-800",children:o===`${e.id}-code`?i.jsx(ee,{className:"w-3.5 h-3.5"}):i.jsx(et,{className:"w-3.5 h-3.5"})})]}),i.jsx("pre",{className:"p-3 text-xs font-mono bg-white overflow-x-auto",children:e.codeExample.after})]})]})]}),e.changeIds.length>0&&(0,i.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-xs text-gray-500",children:[i.jsx(R,{className:"w-3.5 h-3.5"}),(0,i.jsxs)("span",{children:["Affects ",e.changeIds.length," change",1!==e.changeIds.length?"s":""]})]})]})]},e.id)})})]})}let ei=`domain Auth {
  version: "1.0.0"
  
  type Email = String {
    format: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/
    max_length: 254
  }
  
  entity User {
    id: UUID [immutable, unique]
    email: Email [unique, indexed]
    name: String
    status: UserStatus
    created_at: Timestamp [immutable]
  }
  
  enum UserStatus {
    PENDING
    ACTIVE
    SUSPENDED
  }
  
  behavior Login {
    input {
      email: Email
      password: String [sensitive]
    }
    
    output {
      success: Session
      errors {
        INVALID_CREDENTIALS { }
        ACCOUNT_LOCKED { }
      }
    }
    
    preconditions {
      input.email.is_valid
    }
  }
}`,es=`domain Auth {
  version: "2.0.0"
  
  type Email = String {
    format: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/
    max_length: 320
  }
  
  entity User {
    id: UUID [immutable, unique]
    email: Email [unique, indexed]
    display_name: String
    status: UserStatus
    created_at: Timestamp [immutable]
    last_login: Timestamp?
    mfa_enabled: Boolean
  }
  
  enum UserStatus {
    PENDING
    ACTIVE
    SUSPENDED
    DELETED
  }
  
  behavior Login {
    input {
      email: Email
      password: String [sensitive]
      mfa_code: String?
    }
    
    output {
      success: Session
      errors {
        INVALID_CREDENTIALS { }
        ACCOUNT_LOCKED { }
        MFA_REQUIRED { }
      }
    }
    
    preconditions {
      input.email.is_valid
      input.password.length >= 8
    }
    
    security {
      rate_limit 10/minute per input.email
    }
  }
}`;function ea(){let[e,t]=(0,s.useState)(ei),[n,a]=(0,s.useState)(es),[r,l]=(0,s.useState)("side-by-side"),[x,g]=(0,s.useState)("diff"),[f,y]=(0,s.useState)(null),[v,b]=(0,s.useState)(!1),w=(0,s.useMemo)(()=>q(e,n),[e,n]),j=(e,n)=>{let i=e.target.files?.[0];if(!i)return;let s=new FileReader;s.onload=e=>{let i=e.target?.result;"old"===n?t(i):a(i)},s.readAsText(i)};return(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"ISL Diff Viewer"}),(0,i.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-gray-600",children:"v1.0.0"}),i.jsx("span",{className:"text-gray-400",children:"→"}),i.jsx("span",{className:"px-2 py-1 bg-blue-100 rounded text-blue-700",children:"v2.0.0"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,i.jsxs)("span",{className:"text-green-600",children:["+",w.additions]}),(0,i.jsxs)("span",{className:"text-red-600",children:["−",w.deletions]}),w.breakingChanges>0&&(0,i.jsxs)("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full font-medium",children:[w.breakingChanges," breaking"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 border-l border-gray-200 pl-4",children:[(0,i.jsxs)("label",{className:"cursor-pointer px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-100 rounded transition-colors flex items-center gap-1",children:[i.jsx(d,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Upload"}),i.jsx("input",{type:"file",accept:".isl,.txt",className:"hidden",onChange:e=>j(e,"old")})]}),(0,i.jsxs)("button",{onClick:()=>{let e={timestamp:new Date().toISOString(),summary:{totalChanges:w.totalChanges,breakingChanges:w.breakingChanges,warnings:w.warnings},changes:w.semanticChanges,migrationHints:w.migrationHints},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="isl-diff-report.json",i.click(),URL.revokeObjectURL(n)},className:"px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-100 rounded transition-colors flex items-center gap-1",children:[i.jsx(o,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-6 mt-4 border-b border-gray-200 -mb-px",children:[i.jsx("button",{onClick:()=>g("diff"),className:`pb-3 px-1 text-sm font-medium transition-colors ${"diff"===x?"tab-active":"tab-inactive"}`,children:(0,i.jsxs)("span",{className:"flex items-center gap-2",children:[i.jsx(c,{className:"w-4 h-4"}),"Diff View"]})}),i.jsx("button",{onClick:()=>g("breaking"),className:`pb-3 px-1 text-sm font-medium transition-colors ${"breaking"===x?"tab-active":"tab-inactive"}`,children:(0,i.jsxs)("span",{className:"flex items-center gap-2",children:[i.jsx(m,{className:"w-4 h-4"}),"Breaking Changes",w.breakingChanges>0&&i.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-red-100 text-red-700 rounded-full",children:w.breakingChanges})]})}),i.jsx("button",{onClick:()=>g("migration"),className:`pb-3 px-1 text-sm font-medium transition-colors ${"migration"===x?"tab-active":"tab-inactive"}`,children:(0,i.jsxs)("span",{className:"flex items-center gap-2",children:[i.jsx(p,{className:"w-4 h-4"}),"Migration Guide",w.migrationHints.length>0&&i.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-yellow-100 text-yellow-700 rounded-full",children:w.migrationHints.length})]})})]})]})}),(0,i.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-6",children:["diff"===x&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 bg-white border border-gray-200 rounded-lg p-1",children:[(0,i.jsxs)("button",{onClick:()=>l("side-by-side"),className:`px-3 py-1.5 text-sm font-medium rounded transition-colors flex items-center gap-2 ${"side-by-side"===r?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[i.jsx(h,{className:"w-4 h-4"}),"Side by Side"]}),(0,i.jsxs)("button",{onClick:()=>l("unified"),className:`px-3 py-1.5 text-sm font-medium rounded transition-colors flex items-center gap-2 ${"unified"===r?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[i.jsx(u,{className:"w-4 h-4"}),"Unified"]}),(0,i.jsxs)("button",{onClick:()=>l("semantic"),className:`px-3 py-1.5 text-sm font-medium rounded transition-colors flex items-center gap-2 ${"semantic"===r?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[i.jsx(c,{className:"w-4 h-4"}),"Semantic"]})]}),"semantic"===r&&(0,i.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-600 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:v,onChange:e=>b(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Show breaking only"]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:["side-by-side"===r&&i.jsx(M,{oldContent:e,newContent:n,oldVersion:"v1.0.0",newVersion:"v2.0.0"}),"unified"===r&&i.jsx(A,{oldContent:e,newContent:n,oldVersion:"v1.0.0",newVersion:"v2.0.0"}),"semantic"===r&&i.jsx(Z,{oldContent:e,newContent:n,onChangeSelect:y,selectedChangeId:f?.id,showOnlyBreaking:v})]})]}),"breaking"===x&&i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:i.jsx(Q,{oldContent:e,newContent:n,onChangeClick:e=>{y(e),g("diff"),l("semantic")}})}),"migration"===x&&i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:i.jsx(en,{oldContent:e,newContent:n})})]}),i.jsx("footer",{className:"border-t border-gray-200 bg-white mt-8",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[i.jsx("span",{children:"ISL Diff Viewer v0.1.0"}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("span",{children:[w.totalChanges," total changes"]}),i.jsx("span",{children:"•"}),(0,i.jsxs)("span",{className:"text-green-600",children:["+",w.additions," additions"]}),(0,i.jsxs)("span",{className:"text-red-600",children:["−",w.deletions," deletions"]})]})]})})})]})}},2204:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a,metadata:()=>s});var i=n(1002);n(9881);let s={title:"ISL Diff Viewer",description:"Visual diff viewer for ISL specification changes"};function a({children:e}){return i.jsx("html",{lang:"en",children:i.jsx("body",{className:"antialiased",children:e})})}},1342:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$$typeof:()=>a,__esModule:()=>s,default:()=>r});let i=(0,n(7460).createProxy)(String.raw`C:\Users\mevla\OneDrive\Desktop\IntentOS\packages\diff-viewer\src\app\page.tsx`),{__esModule:s,$$typeof:a}=i,r=i.default},9881:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),i=t.X(0,[612],()=>n(8305));module.exports=i})();