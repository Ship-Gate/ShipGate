(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7313:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c});var r=n(8090),o=n(9409),i=n(1522),a=n.n(i),l=n(1305),s={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>l[e]);n.d(t,s);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,1342)),"C:\\Users\\mevla\\OneDrive\\Desktop\\IntentOS\\packages\\visual-editor\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,2204)),"C:\\Users\\mevla\\OneDrive\\Desktop\\IntentOS\\packages\\visual-editor\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,111,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\mevla\\OneDrive\\Desktop\\IntentOS\\packages\\visual-editor\\src\\app\\page.tsx"],d="/page",h={require:n,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5954:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,1170,23)),Promise.resolve().then(n.t.bind(n,3082,23)),Promise.resolve().then(n.t.bind(n,6181,23)),Promise.resolve().then(n.t.bind(n,5381,23)),Promise.resolve().then(n.t.bind(n,6205,23)),Promise.resolve().then(n.t.bind(n,4266,23))},9825:()=>{},5953:(e,t,n)=>{Promise.resolve().then(n.bind(n,1053))},9955:(e,t,n)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(5803);"function"==typeof Object.is&&Object.is,r.useState,r.useEffect,r.useLayoutEffect,r.useDebugValue,t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:function(e,t){return t()}},5500:(e,t,n)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(5803),o=n(6857),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,l=r.useRef,s=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=l(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var p=a(e,(d=c(function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==o&&h.hasValue){var t=h.value;if(o(t,e))return l=t}return l=e}if(t=l,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(a=e,t):(a=e,l=n)}var a,l,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]))[0],d[1]);return s(function(){h.hasValue=!0,h.value=p},[p]),u(p),p}},6857:(e,t,n)=>{"use strict";e.exports=n(9955)},5786:(e,t,n)=>{"use strict";e.exports=n(5500)},1053:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>lr});var r,o,i,a,l,s,c,u,d,h=n(4297),p=n(5803);function f(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)""!==(r=f(e[n]))&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var m=n(5786);let g=e=>{let t;let n=new Set,r=(e,r)=>{let o="function"==typeof e?e(t):e;if(!Object.is(o,t)){let e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},y=e=>e?g(e):g,{useDebugValue:x}=p,{useSyncExternalStoreWithSelector:b}=m,v=e=>e;function w(e,t=v,n){let r=b(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return x(r),r}let N=(e,t)=>{let n=y(e),r=(e,r=t)=>w(n,e,r);return Object.assign(r,n),r},S=(e,t)=>e?N(e,t):N;function _(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var E={value:()=>{}};function k(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new M(r)}function M(e){this._=e}function j(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=E,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function C(){}function $(e){return null==e?C:function(){return this.querySelector(e)}}function z(){return[]}function A(e){return null==e?z:function(){return this.querySelectorAll(e)}}function I(e){return function(){return this.matches(e)}}function P(e){return function(t){return t.matches(e)}}M.prototype=k.prototype={constructor:M,on:function(e,t){var n,r=this._,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((n=(e=o[i]).type)&&(n=function(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=j(r[n],e.name,t);else if(null==t)for(n in r)r[n]=j(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new M(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],i=0,n=r.length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var D=Array.prototype.find;function T(){return this.firstElementChild}var O=Array.prototype.filter;function R(){return Array.from(this.children)}function B(e){return Array(e.length)}function L(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function H(e,t,n,r,o,i){for(var a,l=0,s=t.length,c=i.length;l<c;++l)(a=t[l])?(a.__data__=i[l],r[l]=a):n[l]=new L(e,i[l]);for(;l<s;++l)(a=t[l])&&(o[l]=a)}function V(e,t,n,r,o,i,a){var l,s,c,u=new Map,d=t.length,h=i.length,p=Array(d);for(l=0;l<d;++l)(s=t[l])&&(p[l]=c=a.call(s,s.__data__,l,t)+"",u.has(c)?o[l]=s:u.set(c,s));for(l=0;l<h;++l)c=a.call(e,i[l],l,i)+"",(s=u.get(c))?(r[l]=s,s.__data__=i[l],u.delete(c)):n[l]=new L(e,i[l]);for(l=0;l<d;++l)(s=t[l])&&u.get(p[l])===s&&(o[l]=s)}function F(e){return e.__data__}function q(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}L.prototype={constructor:L,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var X="http://www.w3.org/1999/xhtml";let Y={svg:"http://www.w3.org/2000/svg",xhtml:X,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function U(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Y.hasOwnProperty(t)?{space:Y[t],local:e}:e}function W(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Z(e,t){return e.style.getPropertyValue(t)||W(e).getComputedStyle(e,null).getPropertyValue(t)}function K(e){return e.trim().split(/^|\s+/)}function G(e){return e.classList||new Q(e)}function Q(e){this._node=e,this._names=K(e.getAttribute("class")||"")}function J(e,t){for(var n=G(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function ee(e,t){for(var n=G(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function et(){this.textContent=""}function en(){this.innerHTML=""}function er(){this.nextSibling&&this.parentNode.appendChild(this)}function eo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ei(e){var t=U(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===X&&t.documentElement.namespaceURI===X?t.createElement(e):t.createElementNS(n,e)}})(t)}function ea(){return null}function el(){var e=this.parentNode;e&&e.removeChild(this)}function es(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ec(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eu(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function ed(e,t,n){return function(){var r,o=this.__on,i=function(e){t.call(this,e,this.__data__)};if(o){for(var a=0,l=o.length;a<l;++a)if((r=o[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function eh(e,t,n){var r=W(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}Q.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ep=[null];function ef(e,t){this._groups=e,this._parents=t}function em(){return new ef([[document.documentElement]],ep)}function eg(e){return"string"==typeof e?new ef([[document.querySelector(e)]],[document.documentElement]):new ef([[e]],ep)}ef.prototype=em.prototype={constructor:ef,select:function(e){"function"!=typeof e&&(e=$(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a,l=t[o],s=l.length,c=r[o]=Array(s),u=0;u<s;++u)(i=l[u])&&(a=e.call(i,i.__data__,u,l))&&("__data__"in i&&(a.__data__=i.__data__),c[u]=a);return new ef(r,this._parents)},selectAll:function(e){if("function"==typeof e){var t;t=e,e=function(){var e;return e=t.apply(this,arguments),null==e?[]:Array.isArray(e)?e:Array.from(e)}}else e=A(e);for(var n=this._groups,r=n.length,o=[],i=[],a=0;a<r;++a)for(var l,s=n[a],c=s.length,u=0;u<c;++u)(l=s[u])&&(o.push(e.call(l,l.__data__,u,s)),i.push(l));return new ef(o,i)},selectChild:function(e){var t;return this.select(null==e?T:(t="function"==typeof e?e:P(e),function(){return D.call(this.children,t)}))},selectChildren:function(e){var t;return this.selectAll(null==e?R:(t="function"==typeof e?e:P(e),function(){return O.call(this.children,t)}))},filter:function(e){"function"!=typeof e&&(e=I(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],l=a.length,s=r[o]=[],c=0;c<l;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&s.push(i);return new ef(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,F);var n=t?V:H,r=this._parents,o=this._groups;"function"!=typeof e&&(x=e,e=function(){return x});for(var i=o.length,a=Array(i),l=Array(i),s=Array(i),c=0;c<i;++c){var u=r[c],d=o[c],h=d.length,p="object"==typeof(y=e.call(u,u&&u.__data__,c,r))&&"length"in y?y:Array.from(y),f=p.length,m=l[c]=Array(f),g=a[c]=Array(f);n(u,d,m,g,s[c]=Array(h),p,t);for(var y,x,b,v,w=0,N=0;w<f;++w)if(b=m[w]){for(w>=N&&(N=w+1);!(v=g[N])&&++N<f;);b._next=v||null}}return(a=new ef(a,r))._enter=l,a._exit=s,a},enter:function(){return new ef(this._enter||this._groups.map(B),this._parents)},exit:function(){return new ef(this._exit||this._groups.map(B),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),l=Array(o),s=0;s<a;++s)for(var c,u=n[s],d=r[s],h=u.length,p=l[s]=Array(h),f=0;f<h;++f)(c=u[f]||d[f])&&(p[f]=c);for(;s<o;++s)l[s]=n[s];return new ef(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=q);for(var n=this._groups,r=n.length,o=Array(r),i=0;i<r;++i){for(var a,l=n[i],s=l.length,c=o[i]=Array(s),u=0;u<s;++u)(a=l[u])&&(c[u]=a);c.sort(t)}return new ef(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(let t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,l=i.length;a<l;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=U(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):Z(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=K(e+"");if(arguments.length<2){for(var r=G(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?J:ee)(this,e)}}:t?function(e){return function(){J(this,e)}}:function(e){return function(){ee(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?et:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?en:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(er)},lower:function(){return this.each(eo)},append:function(e){var t="function"==typeof e?e:ei(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:ei(e),r=null==t?ea:"function"==typeof t?t:$(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(el)},clone:function(e){return this.select(e?ec:es)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),a=i.length;if(arguments.length<2){var l=this.node().__on;if(l){for(var s,c=0,u=l.length;c<u;++c)for(r=0,s=l[c];r<a;++r)if((o=i[r]).type===s.type&&o.name===s.name)return s.value}return}for(r=0,l=t?ed:eu;r<a;++r)this.each(l(i[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return eh(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return eh(this,e,t)}})(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};let ey={passive:!1},ex={capture:!0,passive:!1};function eb(e){e.stopImmediatePropagation()}function ev(e){e.preventDefault(),e.stopImmediatePropagation()}function ew(e){var t=e.document.documentElement,n=eg(e).on("dragstart.drag",ev,ex);"onselectstart"in t?n.on("selectstart.drag",ev,ex):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function eN(e,t){var n=e.document.documentElement,r=eg(e).on("dragstart.drag",null);t&&(r.on("click.drag",ev,ex),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function eS(e){return((e=Math.exp(e))+1/e)/2}let e_=function e(t,n,r){function o(e,o){var i,a,l=e[0],s=e[1],c=e[2],u=o[0],d=o[1],h=o[2],p=u-l,f=d-s,m=p*p+f*f;if(m<1e-12)a=Math.log(h/c)/t,i=function(e){return[l+e*p,s+e*f,c*Math.exp(t*e*a)]};else{var g=Math.sqrt(m),y=(h*h-c*c+r*m)/(2*c*n*g),x=(h*h-c*c-r*m)/(2*h*n*g),b=Math.log(Math.sqrt(y*y+1)-y);a=(Math.log(Math.sqrt(x*x+1)-x)-b)/t,i=function(e){var r,o,i=e*a,u=eS(b),d=c/(n*g)*(((r=Math.exp(2*(r=t*i+b)))-1)/(r+1)*u-((o=Math.exp(o=b))-1/o)/2);return[l+d*p,s+d*f,c*u/eS(t*i+b)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);function eE(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}var ek,eM,ej=0,eC=0,e$=0,ez=0,eA=0,eI=0,eP="object"==typeof performance&&performance.now?performance:Date,eD=function(e){setTimeout(e,17)};function eT(){return eA||(eD(eO),eA=eP.now()+eI)}function eO(){eA=0}function eR(){this._call=this._time=this._next=null}function eB(e,t,n){var r=new eR;return r.restart(e,t,n),r}function eL(){eA=(ez=eP.now())+eI,ej=eC=0;try{!function(){eT(),++ej;for(var e,t=ek;t;)(e=eA-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ej}()}finally{ej=0,function(){for(var e,t,n=ek,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ek=t);eM=e,eV(r)}(),eA=0}}function eH(){var e=eP.now(),t=e-ez;t>1e3&&(eI-=t,ez=e)}function eV(e){!ej&&(eC&&(eC=clearTimeout(eC)),e-eA>24?(e<1/0&&(eC=setTimeout(eL,e-eP.now()-eI)),e$&&(e$=clearInterval(e$))):(e$||(ez=eP.now(),e$=setInterval(eH,1e3)),ej=1,eD(eL)))}function eF(e,t,n){var r=new eR;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}eR.prototype=eB.prototype={constructor:eR,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?eT():+n)+(null==t?0:+t),this._next||eM===this||(eM?eM._next=this:ek=this,eM=this),this._call=e,this._time=n,eV()},stop:function(){this._call&&(this._call=null,this._time=1/0,eV())}};var eq=k("start","end","cancel","interrupt"),eX=[];function eY(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};(function(e,t,n){var r,o=e.__transition;function i(s){var c,u,d,h;if(1!==n.state)return l();for(c in o)if((h=o[c]).name===n.name){if(3===h.state)return eF(i);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[c])}if(eF(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(s))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(c=0,n.state=3,r=Array(d=n.tween.length),u=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=eB(function(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)},0,n.time)})(e,n,{name:t,index:r,group:o,on:eq,tween:eX,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function eU(e,t){var n=eZ(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function eW(e,t){var n=eZ(e,t);if(n.state>3)throw Error("too late; already running");return n}function eZ(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}function eK(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i){if((n=i[o]).name!==t){a=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]}a&&delete e.__transition}}function eG(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var eQ=180/Math.PI,eJ={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function e0(e,t,n,r,o,i){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*eQ,skewX:Math.atan(s)*eQ,scaleX:a,scaleY:l}}function e1(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var l,s,c,u,d=[],h=[];return i=e(i),a=e(a),function(e,r,o,i,a,l){if(e!==o||r!==i){var s=a.push("translate(",null,t,null,n);l.push({i:s-4,x:eG(e,o)},{i:s-2,x:eG(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,d,h),(l=i.rotate)!==(s=a.rotate)?(l-s>180?s+=360:s-l>180&&(l+=360),h.push({i:d.push(o(d)+"rotate(",null,r)-2,x:eG(l,s)})):s&&d.push(o(d)+"rotate("+s+r),(c=i.skewX)!==(u=a.skewX)?h.push({i:d.push(o(d)+"skewX(",null,r)-2,x:eG(c,u)}):u&&d.push(o(d)+"skewX("+u+r),function(e,t,n,r,i,a){if(e!==n||t!==r){var l=i.push(o(i)+"scale(",null,",",null,")");a.push({i:l-4,x:eG(e,n)},{i:l-2,x:eG(t,r)})}else(1!==n||1!==r)&&i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,d,h),i=a=null,function(e){for(var t,n=-1,r=h.length;++n<r;)d[(t=h[n]).i]=t.x(e);return d.join("")}}}var e2=e1(function(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?eJ:e0(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),e3=e1(function(e){return null==e?eJ:(o||(o=document.createElementNS("http://www.w3.org/2000/svg","g")),o.setAttribute("transform",e),e=o.transform.baseVal.consolidate())?e0((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):eJ},", ",")",")");function e5(e,t,n){var r=e._id;return e.each(function(){var e=eW(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return eZ(e,r).value[t]}}function e4(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function e7(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function e6(){}var e8="\\s*([+-]?\\d+)\\s*",e9="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tt=/^#([0-9a-f]{3,8})$/,tn=RegExp(`^rgb\\(${e8},${e8},${e8}\\)$`),tr=RegExp(`^rgb\\(${te},${te},${te}\\)$`),to=RegExp(`^rgba\\(${e8},${e8},${e8},${e9}\\)$`),ti=RegExp(`^rgba\\(${te},${te},${te},${e9}\\)$`),ta=RegExp(`^hsl\\(${e9},${te},${te}\\)$`),tl=RegExp(`^hsla\\(${e9},${te},${te},${e9}\\)$`),ts={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function tc(){return this.rgb().formatHex()}function tu(){return this.rgb().formatRgb()}function td(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=tt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?th(t):3===n?new tm(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?tp(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?tp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=tn.exec(e))?new tm(t[1],t[2],t[3],1):(t=tr.exec(e))?new tm(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=to.exec(e))?tp(t[1],t[2],t[3],t[4]):(t=ti.exec(e))?tp(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ta.exec(e))?tw(t[1],t[2]/100,t[3]/100,1):(t=tl.exec(e))?tw(t[1],t[2]/100,t[3]/100,t[4]):ts.hasOwnProperty(e)?th(ts[e]):"transparent"===e?new tm(NaN,NaN,NaN,0):null}function th(e){return new tm(e>>16&255,e>>8&255,255&e,1)}function tp(e,t,n,r){return r<=0&&(e=t=n=NaN),new tm(e,t,n,r)}function tf(e,t,n,r){var o;return 1==arguments.length?((o=e)instanceof e6||(o=td(o)),o)?new tm((o=o.rgb()).r,o.g,o.b,o.opacity):new tm:new tm(e,t,n,null==r?1:r)}function tm(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function tg(){return`#${tv(this.r)}${tv(this.g)}${tv(this.b)}`}function ty(){let e=tx(this.opacity);return`${1===e?"rgb(":"rgba("}${tb(this.r)}, ${tb(this.g)}, ${tb(this.b)}${1===e?")":`, ${e})`}`}function tx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tb(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tv(e){return((e=tb(e))<16?"0":"")+e.toString(16)}function tw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tS(e,t,n,r)}function tN(e){if(e instanceof tS)return new tS(e.h,e.s,e.l,e.opacity);if(e instanceof e6||(e=td(e)),!e)return new tS;if(e instanceof tS)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,l=i-o,s=(i+o)/2;return l?(a=t===i?(n-r)/l+(n<r)*6:n===i?(r-t)/l+2:(t-n)/l+4,l/=s<.5?i+o:2-i-o,a*=60):l=s>0&&s<1?0:a,new tS(a,l,s,e.opacity)}function tS(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function t_(e){return(e=(e||0)%360)<0?e+360:e}function tE(e){return Math.max(0,Math.min(1,e||0))}function tk(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function tM(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}e4(e6,td,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tc,formatHex:tc,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tN(this).formatHsl()},formatRgb:tu,toString:tu}),e4(tm,tf,e7(e6,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new tm(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new tm(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tm(tb(this.r),tb(this.g),tb(this.b),tx(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tg,formatHex:tg,formatHex8:function(){return`#${tv(this.r)}${tv(this.g)}${tv(this.b)}${tv((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:ty,toString:ty})),e4(tS,function(e,t,n,r){return 1==arguments.length?tN(e):new tS(e,t,n,null==r?1:r)},e7(e6,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new tS(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new tS(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new tm(tk(e>=240?e-240:e+120,o,r),tk(e,o,r),tk(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new tS(t_(this.h),tE(this.s),tE(this.l),tx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=tx(this.opacity);return`${1===e?"hsl(":"hsla("}${t_(this.h)}, ${100*tE(this.s)}%, ${100*tE(this.l)}%${1===e?")":`, ${e})`}`}}));let tj=e=>()=>e;function tC(e,t){var n=t-e;return n?function(t){return e+t*n}:tj(isNaN(e)?t:e)}let t$=function e(t){var n,r=1==(n=+(n=t))?tC:function(e,t){var r,o,i;return t-e?(r=e,o=t,r=Math.pow(r,i=n),o=Math.pow(o,i)-r,i=1/i,function(e){return Math.pow(r+e*o,i)}):tj(isNaN(e)?t:e)};function o(e,t){var n=r((e=tf(e)).r,(t=tf(t)).r),o=r(e.g,t.g),i=r(e.b,t.b),a=tC(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return o.gamma=e,o}(1);function tz(e){return function(t){var n,r,o=t.length,i=Array(o),a=Array(o),l=Array(o);for(n=0;n<o;++n)r=tf(t[n]),i[n]=r.r||0,a[n]=r.g||0,l[n]=r.b||0;return i=e(i),a=e(a),l=e(l),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=l(e),r+""}}}tz(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,l=r<t-1?e[r+2]:2*i-o;return tM((n-r/t)*t,a,o,i,l)}}),tz(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],l=e[(r+2)%t];return tM((n-r/t)*t,o,i,a,l)}});var tA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tI=RegExp(tA.source,"g");function tP(e,t){var n;return("number"==typeof t?eG:t instanceof td?t$:(n=td(t))?(t=n,t$):function(e,t){var n,r,o,i,a,l=tA.lastIndex=tI.lastIndex=0,s=-1,c=[],u=[];for(e+="",t+="";(o=tA.exec(e))&&(i=tI.exec(t));)(a=i.index)>l&&(a=t.slice(l,a),c[s]?c[s]+=a:c[++s]=a),(o=o[0])===(i=i[0])?c[s]?c[s]+=i:c[++s]=i:(c[++s]=null,u.push({i:s,x:eG(o,i)})),l=tI.lastIndex;return l<t.length&&(a=t.slice(l),c[s]?c[s]+=a:c[++s]=a),c.length<2?u[0]?(n=u[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=u.length,function(e){for(var n,r=0;r<t;++r)c[(n=u[r]).i]=n.x(e);return c.join("")})})(e,t)}var tD=em.prototype.constructor;function tT(e){return function(){this.style.removeProperty(e)}}var tO=0;function tR(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}var tB=em.prototype;tR.prototype=(function(e){return em().transition(e)}).prototype={constructor:tR,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=$(e));for(var r=this._groups,o=r.length,i=Array(o),a=0;a<o;++a)for(var l,s,c=r[a],u=c.length,d=i[a]=Array(u),h=0;h<u;++h)(l=c[h])&&(s=e.call(l,l.__data__,h,c))&&("__data__"in l&&(s.__data__=l.__data__),d[h]=s,eY(d[h],t,n,h,d,eZ(l,n)));return new tR(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=A(e));for(var r=this._groups,o=r.length,i=[],a=[],l=0;l<o;++l)for(var s,c=r[l],u=c.length,d=0;d<u;++d)if(s=c[d]){for(var h,p=e.call(s,s.__data__,d,c),f=eZ(s,n),m=0,g=p.length;m<g;++m)(h=p[m])&&eY(h,t,n,m,p,f);i.push(p),a.push(s)}return new tR(i,a,t,n)},selectChild:tB.selectChild,selectChildren:tB.selectChildren,filter:function(e){"function"!=typeof e&&(e=I(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],l=a.length,s=r[o]=[],c=0;c<l;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&s.push(i);return new tR(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=Array(r),l=0;l<i;++l)for(var s,c=t[l],u=n[l],d=c.length,h=a[l]=Array(d),p=0;p<d;++p)(s=c[p]||u[p])&&(h[p]=s);for(;l<r;++l)a[l]=t[l];return new tR(a,this._parents,this._name,this._id)},selection:function(){return new tD(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=++tO,r=this._groups,o=r.length,i=0;i<o;++i)for(var a,l=r[i],s=l.length,c=0;c<s;++c)if(a=l[c]){var u=eZ(a,t);eY(a,e,n,c,l,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new tR(r,this._parents,e,n)},call:tB.call,nodes:tB.nodes,node:tB.node,size:tB.size,empty:tB.empty,each:tB.each,on:function(e,t){var n,r,o,i=this._id;return arguments.length<2?eZ(this.node(),i).on.on(e):this.each((o=(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?eU:eW,function(){var a=o(this,i),l=a.on;l!==n&&(r=(n=l).copy()).on(e,t),a.on=r}))},attr:function(e,t){var n=U(e),r="transform"===n?e3:tP;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,o,i;return function(){var a,l,s=n(this);return null==s?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(l=s+"")?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}}:function(e,t,n){var r,o,i;return function(){var a,l,s=n(this);return null==s?void this.removeAttribute(e):(a=this.getAttribute(e))===(l=s+"")?null:a===r&&l===o?i:(o=l,i=t(r=a,s))}})(n,r,e5(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}:function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var r=U(e);return this.tween(n,(r.local?function(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t){this.setAttributeNS(e.space,e.local,o.call(this,t))}),n}return o._value=t,o}:function(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t){this.setAttribute(e,o.call(this,t))}),n}return o._value=t,o})(r,t))},style:function(e,t,n){var r,o,i,a,l,s,c,u,d,h,p,f,m,g,y,x,b,v,w,N,S,_="transform"==(e+="")?e2:tP;return null==t?this.styleTween(e,(r=e,function(){var e=Z(this,r),t=(this.style.removeProperty(r),Z(this,r));return e===t?null:e===o&&t===i?a:a=_(o=e,i=t)})).on("end.style."+e,tT(e)):"function"==typeof t?this.styleTween(e,(l=e,s=e5(this,"style."+e,t),function(){var e=Z(this,l),t=s(this),n=t+"";return null==t&&(this.style.removeProperty(l),n=t=Z(this,l)),e===n?null:e===c&&n===u?d:(u=n,d=_(c=e,t))})).each((h=this._id,b="end."+(x="style."+(p=e)),function(){var e=eW(this,h),t=e.on,n=null==e.value[x]?y||(y=tT(p)):void 0;(t!==f||g!==n)&&(m=(f=t).copy()).on(b,g=n),e.on=m})):this.styleTween(e,(v=e,S=t+"",function(){var e=Z(this,v);return e===S?null:e===w?N:N=_(w=e,t)}),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw Error();return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(t){this.style.setProperty(e,i.call(this,t),n)}),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){var t,n;return this.tween("text","function"==typeof e?(t=e5(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){this.textContent=r.call(this,e)}),t}return r._value=e,r}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=eZ(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var o=eW(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,l=r.length;a<l;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}}o.tween=r}}:function(e,t,n){var r,o;if("function"!=typeof n)throw Error();return function(){var i=eW(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var l={name:t,value:n},s=0,c=o.length;s<c;++s)if(o[s].name===t){o[s]=l;break}s===c&&o.push(l)}i.tween=o}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eU(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){eU(this,e).delay=t}})(t,e)):eZ(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eW(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){eW(this,e).duration=t}})(t,e)):eZ(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){eW(this,e).ease=t}}(t,e)):eZ(this.node(),t).ease},easeVarying:function(e){var t;if("function"!=typeof e)throw Error();return this.each((t=this._id,function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw Error();eW(this,t).ease=n}))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var l={value:a},s={value:function(){0==--o&&i()}};n.each(function(){var n=eW(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),n.on=t}),0===o&&i()})},[Symbol.iterator]:tB[Symbol.iterator]};var tL={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};em.prototype.interrupt=function(e){return this.each(function(){eK(this,e)})},em.prototype.transition=function(e){var t,n;e instanceof tR?(t=e._id,e=e._name):(t=++tO,(n=tL).time=eT(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,l=r[i],s=l.length,c=0;c<s;++c)(a=l[c])&&eY(a,e,t,c,l,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}(a,t));return new tR(r,this._parents,e,t)};let tH=e=>()=>e;function tV(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function tF(e,t,n){this.k=e,this.x=t,this.y=n}tF.prototype={constructor:tF,scale:function(e){return 1===e?this:new tF(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new tF(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tq=new tF(1,0,0);function tX(e){e.stopImmediatePropagation()}function tY(e){e.preventDefault(),e.stopImmediatePropagation()}function tU(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function tW(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function tZ(){return this.__zoom||tq}function tK(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function tG(){return navigator.maxTouchPoints||"ontouchstart"in this}function tQ(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function tJ(){var e,t,n,r=tU,o=tW,i=tQ,a=tK,l=tG,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,d=e_,h=k("start","zoom","end"),p=0,f=10;function m(e){e.property("__zoom",tZ).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",_).filter(l).on("touchstart.zoom",E).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new tF(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new tF(e.k,r,o)}function x(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,r){e.on("start.zoom",function(){v(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){v(this,arguments).event(r).end()}).tween("zoom",function(){var e=arguments,i=v(this,e).event(r),a=o.apply(this,e),l=null==n?x(a):"function"==typeof n?n.apply(this,e):n,s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=this.__zoom,u="function"==typeof t?t.apply(this,e):t,h=d(c.invert(l).concat(s/c.k),u.invert(l).concat(s/u.k));return function(e){if(1===e)e=u;else{var t=h(e),n=s/t[2];e=new tF(n,l[0]-t[0]*n,l[1]-t[1]*n)}i.zoom(null,e)}})}function v(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function N(e,...t){if(r.apply(this,arguments)){var n=v(this,t).event(e),o=this.__zoom,l=Math.max(s[0],Math.min(s[1],o.k*Math.pow(2,a.apply(this,arguments)))),u=eE(e);if(n.wheel)(n.mouse[0][0]!==u[0]||n.mouse[0][1]!==u[1])&&(n.mouse[1]=o.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(o.k===l)return;n.mouse=[u,o.invert(u)],eK(this),n.start()}tY(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",i(y(g(o,l),n.mouse[0],n.mouse[1]),n.extent,c))}}function S(e,...t){if(!n&&r.apply(this,arguments)){var o=e.currentTarget,a=v(this,t,!0).event(e),l=eg(e.view).on("mousemove.zoom",function(e){if(tY(e),!a.moved){var t=e.clientX-u,n=e.clientY-d;a.moved=t*t+n*n>p}a.event(e).zoom("mouse",i(y(a.that.__zoom,a.mouse[0]=eE(e,o),a.mouse[1]),a.extent,c))},!0).on("mouseup.zoom",function(e){l.on("mousemove.zoom mouseup.zoom",null),eN(e.view,a.moved),tY(e),a.event(e).end()},!0),s=eE(e,o),u=e.clientX,d=e.clientY;ew(e.view),tX(e),a.mouse=[s,this.__zoom.invert(s)],eK(this),a.start()}}function _(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,a=eE(e.changedTouches?e.changedTouches[0]:e,this),l=n.invert(a),s=n.k*(e.shiftKey?.5:2),d=i(y(g(n,s),a,l),o.apply(this,t),c);tY(e),u>0?eg(this).transition().duration(u).call(b,d,a,e):eg(this).call(m.transform,d,a,e)}}function E(n,...o){if(r.apply(this,arguments)){var i,a,l,s,c=n.touches,u=c.length,d=v(this,o,n.changedTouches.length===u).event(n);for(tX(n),a=0;a<u;++a)s=[s=eE(l=c[a],this),this.__zoom.invert(s),l.identifier],d.touch0?d.touch1||d.touch0[2]===s[2]||(d.touch1=s,d.taps=0):(d.touch0=s,i=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(d.taps<2&&(t=s[0],e=setTimeout(function(){e=null},500)),eK(this),d.start())}}function M(e,...t){if(this.__zooming){var n,r,o,a,l=v(this,t).event(e),s=e.changedTouches,u=s.length;for(tY(e),n=0;n<u;++n)o=eE(r=s[n],this),l.touch0&&l.touch0[2]===r.identifier?l.touch0[0]=o:l.touch1&&l.touch1[2]===r.identifier&&(l.touch1[0]=o);if(r=l.that.__zoom,l.touch1){var d=l.touch0[0],h=l.touch0[1],p=l.touch1[0],f=l.touch1[1],m=(m=p[0]-d[0])*m+(m=p[1]-d[1])*m,x=(x=f[0]-h[0])*x+(x=f[1]-h[1])*x;r=g(r,Math.sqrt(m/x)),o=[(d[0]+p[0])/2,(d[1]+p[1])/2],a=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!l.touch0)return;o=l.touch0[0],a=l.touch0[1]}l.zoom("touch",i(y(r,o,a),l.extent,c))}}function j(e,...r){if(this.__zooming){var o,i,a=v(this,r).event(e),l=e.changedTouches,s=l.length;for(tX(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),o=0;o<s;++o)i=l[o],a.touch0&&a.touch0[2]===i.identifier?delete a.touch0:a.touch1&&a.touch1[2]===i.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(i=eE(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<f)){var c=eg(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",tZ),e!==o?b(e,t,n,r):o.interrupt().each(function(){v(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,n,r){m.scaleTo(e,function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n},n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?x(e):"function"==typeof n?n.apply(this,arguments):n,l=r.invert(a),s="function"==typeof t?t.apply(this,arguments):t;return i(y(g(r,s),a,l),e,c)},n,r)},m.translateBy=function(e,t,n,r){m.transform(e,function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),c)},null,r)},m.translateTo=function(e,t,n,r,a){m.transform(e,function(){var e=o.apply(this,arguments),a=this.__zoom,l=null==r?x(e):"function"==typeof r?r.apply(this,arguments):r;return i(tq.translate(l[0],l[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)},r,a)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=eg(this.that).datum();h.call(e,this.that,new tV(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:tH(+e),m):a},m.filter=function(e){return arguments.length?(r="function"==typeof e?e:tH(!!e),m):r},m.touchable=function(e){return arguments.length?(l="function"==typeof e?e:tH(!!e),m):l},m.extent=function(e){return arguments.length?(o="function"==typeof e?e:tH([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):o},m.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],m):[s[0],s[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m.tapDistance=function(e){return arguments.length?(f=+e,m):f},m}tF.prototype;let t0=e=>()=>e;function t1(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:l,dx:s,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function t2(e){return!e.ctrlKey&&!e.button}function t3(){return this.parentNode}function t5(e,t){return null==t?{x:e.x,y:e.y}:t}function t4(){return navigator.maxTouchPoints||"ontouchstart"in this}t1.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e},n(2182);let t7=(0,p.createContext)(null),t6=t7.Provider,t8={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},t9=t8.error001();function ne(e,t){let n=(0,p.useContext)(t7);if(null===n)throw Error(t9);return w(n,e,t)}let nt=()=>{let e=(0,p.useContext)(t7);if(null===e)throw Error(t9);return(0,p.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},nn=e=>e.userSelectionActive?"none":"all";function nr({position:e,children:t,className:n,style:r,...o}){let i=ne(nn),a=`${e}`.split("-");return p.createElement("div",{className:f(["react-flow__panel",n,...a]),style:{...r,pointerEvents:i},...o},t)}function no({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:p.createElement(nr,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},p.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var ni=(0,p.memo)(({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:a=[2,4],labelBgBorderRadius:l=2,children:s,className:c,...u})=>{let d=(0,p.useRef)(null),[h,m]=(0,p.useState)({x:0,y:0,width:0,height:0}),g=f(["react-flow__edge-textwrapper",c]);return((0,p.useEffect)(()=>{if(d.current){let e=d.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}},[n]),void 0!==n&&n)?p.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:g,visibility:h.width?"visible":"hidden",...u},o&&p.createElement("rect",{width:h.width+2*a[0],x:-a[0],y:-a[1],height:h.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),p.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:d,style:r},n),s):null});let na=e=>({width:e.offsetWidth,height:e.offsetHeight}),nl=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ns=(e={x:0,y:0},t)=>({x:nl(e.x,t[0][0],t[1][0]),y:nl(e.y,t[0][1],t[1][1])}),nc=(e,t,n)=>e<t?nl(Math.abs(e-t),1,50)/50:e>n?-nl(Math.abs(e-n),1,50)/50:0,nu=(e,t)=>[20*nc(e.x,35,t.width-35),20*nc(e.y,35,t.height-35)],nd=e=>e.getRootNode?.()||window?.document,nh=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),np=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),nf=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),nm=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),ng=(e,t)=>nf(nh(np(e),np(t))),ny=(e,t)=>Math.ceil(Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))),nx=e=>nb(e.width)&&nb(e.height)&&nb(e.x)&&nb(e.y),nb=e=>!isNaN(e)&&isFinite(e),nv=Symbol.for("internals"),nw=["Enter"," ","Escape"],nN=(e,t)=>{},nS=e=>"nativeEvent"in e;function n_(e){let t=nS(e)?e.nativeEvent:e,n=t.composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}let nE=e=>"clientX"in e,nk=(e,t)=>{let n=nE(e),r=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:o-(t?.top??0)}},nM=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0,nj=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:h,interactionWidth:f=20})=>p.createElement(p.Fragment,null,p.createElement("path",{id:e,style:u,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:h}),f&&p.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}),o&&nb(n)&&nb(r)?p.createElement(ni,{x:n,y:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:c}):null);function nC(e,t,n){return void 0===n?n:r=>{let o=t().edges.find(t=>t.id===e);o&&n(r,{...o})}}function n$({sourceX:e,sourceY:t,targetX:n,targetY:r}){let o=Math.abs(n-e)/2,i=Math.abs(r-t)/2;return[n<e?n+o:n-o,r<t?r+i:r-i,o,i]}function nz({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:l}){let s=.125*e+.375*o+.375*a+.125*n,c=.125*t+.375*i+.375*l+.125*r;return[s,c,Math.abs(s-e),Math.abs(c-t)]}function nA({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===u.Left||e===u.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function nI({sourceX:e,sourceY:t,sourcePosition:n=u.Bottom,targetX:r,targetY:o,targetPosition:i=u.Top}){let[a,l]=nA({pos:n,x1:e,y1:t,x2:r,y2:o}),[s,c]=nA({pos:i,x1:r,y1:o,x2:e,y2:t}),[d,h,p,f]=nz({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:l,targetControlX:s,targetControlY:c});return[`M${e},${t} C${a},${l} ${s},${c} ${r},${o}`,d,h,p,f]}nj.displayName="BaseEdge",function(e){e.Strict="strict",e.Loose="loose"}(i||(i={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(a||(a={})),function(e){e.Partial="partial",e.Full="full"}(l||(l={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(s||(s={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(c||(c={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(u||(u={}));let nP=(0,p.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=u.Bottom,targetPosition:i=u.Top,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:g,interactionWidth:y})=>{let[x,b,v]=nI({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i});return p.createElement(nj,{path:x,labelX:b,labelY:v,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:g,interactionWidth:y})});nP.displayName="SimpleBezierEdge";let nD={[u.Left]:{x:-1,y:0},[u.Right]:{x:1,y:0},[u.Top]:{x:0,y:-1},[u.Bottom]:{x:0,y:1}},nT=({source:e,sourcePosition:t=u.Bottom,target:n})=>t===u.Left||t===u.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},nO=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function nR({sourceX:e,sourceY:t,sourcePosition:n=u.Bottom,targetX:r,targetY:o,targetPosition:i=u.Top,borderRadius:a=5,centerX:l,centerY:s,offset:c=20}){let[d,h,p,f,m]=function({source:e,sourcePosition:t=u.Bottom,target:n,targetPosition:r=u.Top,center:o,offset:i}){let a,l;let s=nD[t],c=nD[r],d={x:e.x+s.x*i,y:e.y+s.y*i},h={x:n.x+c.x*i,y:n.y+c.y*i},p=nT({source:d,sourcePosition:t,target:h}),f=0!==p.x?"x":"y",m=p[f],g=[],y={x:0,y:0},x={x:0,y:0},[b,v,w,N]=n$({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*c[f]==-1){a=o.x??b,l=o.y??v;let e=[{x:a,y:d.y},{x:a,y:h.y}],t=[{x:d.x,y:l},{x:h.x,y:l}];g=s[f]===m?"x"===f?e:t:"x"===f?t:e}else{let o=[{x:d.x,y:h.y}],u=[{x:h.x,y:d.y}];if(g="x"===f?s.x===m?u:o:s.y===m?o:u,t===r){let t=Math.abs(e[f]-n[f]);if(t<=i){let r=Math.min(i-1,i-t);s[f]===m?y[f]=(d[f]>e[f]?-1:1)*r:x[f]=(h[f]>n[f]?-1:1)*r}}if(t!==r){let e="x"===f?"y":"x",t=s[f]===c[e],n=d[e]>h[e],r=d[e]<h[e];(1===s[f]&&(!t&&n||t&&r)||1!==s[f]&&(!t&&r||t&&n))&&(g="x"===f?o:u)}let p={x:d.x+y.x,y:d.y+y.y},b={x:h.x+x.x,y:h.y+x.y};Math.max(Math.abs(p.x-g[0].x),Math.abs(b.x-g[0].x))>=Math.max(Math.abs(p.y-g[0].y),Math.abs(b.y-g[0].y))?(a=(p.x+b.x)/2,l=g[0].y):(a=g[0].x,l=(p.y+b.y)/2)}return[[e,{x:d.x+y.x,y:d.y+y.y},...g,{x:h.x+x.x,y:h.y+x.y},n],a,l,w,N]}({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:l,y:s},offset:c});return[d.reduce((e,t,n)=>e+(n>0&&n<d.length-1?function(e,t,n,r){let o=Math.min(nO(e,t)/2,nO(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){let t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return`L ${i+o*t},${a}Q ${i},${a} ${i},${a+o*r}`}let l=e.x<n.x?1:-1,s=e.y<n.y?-1:1;return`L ${i},${a+o*s}Q ${i},${a} ${i+o*l},${a}`}(d[n-1],t,d[n+1],a):`${0===n?"M":"L"}${t.x} ${t.y}`),""),h,p,f,m]}let nB=(0,p.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:c,style:d,sourcePosition:h=u.Bottom,targetPosition:f=u.Top,markerEnd:m,markerStart:g,pathOptions:y,interactionWidth:x})=>{let[b,v,w]=nR({sourceX:e,sourceY:t,sourcePosition:h,targetX:n,targetY:r,targetPosition:f,borderRadius:y?.borderRadius,offset:y?.offset});return p.createElement(nj,{path:b,labelX:v,labelY:w,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:c,style:d,markerEnd:m,markerStart:g,interactionWidth:x})});nB.displayName="SmoothStepEdge";let nL=(0,p.memo)(e=>p.createElement(nB,{...e,pathOptions:(0,p.useMemo)(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));nL.displayName="StepEdge";let nH=(0,p.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:h,interactionWidth:f})=>{let[m,g,y]=function({sourceX:e,sourceY:t,targetX:n,targetY:r}){let[o,i,a,l]=n$({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,a,l]}({sourceX:e,sourceY:t,targetX:n,targetY:r});return p.createElement(nj,{path:m,labelX:g,labelY:y,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:h,interactionWidth:f})});function nV(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function nF({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case u.Left:return[t-nV(t-r,i),n];case u.Right:return[t+nV(r-t,i),n];case u.Top:return[t,n-nV(n-o,i)];case u.Bottom:return[t,n+nV(o-n,i)]}}function nq({sourceX:e,sourceY:t,sourcePosition:n=u.Bottom,targetX:r,targetY:o,targetPosition:i=u.Top,curvature:a=.25}){let[l,s]=nF({pos:n,x1:e,y1:t,x2:r,y2:o,c:a}),[c,d]=nF({pos:i,x1:r,y1:o,x2:e,y2:t,c:a}),[h,p,f,m]=nz({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:s,targetControlX:c,targetControlY:d});return[`M${e},${t} C${l},${s} ${c},${d} ${r},${o}`,h,p,f,m]}nH.displayName="StraightEdge";let nX=(0,p.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=u.Bottom,targetPosition:i=u.Top,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:g,pathOptions:y,interactionWidth:x})=>{let[b,v,w]=nq({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:i,curvature:y?.curvature});return p.createElement(nj,{path:b,labelX:v,labelY:w,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:g,interactionWidth:x})});nX.displayName="BezierEdge";let nY=(0,p.createContext)(null),nU=nY.Provider;nY.Consumer;let nW=()=>(0,p.useContext)(nY),nZ=e=>"id"in e&&"source"in e&&"target"in e,nK=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,nG=(e,t)=>{if(void 0===e)return"";if("string"==typeof e)return e;let n=t?`${t}__`:"";return`${n}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`},nQ=(e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)),nJ=(e,t)=>{let n;return e.source&&e.target?nQ(n=nZ(e)?{...e}:{...e,id:nK(e)},t)?t:t.concat(n):(nN("006",t8.error006()),t)},n0=({x:e,y:t},[n,r,o],i,[a,l])=>{let s={x:(e-n)/o,y:(t-r)/o};return i?{x:a*Math.round(s.x/a),y:l*Math.round(s.y/l)}:s},n1=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),n2=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};let n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},n3=(e,t=[0,0])=>0===e.length?{x:0,y:0,width:0,height:0}:nf(e.reduce((e,n)=>{let{x:r,y:o}=n2(n,t).positionAbsolute;return nh(e,np({x:r,y:o,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),n5=(e,t,[n,r,o]=[0,0,1],i=!1,a=!1,l=[0,0])=>{let s={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},c=[];return e.forEach(e=>{let{width:t,height:n,selectable:r=!0,hidden:o=!1}=e;if(a&&!r||o)return!1;let{positionAbsolute:u}=n2(e,l),d=ny(s,{x:u.x,y:u.y,width:t||0,height:n||0}),h=void 0===t||void 0===n||null===t||null===n,p=(t||0)*(n||0);(h||i&&d>0||d>=p||e.dragging)&&c.push(e)}),c},n4=(e,t)=>{let n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},n7=(e,t,n,r,o,i=.1)=>{let a=nl(Math.min(t/(e.width*(1+i)),n/(e.height*(1+i))),r,o);return{x:t/2-(e.x+e.width/2)*a,y:n/2-(e.y+e.height/2)*a,zoom:a}},n6=(e,t=0)=>e.transition().duration(t);function n8(e,t,n,r){return(t[n]||[]).reduce((t,o)=>(`${e.id}-${o.id}-${n}`!==r&&t.push({id:o.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+o.x+o.width/2,y:(e.positionAbsolute?.y??0)+o.y+o.height/2}),t),[])}let n9={source:null,target:null,sourceHandle:null,targetHandle:null},re=()=>({handleDomNode:null,isValid:!1,connection:n9,endHandle:null});function rt(e,t,n,r,o,a,l){let s="target"===o,c=l.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),u={...re(),handleDomNode:c};if(c){let e=rn(void 0,c),o=c.getAttribute("data-nodeid"),l=c.getAttribute("data-handleid"),d=c.classList.contains("connectable"),h=c.classList.contains("connectableend"),p={source:s?o:n,sourceHandle:s?l:r,target:s?n:o,targetHandle:s?r:l};u.connection=p,d&&h&&(t===i.Strict?s&&"source"===e||!s&&"target"===e:o!==n||l!==r)&&(u.endHandle={nodeId:o,handleId:l,type:e},u.isValid=a(p))}return u}function rn(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function rr(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function ro({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:i,setState:a,isValidConnection:l,edgeUpdaterType:s,onReconnectEnd:c}){let u,d;let h=nd(e.target),{connectionMode:p,domNode:f,autoPanOnConnect:m,connectionRadius:g,onConnectStart:y,panBy:x,getNodes:b,cancelConnection:v}=i(),w=0,{x:N,y:S}=nk(e),_=rn(s,h?.elementFromPoint(N,S)),E=f?.getBoundingClientRect();if(!E||!_)return;let k=nk(e,E),M=!1,j=null,C=!1,$=null,z=function({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((e,o)=>{if(o[nv]){let{handleBounds:i}=o[nv],a=[],l=[];i&&(a=n8(o,i,"source",`${t}-${n}-${r}`),l=n8(o,i,"target",`${t}-${n}-${r}`)),e.push(...a,...l)}return e},[])}({nodes:b(),nodeId:n,handleId:t,handleType:_}),A=()=>{if(!m)return;let[e,t]=nu(k,E);x({x:e,y:t}),w=requestAnimationFrame(A)};function I(e){var r,s;let c;let{transform:f}=i();k=nk(e,E);let{handle:m,validHandleResult:y}=function(e,t,n,r,o,i){let{x:a,y:l}=nk(e),s=t.elementsFromPoint(a,l).find(e=>e.classList.contains("react-flow__handle"));if(s){let e=s.getAttribute("data-nodeid");if(e){let t=rn(void 0,s),r=s.getAttribute("data-handleid"),a=i({nodeId:e,id:r,type:t});if(a){let i=o.find(n=>n.nodeId===e&&n.type===t&&n.id===r);return{handle:{id:r,type:t,nodeId:e,x:i?.x||n.x,y:i?.y||n.y},validHandleResult:a}}}}let c=[],u=1/0;if(o.forEach(e=>{let t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){let n=i(e);t<=u&&(t<u?c=[{handle:e,validHandleResult:n}]:t===u&&c.push({handle:e,validHandleResult:n}),u=t)}}),!c.length)return{handle:null,validHandleResult:re()};if(1===c.length)return c[0];let d=c.some(({validHandleResult:e})=>e.isValid),h=c.some(({handle:e})=>"target"===e.type);return c.find(({handle:e,validHandleResult:t})=>h?"target"===e.type:!d||t.isValid)||c[0]}(e,h,n0(k,f,!1,[1,1]),g,z,e=>rt(e,p,n,t,o?"target":"source",l,h));if(u=m,M||(A(),M=!0),$=y.handleDomNode,j=y.connection,C=y.isValid,a({connectionPosition:u&&C?n1({x:u.x,y:u.y},f):k,connectionStatus:(r=!!u,c=null,(s=C)?c="valid":r&&!s&&(c="invalid"),c),connectionEndHandle:y.endHandle}),!u&&!C&&!$)return rr(d);j.source!==j.target&&$&&(rr(d),d=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",C),$.classList.toggle("react-flow__handle-valid",C))}function P(e){(u||$)&&j&&C&&r?.(j),i().onConnectEnd?.(e),s&&c?.(e),rr(d),v(),cancelAnimationFrame(w),M=!1,C=!1,j=null,$=null,h.removeEventListener("mousemove",I),h.removeEventListener("mouseup",P),h.removeEventListener("touchmove",I),h.removeEventListener("touchend",P)}a({connectionPosition:k,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:_,connectionStartHandle:{nodeId:n,handleId:t,type:_},connectionEndHandle:null}),y?.(e,{nodeId:n,handleId:t,handleType:_}),h.addEventListener("mousemove",I),h.addEventListener("mouseup",P),h.addEventListener("touchmove",I),h.addEventListener("touchend",P)}let ri=()=>!0,ra=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),rl=(e,t,n)=>r=>{let{connectionStartHandle:o,connectionEndHandle:i,connectionClickStartHandle:a}=r;return{connecting:o?.nodeId===e&&o?.handleId===t&&o?.type===n||i?.nodeId===e&&i?.handleId===t&&i?.type===n,clickConnecting:a?.nodeId===e&&a?.handleId===t&&a?.type===n}},rs=(0,p.forwardRef)(({type:e="source",position:t=u.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:i=!0,id:a,onConnect:l,children:s,className:c,onMouseDown:d,onTouchStart:h,...m},g)=>{let y=a||null,x="target"===e,b=nt(),v=nW(),{connectOnClick:w,noPanClassName:N}=ne(ra,_),{connecting:S,clickConnecting:E}=ne(rl(v,y,e),_);v||b.getState().onError?.("010",t8.error010());let k=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=b.getState(),o={...t,...e};if(r){let{edges:e,setEdges:t}=b.getState();t(nJ(o,e))}n?.(o),l?.(o)},M=e=>{if(!v)return;let t=nE(e);o&&(t&&0===e.button||!t)&&ro({event:e,handleId:y,nodeId:v,onConnect:k,isTarget:x,getState:b.getState,setState:b.setState,isValidConnection:n||b.getState().isValidConnection||ri}),t?d?.(e):h?.(e)};return p.createElement("div",{"data-handleid":y,"data-nodeid":v,"data-handlepos":t,"data-id":`${v}-${y}-${e}`,className:f(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",N,c,{source:!x,target:x,connectable:r,connectablestart:o,connectableend:i,connecting:E,connectionindicator:r&&(o&&!S||i&&S)}]),onMouseDown:M,onTouchStart:M,onClick:w?t=>{let{onClickConnectStart:r,onClickConnectEnd:i,connectionClickStartHandle:a,connectionMode:l,isValidConnection:s}=b.getState();if(!v||!a&&!o)return;if(!a){r?.(t,{nodeId:v,handleId:y,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:v,type:e,handleId:y}});return}let c=nd(t.target),u=n||s||ri,{connection:d,isValid:h}=rt({nodeId:v,id:y,type:e},l,a.nodeId,a.handleId||null,a.type,u,c);h&&k(d),i?.(t),b.setState({connectionClickStartHandle:null})}:void 0,ref:g,...m},s)});rs.displayName="Handle";var rc=(0,p.memo)(rs);let ru=({data:e,isConnectable:t,targetPosition:n=u.Top,sourcePosition:r=u.Bottom})=>p.createElement(p.Fragment,null,p.createElement(rc,{type:"target",position:n,isConnectable:t}),e?.label,p.createElement(rc,{type:"source",position:r,isConnectable:t}));ru.displayName="DefaultNode";var rd=(0,p.memo)(ru);let rh=({data:e,isConnectable:t,sourcePosition:n=u.Bottom})=>p.createElement(p.Fragment,null,e?.label,p.createElement(rc,{type:"source",position:n,isConnectable:t}));rh.displayName="InputNode";var rp=(0,p.memo)(rh);let rf=({data:e,isConnectable:t,targetPosition:n=u.Top})=>p.createElement(p.Fragment,null,p.createElement(rc,{type:"target",position:n,isConnectable:t}),e?.label);rf.displayName="OutputNode";var rm=(0,p.memo)(rf);let rg=()=>null;rg.displayName="GroupNode";let ry=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>({...e}))}),rx=e=>e.id;function rb(e,t){return _(e.selectedNodes.map(rx),t.selectedNodes.map(rx))&&_(e.selectedEdges.map(rx),t.selectedEdges.map(rx))}let rv=(0,p.memo)(({onSelectionChange:e})=>{let t=nt(),{selectedNodes:n,selectedEdges:r}=ne(ry,rb);return(0,p.useEffect)(()=>{let o={nodes:n,edges:r};e?.(o),t.getState().onSelectionChange.forEach(e=>e(o))},[n,r,e]),null});rv.displayName="SelectionListener";let rw=e=>!!e.onSelectionChange;function rN({onSelectionChange:e}){let t=ne(rw);return e||t?p.createElement(rv,{onSelectionChange:e}):null}let rS=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function r_(e,t){(0,p.useEffect)(()=>{void 0!==e&&t(e)},[e])}function rE(e,t,n){(0,p.useEffect)(()=>{void 0!==t&&n({[e]:t})},[t])}let rk=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:i,onConnectEnd:a,onClickConnectStart:l,onClickConnectEnd:s,nodesDraggable:c,nodesConnectable:u,nodesFocusable:d,edgesFocusable:h,edgesUpdatable:f,elevateNodesOnSelect:m,minZoom:g,maxZoom:y,nodeExtent:x,onNodesChange:b,onEdgesChange:v,elementsSelectable:w,connectionMode:N,snapGrid:S,snapToGrid:E,translateExtent:k,connectOnClick:M,defaultEdgeOptions:j,fitView:C,fitViewOptions:$,onNodesDelete:z,onEdgesDelete:A,onNodeDrag:I,onNodeDragStart:P,onNodeDragStop:D,onSelectionDrag:T,onSelectionDragStart:O,onSelectionDragStop:R,noPanClassName:B,nodeOrigin:L,rfId:H,autoPanOnConnect:V,autoPanOnNodeDrag:F,onError:q,connectionRadius:X,isValidConnection:Y,nodeDragThreshold:U})=>{let{setNodes:W,setEdges:Z,setDefaultNodesAndEdges:K,setMinZoom:G,setMaxZoom:Q,setTranslateExtent:J,setNodeExtent:ee,reset:et}=ne(rS,_),en=nt();return(0,p.useEffect)(()=>(K(n,r?.map(e=>({...e,...j}))),()=>{et()}),[]),rE("defaultEdgeOptions",j,en.setState),rE("connectionMode",N,en.setState),rE("onConnect",o,en.setState),rE("onConnectStart",i,en.setState),rE("onConnectEnd",a,en.setState),rE("onClickConnectStart",l,en.setState),rE("onClickConnectEnd",s,en.setState),rE("nodesDraggable",c,en.setState),rE("nodesConnectable",u,en.setState),rE("nodesFocusable",d,en.setState),rE("edgesFocusable",h,en.setState),rE("edgesUpdatable",f,en.setState),rE("elementsSelectable",w,en.setState),rE("elevateNodesOnSelect",m,en.setState),rE("snapToGrid",E,en.setState),rE("snapGrid",S,en.setState),rE("onNodesChange",b,en.setState),rE("onEdgesChange",v,en.setState),rE("connectOnClick",M,en.setState),rE("fitViewOnInit",C,en.setState),rE("fitViewOnInitOptions",$,en.setState),rE("onNodesDelete",z,en.setState),rE("onEdgesDelete",A,en.setState),rE("onNodeDrag",I,en.setState),rE("onNodeDragStart",P,en.setState),rE("onNodeDragStop",D,en.setState),rE("onSelectionDrag",T,en.setState),rE("onSelectionDragStart",O,en.setState),rE("onSelectionDragStop",R,en.setState),rE("noPanClassName",B,en.setState),rE("nodeOrigin",L,en.setState),rE("rfId",H,en.setState),rE("autoPanOnConnect",V,en.setState),rE("autoPanOnNodeDrag",F,en.setState),rE("onError",q,en.setState),rE("connectionRadius",X,en.setState),rE("isValidConnection",Y,en.setState),rE("nodeDragThreshold",U,en.setState),r_(e,W),r_(t,Z),r_(g,G),r_(y,Q),r_(k,J),r_(x,ee),null},rM={display:"none"},rj={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},rC="react-flow__node-desc",r$="react-flow__edge-desc",rz=e=>e.ariaLiveMessage;function rA({rfId:e}){let t=ne(rz);return p.createElement("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:rj},t)}function rI({rfId:e,disableKeyboardA11y:t}){return p.createElement(p.Fragment,null,p.createElement("div",{id:`${rC}-${e}`,style:rM},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),p.createElement("div",{id:`${r$}-${e}`,style:rM},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&p.createElement(rA,{rfId:e}))}var rP=(e=null,t={actInsideInputWithModifier:!0})=>{let[n,r]=(0,p.useState)(!1),o=(0,p.useRef)(!1),i=(0,p.useRef)(new Set([])),[a,l]=(0,p.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,p.useEffect)(()=>{let n="undefined"!=typeof document?document:null,s=t?.target||n;if(null!==e){let e=e=>{if(o.current=e.ctrlKey||e.metaKey||e.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&n_(e))return!1;let n=rT(e.code,l);i.current.add(e[n]),rD(a,i.current,!1)&&(e.preventDefault(),r(!0))},n=e=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&n_(e))return!1;let n=rT(e.code,l);rD(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(e[n]),"Meta"===e.key&&i.current.clear(),o.current=!1},c=()=>{i.current.clear(),r(!1)};return s?.addEventListener("keydown",e),s?.addEventListener("keyup",n),window.addEventListener("blur",c),()=>{s?.removeEventListener("keydown",e),s?.removeEventListener("keyup",n),window.removeEventListener("blur",c)}}},[e,r]),n};function rD(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function rT(e,t){return t.includes(e)?"code":"key"}function rO(e,t,n){e.forEach(r=>{let o=r.parentNode||r.parentId;if(o&&!e.has(o))throw Error(`Parent node ${o} not found`);if(o||n?.[r.id]){let{x:o,y:i,z:a}=function e(t,n,r,o){let i=t.parentNode||t.parentId;if(!i)return r;let a=n.get(i),l=n2(a,o);return e(a,n,{x:(r.x??0)+l.x,y:(r.y??0)+l.y,z:(a[nv]?.z??0)>(r.z??0)?a[nv]?.z??0:r.z??0},o)}(r,e,{...r.position,z:r[nv]?.z??0},t);r.positionAbsolute={x:o,y:i},r[nv].z=a,n?.[r.id]&&(r[nv].isParent=!0)}})}function rR(e,t,n,r){let o=new Map,i={},a=r?1e3:0;return e.forEach(e=>{let n=(nb(e.zIndex)?e.zIndex:0)+(e.selected?a:0),r=t.get(e.id),l={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},s=e.parentNode||e.parentId;s&&(i[s]=!0),Object.defineProperty(l,nv,{enumerable:!1,value:{handleBounds:r?.type&&r?.type!==e.type?void 0:r?.[nv]?.handleBounds,z:n}}),o.set(e.id,l)}),rO(o,n,i),o}function rB(e,t={}){let{getNodes:n,width:r,height:o,minZoom:i,maxZoom:a,d3Zoom:l,d3Selection:s,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),h=t.initial&&!c&&u;if(l&&s&&(h||!t.initial)){let e=n().filter(e=>{let n=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return t.nodes?.length?n&&t.nodes.some(t=>t.id===e.id):n}),c=e.every(e=>e.width&&e.height);if(e.length>0&&c){let{x:n,y:c,zoom:u}=n7(n3(e,d),r,o,t.minZoom??i,t.maxZoom??a,t.padding??.1),h=tq.translate(n,c).scale(u);return"number"==typeof t.duration&&t.duration>0?l.transform(n6(s,t.duration),h):l.transform(s,h),!0}}return!1}function rL({changedNodes:e,changedEdges:t,get:n,set:r}){let{nodeInternals:o,edges:i,onNodesChange:a,onEdgesChange:l,hasDefaultNodes:s,hasDefaultEdges:c}=n();e?.length&&(s&&r({nodeInternals:(e.forEach(e=>{let t=o.get(e.id);t&&o.set(t.id,{...t,[nv]:t[nv],selected:e.selected})}),new Map(o))}),a?.(e)),t?.length&&(c&&r({edges:i.map(e=>{let n=t.find(t=>t.id===e.id);return n&&(e.selected=n.selected),e})}),l?.(t))}let rH=()=>{},rV={zoomIn:rH,zoomOut:rH,zoomTo:rH,getZoom:()=>1,setViewport:rH,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:rH,fitBounds:rH,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},rF=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),rq=()=>{let e=nt(),{d3Zoom:t,d3Selection:n}=ne(rF,_);return(0,p.useMemo)(()=>n&&t?{zoomIn:e=>t.scaleBy(n6(n,e?.duration),1.2),zoomOut:e=>t.scaleBy(n6(n,e?.duration),1/1.2),zoomTo:(e,r)=>t.scaleTo(n6(n,r?.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(r,o)=>{let[i,a,l]=e.getState().transform,s=tq.translate(r.x??i,r.y??a).scale(r.zoom??l);t.transform(n6(n,o?.duration),s)},getViewport:()=>{let[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>rB(e.getState,t),setCenter:(r,o,i)=>{let{width:a,height:l,maxZoom:s}=e.getState(),c=void 0!==i?.zoom?i.zoom:s,u=a/2-r*c,d=l/2-o*c,h=tq.translate(u,d).scale(c);t.transform(n6(n,i?.duration),h)},fitBounds:(r,o)=>{let{width:i,height:a,minZoom:l,maxZoom:s}=e.getState(),{x:c,y:u,zoom:d}=n7(r,i,a,l,s,o?.padding??.1),h=tq.translate(c,u).scale(d);t.transform(n6(n,o?.duration),h)},project:t=>{let{transform:n,snapToGrid:r,snapGrid:o}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),n0(t,n,r,o)},screenToFlowPosition:t=>{let{transform:n,snapToGrid:r,snapGrid:o,domNode:i}=e.getState();if(!i)return t;let{x:a,y:l}=i.getBoundingClientRect();return n0({x:t.x-a,y:t.y-l},n,r,o)},flowToScreenPosition:t=>{let{transform:n,domNode:r}=e.getState();if(!r)return t;let{x:o,y:i}=r.getBoundingClientRect(),a=n1(t,n);return{x:a.x+o,y:a.y+i}},viewportInitialized:!0}:rV,[t,n])};function rX(){let e=rq(),t=nt(),n=(0,p.useCallback)(()=>t.getState().getNodes().map(e=>({...e})),[]),r=(0,p.useCallback)(e=>t.getState().nodeInternals.get(e),[]),o=(0,p.useCallback)(()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},[]),i=(0,p.useCallback)(e=>{let{edges:n=[]}=t.getState();return n.find(t=>t.id===e)},[]),a=(0,p.useCallback)(e=>{let{getNodes:n,setNodes:r,hasDefaultNodes:o,onNodesChange:i}=t.getState(),a=n(),l="function"==typeof e?e(a):e;o?r(l):i&&i(0===l.length?a.map(e=>({type:"remove",id:e.id})):l.map(e=>({item:e,type:"reset"})))},[]),l=(0,p.useCallback)(e=>{let{edges:n=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i}=t.getState(),a="function"==typeof e?e(n):e;o?r(a):i&&i(0===a.length?n.map(e=>({type:"remove",id:e.id})):a.map(e=>({item:e,type:"reset"})))},[]),s=(0,p.useCallback)(e=>{let n=Array.isArray(e)?e:[e],{getNodes:r,setNodes:o,hasDefaultNodes:i,onNodesChange:a}=t.getState();i?o([...r(),...n]):a&&a(n.map(e=>({item:e,type:"add"})))},[]),c=(0,p.useCallback)(e=>{let n=Array.isArray(e)?e:[e],{edges:r=[],setEdges:o,hasDefaultEdges:i,onEdgesChange:a}=t.getState();i?o([...r,...n]):a&&a(n.map(e=>({item:e,type:"add"})))},[]),u=(0,p.useCallback)(()=>{let{getNodes:e,edges:n=[],transform:r}=t.getState(),[o,i,a]=r;return{nodes:e().map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:o,y:i,zoom:a}}},[]),d=(0,p.useCallback)(({nodes:e,edges:n})=>{let{nodeInternals:r,getNodes:o,edges:i,hasDefaultNodes:a,hasDefaultEdges:l,onNodesDelete:s,onEdgesDelete:c,onNodesChange:u,onEdgesChange:d}=t.getState(),h=(e||[]).map(e=>e.id),p=(n||[]).map(e=>e.id),f=o().reduce((e,t)=>{let n=t.parentNode||t.parentId,r=!h.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!=typeof t.deletable||t.deletable)&&(h.includes(t.id)||r)&&e.push(t),e},[]),m=i.filter(e=>"boolean"!=typeof e.deletable||e.deletable),g=m.filter(e=>p.includes(e.id));if(f||g){let e=[...g,...n4(f,m)],n=e.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);(l||a)&&(l&&t.setState({edges:i.filter(e=>!n.includes(e.id))}),a&&(f.forEach(e=>{r.delete(e.id)}),t.setState({nodeInternals:new Map(r)}))),n.length>0&&(c?.(e),d&&d(n.map(e=>({id:e,type:"remove"})))),f.length>0&&(s?.(f),u&&u(f.map(e=>({id:e.id,type:"remove"}))))}},[]),h=(0,p.useCallback)(e=>{let n=nx(e),r=n?null:t.getState().nodeInternals.get(e.id);return n||r?[n?e:nm(r),r,n]:[null,null,n]},[]),f=(0,p.useCallback)((e,n=!0,r)=>{let[o,i,a]=h(e);return o?(r||t.getState().getNodes()).filter(e=>{if(!a&&(e.id===i.id||!e.positionAbsolute))return!1;let t=ny(nm(e),o);return n&&t>0||t>=o.width*o.height}):[]},[]),m=(0,p.useCallback)((e,t,n=!0)=>{let[r]=h(e);if(!r)return!1;let o=ny(r,t);return n&&o>0||o>=r.width*r.height},[]);return(0,p.useMemo)(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:i,setNodes:a,setEdges:l,addNodes:s,addEdges:c,toObject:u,deleteElements:d,getIntersectingNodes:f,isNodeIntersecting:m}),[e,n,r,o,i,a,l,s,c,u,d,f,m])}let rY={actInsideInputWithModifier:!1};var rU=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{let n=nt(),{deleteElements:r}=rX(),o=rP(e,rY),i=rP(t);(0,p.useEffect)(()=>{if(o){let{edges:e,getNodes:t}=n.getState();r({nodes:t().filter(e=>e.selected),edges:e.filter(e=>e.selected)}),n.setState({nodesSelectionActive:!1})}},[o]),(0,p.useEffect)(()=>{n.setState({multiSelectionActive:i})},[i])};let rW={position:"absolute",width:"100%",height:"100%",top:0,left:0},rZ=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,rK=e=>({x:e.x,y:e.y,zoom:e.k}),rG=(e,t)=>e.target.closest(`.${t}`),rQ=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),rJ=e=>{let t=e.ctrlKey&&nM()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},r0=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),r1=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:l=!1,panOnScrollSpeed:s=.5,panOnScrollMode:c=a.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:f,translateExtent:m,minZoom:g,maxZoom:y,zoomActivationKeyCode:x,preventScrolling:b=!0,children:v,noWheelClassName:w,noPanClassName:N})=>{let S=(0,p.useRef)(),E=nt(),k=(0,p.useRef)(!1),M=(0,p.useRef)(!1),j=(0,p.useRef)(null),C=(0,p.useRef)({x:0,y:0,zoom:0}),{d3Zoom:$,d3Selection:z,d3ZoomHandler:A,userSelectionActive:I}=ne(r0,_),P=rP(x),D=(0,p.useRef)(0),T=(0,p.useRef)(!1),O=(0,p.useRef)();return function(e){let t=nt();(0,p.useEffect)(()=>{let n;let r=()=>{if(!e.current)return;let n=na(e.current);(0===n.height||0===n.width)&&t.getState().onError?.("004",t8.error004()),t.setState({width:n.width||500,height:n.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r())).observe(e.current),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}(j),(0,p.useEffect)(()=>{if(j.current){let e=j.current.getBoundingClientRect(),t=tJ().scaleExtent([g,y]).translateExtent(m),n=eg(j.current).call(t),r=tq.translate(f.x,f.y).scale(nl(f.zoom,g,y)),o=[[0,0],[e.width,e.height]],i=t.constrain()(r,o,m);t.transform(n,i),t.wheelDelta(rJ),E.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[i.x,i.y,i.k],domNode:j.current.closest(".react-flow")})}},[]),(0,p.useEffect)(()=>{z&&$&&(!l||P||I?void 0!==A&&z.on("wheel.zoom",function(e,t){if(!b&&"wheel"===e.type&&!e.ctrlKey||rG(e,w))return null;e.preventDefault(),A.call(this,e,t)},{passive:!1}):z.on("wheel.zoom",r=>{if(rG(r,w))return!1;r.preventDefault(),r.stopImmediatePropagation();let o=z.property("__zoom").k||1;if(r.ctrlKey&&i){let e=eE(r),t=rJ(r);$.scaleTo(z,o*Math.pow(2,t),e,r);return}let l=1===r.deltaMode?20:1,u=c===a.Vertical?0:r.deltaX*l,d=c===a.Horizontal?0:r.deltaY*l;!nM()&&r.shiftKey&&c!==a.Vertical&&(u=r.deltaY*l,d=0),$.translateBy(z,-(u/o)*s,-(d/o)*s,{internal:!0});let h=rK(z.property("__zoom")),{onViewportChangeStart:p,onViewportChange:f,onViewportChangeEnd:m}=E.getState();clearTimeout(O.current),T.current||(T.current=!0,t?.(r,h),p?.(h)),T.current&&(e?.(r,h),f?.(h),O.current=setTimeout(()=>{n?.(r,h),m?.(h),T.current=!1},150))},{passive:!1}))},[I,l,c,z,$,A,P,i,b,w,t,e,n]),(0,p.useEffect)(()=>{$&&$.on("start",e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;D.current=e.sourceEvent?.button;let{onViewportChangeStart:n}=E.getState(),r=rK(e.transform);k.current=!0,C.current=r,e.sourceEvent?.type==="mousedown"&&E.setState({paneDragging:!0}),n?.(r),t?.(e.sourceEvent,r)})},[$,t]),(0,p.useEffect)(()=>{$&&(I&&!k.current?$.on("zoom",null):I||$.on("zoom",t=>{let{onViewportChange:n}=E.getState();if(E.setState({transform:[t.transform.x,t.transform.y,t.transform.k]}),M.current=!!(r&&rQ(h,D.current??0)),(e||n)&&!t.sourceEvent?.internal){let r=rK(t.transform);n?.(r),e?.(t.sourceEvent,r)}}))},[I,$,e,h,r]),(0,p.useEffect)(()=>{$&&$.on("end",e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;let{onViewportChangeEnd:t}=E.getState();if(k.current=!1,E.setState({paneDragging:!1}),r&&rQ(h,D.current??0)&&!M.current&&r(e.sourceEvent),M.current=!1,(n||t)&&rZ(C.current,e.transform)){let r=rK(e.transform);C.current=r,clearTimeout(S.current),S.current=setTimeout(()=>{t?.(r),n?.(e.sourceEvent,r)},l?150:0)}})},[$,l,h,n,r]),(0,p.useEffect)(()=>{$&&$.filter(e=>{let t=P||o,n=i&&e.ctrlKey;if((!0===h||Array.isArray(h)&&h.includes(1))&&1===e.button&&"mousedown"===e.type&&(rG(e,"react-flow__node")||rG(e,"react-flow__edge")))return!0;if(!h&&!t&&!l&&!u&&!i||I||!u&&"dblclick"===e.type||rG(e,w)&&"wheel"===e.type||rG(e,N)&&("wheel"!==e.type||l&&"wheel"===e.type&&!P)||!i&&e.ctrlKey&&"wheel"===e.type||!t&&!l&&!n&&"wheel"===e.type||!h&&("mousedown"===e.type||"touchstart"===e.type)||Array.isArray(h)&&!h.includes(e.button)&&"mousedown"===e.type)return!1;let r=Array.isArray(h)&&h.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r})},[I,$,o,i,l,u,h,d,P]),p.createElement("div",{className:"react-flow__renderer",ref:j,style:rW},v)},r2=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function r3(){let{userSelectionActive:e,userSelectionRect:t}=ne(r2,_);return e&&t?p.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function r5(e,t){let n=t.parentNode||t.parentId,r=e.find(e=>e.id===n);if(r){let e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){let e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){let e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function r4(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);let n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{let r=e.filter(e=>e.id===n.id);if(0===r.length)return t.push(n),t;let o={...n};for(let e of r)if(e)switch(e.type){case"select":o.selected=e.selected;break;case"position":void 0!==e.position&&(o.position=e.position),void 0!==e.positionAbsolute&&(o.positionAbsolute=e.positionAbsolute),void 0!==e.dragging&&(o.dragging=e.dragging),o.expandParent&&r5(t,o);break;case"dimensions":void 0!==e.dimensions&&(o.width=e.dimensions.width,o.height=e.dimensions.height),void 0!==e.updateStyle&&(o.style={...o.style||{},...e.dimensions}),"boolean"==typeof e.resizing&&(o.resizing=e.resizing),o.expandParent&&r5(t,o);break;case"remove":return t}return t.push(o),t},n)}function r7(e,t){return r4(e,t)}function r6(e,t){return r4(e,t)}let r8=(e,t)=>({id:e,type:"select",selected:t});function r9(e,t){return e.reduce((e,n)=>{let r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(r8(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(r8(n.id,!1))),e},[])}let oe=(e,t)=>n=>{n.target===t.current&&e?.(n)},ot=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),on=(0,p.memo)(({isSelecting:e,selectionMode:t=l.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:a,onPaneScroll:s,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:h})=>{let m=(0,p.useRef)(null),g=nt(),y=(0,p.useRef)(0),x=(0,p.useRef)(0),b=(0,p.useRef)(),{userSelectionActive:v,elementsSelectable:w,dragging:N}=ne(ot,_),S=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,x.current=0},E=e=>{i?.(e),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},k=w&&(e||v);return p.createElement("div",{className:f(["react-flow__pane",{dragging:N,selection:e}]),onClick:k?void 0:oe(E,m),onContextMenu:oe(e=>{if(Array.isArray(n)&&n?.includes(2)){e.preventDefault();return}a?.(e)},m),onWheel:oe(s?e=>s(e):void 0,m),onMouseEnter:k?void 0:c,onMouseDown:k?t=>{let{resetSelectedElements:n,domNode:o}=g.getState();if(b.current=o?.getBoundingClientRect(),!w||!e||0!==t.button||t.target!==m.current||!b.current)return;let{x:i,y:a}=nk(t,b.current);n(),g.setState({userSelectionRect:{width:0,height:0,startX:i,startY:a,x:i,y:a}}),r?.(t)}:void 0,onMouseMove:k?n=>{let{userSelectionRect:r,nodeInternals:o,edges:i,transform:a,onNodesChange:s,onEdgesChange:c,nodeOrigin:u,getNodes:d}=g.getState();if(!e||!b.current||!r)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});let h=nk(n,b.current),p=r.startX??0,f=r.startY??0,m={...r,x:h.x<p?h.x:p,y:h.y<f?h.y:f,width:Math.abs(h.x-p),height:Math.abs(h.y-f)},v=d(),w=n5(o,m,a,t===l.Partial,!0,u),N=n4(w,i).map(e=>e.id),S=w.map(e=>e.id);if(y.current!==S.length){y.current=S.length;let e=r9(v,S);e.length&&s?.(e)}if(x.current!==N.length){x.current=N.length;let e=r9(i,N);e.length&&c?.(e)}g.setState({userSelectionRect:m})}:u,onMouseUp:k?e=>{if(0!==e.button)return;let{userSelectionRect:t}=g.getState();!v&&t&&e.target===m.current&&E?.(e),g.setState({nodesSelectionActive:y.current>0}),S(),o?.(e)}:void 0,onMouseLeave:k?e=>{v&&(g.setState({nodesSelectionActive:y.current>0}),o?.(e)),S()}:d,ref:m,style:rW},h,p.createElement(r3,null))});function or(e,t,n){let r=e;do{if(r?.matches(t))return!0;if(r===n.current)break;r=r.parentElement}while(r);return!1}function oo(e,t,n,r,o=[0,0],i){var a;let l=(a=e.extent||r)&&"parent"!==a?[a[0],[a[1][0]-(e.width||0),a[1][1]-(e.height||0)]]:a,s=l,c=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&c&&"parent"!==e.extent){let{x:t,y:r}=n2(n.get(c),o).positionAbsolute;s=[[e.extent[0][0]+t,e.extent[0][1]+r],[e.extent[1][0]+t,e.extent[1][1]+r]]}}else if(c&&e.width&&e.height){let t=n.get(c),{x:r,y:i}=n2(t,o).positionAbsolute;s=t&&nb(r)&&nb(i)&&nb(t.width)&&nb(t.height)?[[r+e.width*o[0],i+e.height*o[1]],[r+t.width-e.width+e.width*o[0],i+t.height-e.height+e.height*o[1]]]:s}else i?.("005",t8.error005()),s=l;let u={x:0,y:0};c&&(u=n2(n.get(c),o).positionAbsolute);let d=s&&"parent"!==s?ns(t,s):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function oi({nodeId:e,dragItems:t,nodeInternals:n}){let r=t.map(e=>({...n.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute}));return[e?r.find(t=>t.id===e):r[0],r]}on.displayName="Pane";let oa=(e,t,n,r)=>{let o=t.querySelectorAll(e);if(!o||!o.length)return null;let i=Array.from(o),a=t.getBoundingClientRect(),l={x:a.width*r[0],y:a.height*r[1]};return i.map(e=>{let t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-a.left-l.x)/n,y:(t.top-a.top-l.y)/n,...na(e)}})};function ol(e,t,n){return void 0===n?n:r=>{let o=t().nodeInternals.get(e);o&&n(r,{...o})}}function os({id:e,store:t,unselect:n=!1,nodeRef:r}){let{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:a,nodeInternals:l,onError:s}=t.getState(),c=l.get(e);if(!c){s?.("012",t8.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&a)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):o([e])}function oc(e){return(t,n,r)=>e?.(t,r)}function ou({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,selectNodesOnDrag:a}){let l=nt(),[s,c]=(0,p.useState)(!1),u=(0,p.useRef)([]),d=(0,p.useRef)({x:null,y:null}),h=(0,p.useRef)(0),f=(0,p.useRef)(null),m=(0,p.useRef)({x:0,y:0}),g=(0,p.useRef)(null),y=(0,p.useRef)(!1),x=(0,p.useRef)(!1),b=(0,p.useRef)(!1),v=function(){let e=nt();return(0,p.useCallback)(({sourceEvent:t})=>{let{transform:n,snapGrid:r,snapToGrid:o}=e.getState(),i=t.touches?t.touches[0].clientX:t.clientX,a=t.touches?t.touches[0].clientY:t.clientY,l={x:(i-n[0])/n[2],y:(a-n[1])/n[2]};return{xSnapped:o?r[0]*Math.round(l.x/r[0]):l.x,ySnapped:o?r[1]*Math.round(l.y/r[1]):l.y,...l}},[])}();return(0,p.useEffect)(()=>{if(e?.current){let s=eg(e.current),p=({x:e,y:t})=>{let{nodeInternals:n,onNodeDrag:r,onSelectionDrag:i,updateNodePositions:a,nodeExtent:s,snapGrid:h,snapToGrid:p,nodeOrigin:f,onError:m}=l.getState();d.current={x:e,y:t};let y=!1,x={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&s&&(x=np(n3(u.current,f))),u.current=u.current.map(r=>{let o={x:e-r.distance.x,y:t-r.distance.y};p&&(o.x=h[0]*Math.round(o.x/h[0]),o.y=h[1]*Math.round(o.y/h[1]));let i=[[s[0][0],s[0][1]],[s[1][0],s[1][1]]];u.current.length>1&&s&&!r.extent&&(i[0][0]=r.positionAbsolute.x-x.x+s[0][0],i[1][0]=r.positionAbsolute.x+(r.width??0)-x.x2+s[1][0],i[0][1]=r.positionAbsolute.y-x.y+s[0][1],i[1][1]=r.positionAbsolute.y+(r.height??0)-x.y2+s[1][1]);let a=oo(r,o,n,i,f,m);return y=y||r.position.x!==a.position.x||r.position.y!==a.position.y,r.position=a.position,r.positionAbsolute=a.positionAbsolute,r}),!y)return;a(u.current,!0,!0),c(!0);let b=o?r:oc(i);if(b&&g.current){let[e,t]=oi({nodeId:o,dragItems:u.current,nodeInternals:n});b(g.current,e,t)}},w=()=>{if(!f.current)return;let[e,t]=nu(m.current,f.current);if(0!==e||0!==t){let{transform:n,panBy:r}=l.getState();d.current.x=(d.current.x??0)-e/n[2],d.current.y=(d.current.y??0)-t/n[2],r({x:e,y:t})&&p(d.current)}h.current=requestAnimationFrame(w)},N=t=>{let{nodeInternals:n,multiSelectionActive:r,nodesDraggable:s,unselectNodesAndEdges:c,onNodeDragStart:h,onSelectionDragStart:p}=l.getState();x.current=!0;let f=o?h:oc(p);a&&i||r||!o||n.get(o)?.selected||c(),o&&i&&a&&os({id:o,store:l,nodeRef:e});let m=v(t);if(d.current=m,u.current=Array.from(n.values()).filter(e=>(e.selected||e.id===o)&&(!e.parentNode||e.parentId||!function e(t,n){let r=t.parentNode||t.parentId;if(!r)return!1;let o=n.get(r);return!!o&&(!!o.selected||e(o,n))}(e,n))&&(e.draggable||s&&void 0===e.draggable)).map(e=>({id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:m.x-(e.positionAbsolute?.x??0),y:m.y-(e.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent})),f&&u.current){let[e,r]=oi({nodeId:o,dragItems:u.current,nodeInternals:n});f(t.sourceEvent,e,r)}};if(t)s.on(".drag",null);else{let t=(function(){var e,t,n,r,o=t2,i=t3,a=t5,l=t4,s={},c=k("start","drag","end"),u=0,d=0;function h(e){e.on("mousedown.drag",p).filter(l).on("touchstart.drag",g).on("touchmove.drag",y,ey).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(a,l){if(!r&&o.call(this,a,l)){var s=b(this,i.call(this,a,l),a,l,"mouse");s&&(eg(a.view).on("mousemove.drag",f,ex).on("mouseup.drag",m,ex),ew(a.view),eb(a),n=!1,e=a.clientX,t=a.clientY,s("start",a))}}function f(r){if(ev(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>d}s.mouse("drag",r)}function m(e){eg(e.view).on("mousemove.drag mouseup.drag",null),eN(e.view,n),ev(e),s.mouse("end",e)}function g(e,t){if(o.call(this,e,t)){var n,r,a=e.changedTouches,l=i.call(this,e,t),s=a.length;for(n=0;n<s;++n)(r=b(this,l,e,t,a[n].identifier,a[n]))&&(eb(e),r("start",e,a[n]))}}function y(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=s[r[t].identifier])&&(ev(e),n("drag",e,r[t]))}function x(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(n=s[o[t].identifier])&&(eb(e),n("end",e,o[t]))}function b(e,t,n,r,o,i){var l,d,p,f=c.copy(),m=eE(i||n,t);if(null!=(p=a.call(e,new t1("beforestart",{sourceEvent:n,target:h,identifier:o,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:f}),r)))return l=p.x-m[0]||0,d=p.y-m[1]||0,function n(i,a,c){var g,y=m;switch(i){case"start":s[o]=n,g=u++;break;case"end":delete s[o],--u;case"drag":m=eE(c||a,t),g=u}f.call(i,e,new t1(i,{sourceEvent:a,subject:p,target:h,identifier:o,active:g,x:m[0]+l,y:m[1]+d,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:f}),r)}}return h.filter=function(e){return arguments.length?(o="function"==typeof e?e:t0(!!e),h):o},h.container=function(e){return arguments.length?(i="function"==typeof e?e:t0(e),h):i},h.subject=function(e){return arguments.length?(a="function"==typeof e?e:t0(e),h):a},h.touchable=function(e){return arguments.length?(l="function"==typeof e?e:t0(!!e),h):l},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,h):Math.sqrt(d)},h})().on("start",e=>{let{domNode:t,nodeDragThreshold:n}=l.getState();0===n&&N(e),b.current=!1;let r=v(e);d.current=r,f.current=t?.getBoundingClientRect()||null,m.current=nk(e.sourceEvent,f.current)}).on("drag",e=>{let t=v(e),{autoPanOnNodeDrag:n,nodeDragThreshold:r}=l.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!y.current&&x.current&&n&&(y.current=!0,w()),!x.current){let n=t.xSnapped-(d?.current?.x??0),o=t.ySnapped-(d?.current?.y??0);Math.sqrt(n*n+o*o)>r&&N(e)}(d.current.x!==t.xSnapped||d.current.y!==t.ySnapped)&&u.current&&x.current&&(g.current=e.sourceEvent,m.current=nk(e.sourceEvent,f.current),p(t))}}).on("end",e=>{if(x.current&&!b.current&&(c(!1),y.current=!1,x.current=!1,cancelAnimationFrame(h.current),u.current)){let{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:i}=l.getState(),a=o?r:oc(i);if(t(u.current,!1,!1),a){let[t,r]=oi({nodeId:o,dragItems:u.current,nodeInternals:n});a(e.sourceEvent,t,r)}}}).filter(t=>{let o=t.target;return!t.button&&(!n||!or(o,`.${n}`,e))&&(!r||or(o,r,e))});return s.call(t),()=>{s.on(".drag",null)}}}},[e,t,n,r,i,l,o,a,v]),s}function od(){let e=nt();return(0,p.useCallback)(t=>{let{nodeInternals:n,nodeExtent:r,updateNodePositions:o,getNodes:i,snapToGrid:a,snapGrid:l,onError:s,nodesDraggable:c}=e.getState(),u=i().filter(e=>e.selected&&(e.draggable||c&&void 0===e.draggable)),d=a?l[0]:5,h=a?l[1]:5,p=t.isShiftPressed?4:1,f=t.x*d*p,m=t.y*h*p;o(u.map(e=>{if(e.positionAbsolute){let t={x:e.positionAbsolute.x+f,y:e.positionAbsolute.y+m};a&&(t.x=l[0]*Math.round(t.x/l[0]),t.y=l[1]*Math.round(t.y/l[1]));let{positionAbsolute:o,position:i}=oo(e,t,n,r,void 0,s);e.position=i,e.positionAbsolute=o}return e}),!0,!1)},[])}let oh={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var op=e=>{let t=({id:t,type:n,data:r,xPos:o,yPos:i,xPosOrigin:a,yPosOrigin:l,selected:s,onClick:c,onMouseEnter:u,onMouseMove:d,onMouseLeave:h,onContextMenu:m,onDoubleClick:g,style:y,className:x,isDraggable:b,isSelectable:v,isConnectable:w,isFocusable:N,selectNodesOnDrag:S,sourcePosition:_,targetPosition:E,hidden:k,resizeObserver:M,dragHandle:j,zIndex:C,isParent:$,noDragClassName:z,noPanClassName:A,initialized:I,disableKeyboardA11y:P,ariaLabel:D,rfId:T,hasHandleBounds:O})=>{let R=nt(),B=(0,p.useRef)(null),L=(0,p.useRef)(null),H=(0,p.useRef)(_),V=(0,p.useRef)(E),F=(0,p.useRef)(n),q=v||b||c||u||d||h,X=od(),Y=ol(t,R.getState,u),U=ol(t,R.getState,d),W=ol(t,R.getState,h),Z=ol(t,R.getState,m),K=ol(t,R.getState,g);(0,p.useEffect)(()=>()=>{L.current&&(M?.unobserve(L.current),L.current=null)},[]),(0,p.useEffect)(()=>{if(B.current&&!k){let e=B.current;I&&O&&L.current===e||(L.current&&M?.unobserve(L.current),M?.observe(e),L.current=e)}},[k,I,O]),(0,p.useEffect)(()=>{let e=F.current!==n,r=H.current!==_,o=V.current!==E;B.current&&(e||r||o)&&(e&&(F.current=n),r&&(H.current=_),o&&(V.current=E),R.getState().updateNodeDimensions([{id:t,nodeElement:B.current,forceUpdate:!0}]))},[t,n,_,E]);let G=ou({nodeRef:B,disabled:k||!b,noDragClassName:z,handleSelector:j,nodeId:t,isSelectable:v,selectNodesOnDrag:S});return k?null:p.createElement("div",{className:f(["react-flow__node",`react-flow__node-${n}`,{[A]:b},x,{selected:s,selectable:v,parent:$,dragging:G}]),ref:B,style:{zIndex:C,transform:`translate(${a}px,${l}px)`,pointerEvents:q?"all":"none",visibility:I?"visible":"hidden",...y},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:Y,onMouseMove:U,onMouseLeave:W,onContextMenu:Z,onClick:e=>{let{nodeDragThreshold:n}=R.getState();if(v&&(!S||!b||n>0)&&os({id:t,store:R,nodeRef:B}),c){let n=R.getState().nodeInternals.get(t);n&&c(e,{...n})}},onDoubleClick:K,onKeyDown:N?e=>{!n_(e)&&!P&&(nw.includes(e.key)&&v?os({id:t,store:R,unselect:"Escape"===e.key,nodeRef:B}):b&&s&&Object.prototype.hasOwnProperty.call(oh,e.key)&&(R.setState({ariaLiveMessage:`Moved selected node ${e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~i}`}),X({x:oh[e.key].x,y:oh[e.key].y,isShiftPressed:e.shiftKey})))}:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":P?void 0:`${rC}-${T}`,"aria-label":D},p.createElement(nU,{value:t},p.createElement(e,{id:t,data:r,type:n,xPos:o,yPos:i,selected:s,isConnectable:w,sourcePosition:_,targetPosition:E,dragging:G,dragHandle:j,zIndex:C})))};return t.displayName="NodeWrapper",(0,p.memo)(t)};let of=e=>({...n3(e.getNodes().filter(e=>e.selected),e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive});var om=(0,p.memo)(function({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){let r=nt(),{width:o,height:i,x:a,y:l,transformString:s,userSelectionActive:c}=ne(of,_),u=od(),d=(0,p.useRef)(null);return((0,p.useEffect)(()=>{n||d.current?.focus({preventScroll:!0})},[n]),ou({nodeRef:d}),!c&&o&&i)?p.createElement("div",{className:f(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s}},p.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:e?t=>{e(t,r.getState().getNodes().filter(e=>e.selected))}:void 0,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(oh,e.key)&&u({x:oh[e.key].x,y:oh[e.key].y,isShiftPressed:e.shiftKey})},style:{width:o,height:i,top:l,left:a}})):null});let og=e=>e.nodesSelectionActive,oy=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,deleteKeyCode:l,onMove:s,onMoveStart:c,onMoveEnd:u,selectionKeyCode:d,selectionOnDrag:h,selectionMode:f,onSelectionStart:m,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:x,zoomActivationKeyCode:b,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:N,panOnScroll:S,panOnScrollSpeed:_,panOnScrollMode:E,zoomOnDoubleClick:k,panOnDrag:M,defaultViewport:j,translateExtent:C,minZoom:$,maxZoom:z,preventScrolling:A,onSelectionContextMenu:I,noWheelClassName:P,noPanClassName:D,disableKeyboardA11y:T})=>{let O=ne(og),R=rP(d),B=rP(x),L=B||M,H=B||S,V=R||h&&!0!==L;return rU({deleteKeyCode:l,multiSelectionKeyCode:y}),p.createElement(r1,{onMove:s,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:i,elementsSelectable:v,zoomOnScroll:w,zoomOnPinch:N,panOnScroll:H,panOnScrollSpeed:_,panOnScrollMode:E,zoomOnDoubleClick:k,panOnDrag:!R&&L,defaultViewport:j,translateExtent:C,minZoom:$,maxZoom:z,zoomActivationKeyCode:b,preventScrolling:A,noWheelClassName:P,noPanClassName:D},p.createElement(on,{onSelectionStart:m,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:L,isSelecting:!!V,selectionMode:f},e,O&&p.createElement(om,{onSelectionContextMenu:I,noPanClassName:D,disableKeyboardA11y:T})))};oy.displayName="FlowRenderer";var ox=(0,p.memo)(oy);function ob(e){let t={input:op(e.input||rp),default:op(e.default||rd),output:op(e.output||rm),group:op(e.group||rg)},n=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=op(e[n]||rd),t),{});return{...t,...n}}let ov=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r||o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},ow=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),oN=e=>{let{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:i,onError:a}=ne(ow,_),l=function(e){return ne((0,p.useCallback)(t=>e?n5(t.nodeInternals,{x:0,y:0,width:t.width,height:t.height},t.transform,!0):t.getNodes(),[e]))}(e.onlyRenderVisibleElements),s=(0,p.useRef)(),c=(0,p.useMemo)(()=>{if("undefined"==typeof ResizeObserver)return null;let e=new ResizeObserver(e=>{i(e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})))});return s.current=e,e},[]);return(0,p.useEffect)(()=>()=>{s?.current?.disconnect()},[]),p.createElement("div",{className:"react-flow__nodes",style:rW},l.map(i=>{let l=i.type||"default";e.nodeTypes[l]||(a?.("003",t8.error003(l)),l="default");let s=e.nodeTypes[l]||e.nodeTypes.default,d=!!(i.draggable||t&&void 0===i.draggable),h=!!(i.selectable||o&&void 0===i.selectable),f=!!(i.connectable||n&&void 0===i.connectable),m=!!(i.focusable||r&&void 0===i.focusable),g=e.nodeExtent?ns(i.positionAbsolute,e.nodeExtent):i.positionAbsolute,y=g?.x??0,x=g?.y??0,b=ov({x:y,y:x,width:i.width??0,height:i.height??0,origin:e.nodeOrigin});return p.createElement(s,{key:i.id,id:i.id,className:i.className,style:i.style,type:l,data:i.data,sourcePosition:i.sourcePosition||u.Bottom,targetPosition:i.targetPosition||u.Top,hidden:i.hidden,xPos:y,yPos:x,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!i.selected,isDraggable:d,isSelectable:h,isConnectable:f,isFocusable:m,resizeObserver:c,dragHandle:i.dragHandle,zIndex:i[nv]?.z??0,isParent:!!i[nv]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!i.width&&!!i.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:i.ariaLabel,hasHandleBounds:!!i[nv]?.handleBounds})}))};oN.displayName="NodeRenderer";var oS=(0,p.memo)(oN);let o_=(e,t,n)=>n===u.Left?e-t:n===u.Right?e+t:e,oE=(e,t,n)=>n===u.Top?e-t:n===u.Bottom?e+t:e,ok="react-flow__edgeupdater",oM=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:i,onMouseOut:a,type:l})=>p.createElement("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:a,className:f([ok,`${ok}-${l}`]),cx:o_(t,r,e),cy:oE(n,r,e),r:r,stroke:"transparent",fill:"transparent"}),oj=()=>!0;var oC=e=>{let t=({id:t,className:n,type:r,data:o,onClick:i,onEdgeDoubleClick:a,selected:l,animated:s,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,style:y,source:x,target:b,sourceX:v,sourceY:w,targetX:N,targetY:S,sourcePosition:_,targetPosition:E,elementsSelectable:k,hidden:M,sourceHandleId:j,targetHandleId:C,onContextMenu:$,onMouseEnter:z,onMouseMove:A,onMouseLeave:I,reconnectRadius:P,onReconnect:D,onReconnectStart:T,onReconnectEnd:O,markerEnd:R,markerStart:B,rfId:L,ariaLabel:H,isFocusable:V,isReconnectable:F,pathOptions:q,interactionWidth:X,disableKeyboardA11y:Y})=>{let U=(0,p.useRef)(null),[W,Z]=(0,p.useState)(!1),[K,G]=(0,p.useState)(!1),Q=nt(),J=(0,p.useMemo)(()=>`url('#${nG(B,L)}')`,[B,L]),ee=(0,p.useMemo)(()=>`url('#${nG(R,L)}')`,[R,L]);if(M)return null;let et=nC(t,Q.getState,a),en=nC(t,Q.getState,$),er=nC(t,Q.getState,z),eo=nC(t,Q.getState,A),ei=nC(t,Q.getState,I),ea=(e,n)=>{if(0!==e.button)return;let{edges:r,isValidConnection:o}=Q.getState(),i=n?b:x,a=(n?C:j)||null,l=n?"target":"source",s=o||oj,c=r.find(e=>e.id===t);G(!0),T?.(e,c,l),ro({event:e,handleId:a,nodeId:i,onConnect:e=>D?.(c,e),isTarget:n,getState:Q.getState,setState:Q.setState,isValidConnection:s,edgeUpdaterType:l,onReconnectEnd:e=>{G(!1),O?.(e,c,l)}})},el=()=>Z(!0),es=()=>Z(!1);return p.createElement("g",{className:f(["react-flow__edge",`react-flow__edge-${r}`,n,{selected:l,animated:s,inactive:!k&&!i,updating:W}]),onClick:e=>{let{edges:n,addSelectedEdges:r,unselectNodesAndEdges:o,multiSelectionActive:a}=Q.getState(),l=n.find(e=>e.id===t);l&&(k&&(Q.setState({nodesSelectionActive:!1}),l.selected&&a?(o({nodes:[],edges:[l]}),U.current?.blur()):r([t])),i&&i(e,l))},onDoubleClick:et,onContextMenu:en,onMouseEnter:er,onMouseMove:eo,onMouseLeave:ei,onKeyDown:V?e=>{if(!Y&&nw.includes(e.key)&&k){let{unselectNodesAndEdges:n,addSelectedEdges:r,edges:o}=Q.getState();"Escape"===e.key?(U.current?.blur(),n({edges:[o.find(e=>e.id===t)]})):r([t])}}:void 0,tabIndex:V?0:void 0,role:V?"button":"img","data-testid":`rf__edge-${t}`,"aria-label":null===H?void 0:H||`Edge from ${x} to ${b}`,"aria-describedby":V?`${r$}-${L}`:void 0,ref:U},!K&&p.createElement(e,{id:t,source:x,target:b,selected:l,animated:s,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:g,data:o,style:y,sourceX:v,sourceY:w,targetX:N,targetY:S,sourcePosition:_,targetPosition:E,sourceHandleId:j,targetHandleId:C,markerStart:J,markerEnd:ee,pathOptions:q,interactionWidth:X}),F&&p.createElement(p.Fragment,null,("source"===F||!0===F)&&p.createElement(oM,{position:_,centerX:v,centerY:w,radius:P,onMouseDown:e=>ea(e,!0),onMouseEnter:el,onMouseOut:es,type:"source"}),("target"===F||!0===F)&&p.createElement(oM,{position:E,centerX:N,centerY:S,radius:P,onMouseDown:e=>ea(e,!1),onMouseEnter:el,onMouseOut:es,type:"target"})))};return t.displayName="EdgeWrapper",(0,p.memo)(t)};function o$(e){let t={default:oC(e.default||nX),straight:oC(e.bezier||nH),step:oC(e.step||nL),smoothstep:oC(e.step||nB),simplebezier:oC(e.simplebezier||nP)},n=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=oC(e[n]||nX),t),{});return{...t,...n}}function oz(e,t,n=null){let r=(n?.x||0)+t.x,o=(n?.y||0)+t.y,i=n?.width||t.width,a=n?.height||t.height;switch(e){case u.Top:return{x:r+i/2,y:o};case u.Right:return{x:r+i,y:o+a/2};case u.Bottom:return{x:r+i/2,y:o+a};case u.Left:return{x:r,y:o+a/2}}}function oA(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}let oI=(e,t,n,r,o,i)=>{let a=oz(n,e,t),l=oz(i,r,o);return{sourceX:a.x,sourceY:a.y,targetX:l.x,targetY:l.y}};function oP(e){let t=e?.[nv]?.handleBounds||null,n=t&&e?.width&&e?.height&&void 0!==e?.positionAbsolute?.x&&void 0!==e?.positionAbsolute?.y;return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}let oD=[{level:0,isMaxLevel:!0,edges:[]}],oT={[c.Arrow]:({color:e="none",strokeWidth:t=1})=>p.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[c.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>p.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},oO=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:l="auto-start-reverse"})=>{let s=function(e){let t=nt();return(0,p.useMemo)(()=>Object.prototype.hasOwnProperty.call(oT,e)?oT[e]:(t.getState().onError?.("009",t8.error009(e)),null),[e])}(t);return s?p.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},p.createElement(s,{color:n,strokeWidth:a})):null},oR=({defaultColor:e,rfId:t})=>n=>{let r=[];return n.edges.reduce((n,o)=>([o.markerStart,o.markerEnd].forEach(o=>{if(o&&"object"==typeof o){let i=nG(o,t);r.includes(i)||(n.push({id:i,color:o.color||e,...o}),r.push(i))}}),n),[]).sort((e,t)=>e.id.localeCompare(t.id))},oB=({defaultColor:e,rfId:t})=>{let n=ne((0,p.useCallback)(oR({defaultColor:e,rfId:t}),[e,t]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return p.createElement("defs",null,n.map(e=>p.createElement(oO,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};oB.displayName="MarkerDefinitions";var oL=(0,p.memo)(oB);let oH=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),oV=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:a,onEdgeContextMenu:l,onEdgeMouseEnter:s,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:h,onEdgeDoubleClick:m,onReconnect:g,onReconnectStart:y,onReconnectEnd:x,reconnectRadius:b,children:v,disableKeyboardA11y:w})=>{let{edgesFocusable:N,edgesUpdatable:S,elementsSelectable:E,width:k,height:M,connectionMode:j,nodeInternals:C,onError:$}=ne(oH,_),z=function(e,t,n){return function(e,t,n=!1){let r=-1,o=Object.entries(e.reduce((e,o)=>{let i=nb(o.zIndex),a=i?o.zIndex:0;if(n){let e=t.get(o.target),n=t.get(o.source),r=o.selected||e?.selected||n?.selected,l=Math.max(n?.[nv]?.z||0,e?.[nv]?.z||0,1e3);a=(i?o.zIndex:0)+(r?l:0)}return e[a]?e[a].push(o):e[a]=[o],r=a>r?a:r,e},{})).map(([e,t])=>{let n=+e;return{edges:t,level:n,isMaxLevel:n===r}});return 0===o.length?oD:o}(ne((0,p.useCallback)(n=>e?n.edges.filter(e=>{let r=t.get(e.source),o=t.get(e.target);return r?.width&&r?.height&&o?.width&&o?.height&&function({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:i,width:a,height:l,transform:s}){let c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);let u=np({x:(0-s[0])/s[2],y:(0-s[1])/s[2],width:a/s[2],height:l/s[2]});return Math.ceil(Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x))*Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y)))>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:o.width,targetHeight:o.height,width:n.width,height:n.height,transform:n.transform})}):n.edges,[e,t])),t,n)}(t,C,n);return k?p.createElement(p.Fragment,null,z.map(({level:t,edges:n,isMaxLevel:v})=>p.createElement("svg",{key:t,style:{zIndex:t},width:k,height:M,className:"react-flow__edges react-flow__container"},v&&p.createElement(oL,{defaultColor:e,rfId:r}),p.createElement("g",null,n.map(e=>{let[t,n,v]=oP(C.get(e.source)),[_,k,M]=oP(C.get(e.target));if(!v||!M)return null;let z=e.type||"default";o[z]||($?.("011",t8.error011(z)),z="default");let A=o[z]||o.default,I=j===i.Strict?k.target:(k.target??[]).concat(k.source??[]),P=oA(n.source,e.sourceHandle),D=oA(I,e.targetHandle),T=P?.position||u.Bottom,O=D?.position||u.Top,R=!!(e.focusable||N&&void 0===e.focusable),B=e.reconnectable||e.updatable;if(!P||!D)return $?.("008",t8.error008(P,e)),null;let{sourceX:L,sourceY:H,targetX:V,targetY:F}=oI(t,P,T,_,D,O);return p.createElement(A,{key:e.id,id:e.id,className:f([e.className,a]),type:z,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:L,sourceY:H,targetX:V,targetY:F,sourcePosition:T,targetPosition:O,elementsSelectable:E,onContextMenu:l,onMouseEnter:s,onMouseMove:c,onMouseLeave:d,onClick:h,onEdgeDoubleClick:m,onReconnect:g,onReconnectStart:y,onReconnectEnd:x,reconnectRadius:b,rfId:r,ariaLabel:e.ariaLabel,isFocusable:R,isReconnectable:void 0!==g&&(B||S&&void 0===B),pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:w})})))),v):null};oV.displayName="EdgeRenderer";var oF=(0,p.memo)(oV);let oq=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function oX({children:e}){let t=ne(oq);return p.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}let oY={[u.Left]:u.Right,[u.Right]:u.Left,[u.Top]:u.Bottom,[u.Bottom]:u.Top},oU=({nodeId:e,handleType:t,style:n,type:r=s.Bezier,CustomComponent:o,connectionStatus:a})=>{let{fromNode:l,handleId:c,toX:u,toY:d,connectionMode:h}=ne((0,p.useCallback)(t=>({fromNode:t.nodeInternals.get(e),handleId:t.connectionHandleId,toX:(t.connectionPosition.x-t.transform[0])/t.transform[2],toY:(t.connectionPosition.y-t.transform[1])/t.transform[2],connectionMode:t.connectionMode}),[e]),_),f=l?.[nv]?.handleBounds,m=f?.[t];if(h===i.Loose&&(m=m||f?.["source"===t?"target":"source"]),!l||!m)return null;let g=c?m.find(e=>e.id===c):m[0],y=g?g.x+g.width/2:(l.width??0)/2,x=g?g.y+g.height/2:l.height??0,b=(l.positionAbsolute?.x??0)+y,v=(l.positionAbsolute?.y??0)+x,w=g?.position,N=w?oY[w]:null;if(!w||!N)return null;if(o)return p.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:l,fromHandle:g,fromX:b,fromY:v,toX:u,toY:d,fromPosition:w,toPosition:N,connectionStatus:a});let S="",E={sourceX:b,sourceY:v,sourcePosition:w,targetX:u,targetY:d,targetPosition:N};return r===s.Bezier?[S]=nq(E):r===s.Step?[S]=nR({...E,borderRadius:0}):r===s.SmoothStep?[S]=nR(E):r===s.SimpleBezier?[S]=nI(E):S=`M${b},${v} ${u},${d}`,p.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:n})};oU.displayName="ConnectionLine";let oW=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function oZ({containerStyle:e,style:t,type:n,component:r}){let{nodeId:o,handleType:i,nodesConnectable:a,width:l,height:s,connectionStatus:c}=ne(oW,_);return o&&i&&l&&a?p.createElement("svg",{style:e,width:l,height:s,className:"react-flow__edges react-flow__connectionline react-flow__container"},p.createElement("g",{className:f(["react-flow__connection",c])},p.createElement(oU,{nodeId:o,handleType:i,style:t,type:n,CustomComponent:r,connectionStatus:c}))):null}function oK(e,t){return(0,p.useRef)(null),nt(),(0,p.useMemo)(()=>t(e),[e])}let oG=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:i,onNodeClick:a,onEdgeClick:l,onNodeDoubleClick:s,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:f,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:y,connectionLineType:x,connectionLineStyle:b,connectionLineComponent:v,connectionLineContainerStyle:w,selectionKeyCode:N,selectionOnDrag:S,selectionMode:_,multiSelectionKeyCode:E,panActivationKeyCode:k,zoomActivationKeyCode:M,deleteKeyCode:j,onlyRenderVisibleElements:C,elementsSelectable:$,selectNodesOnDrag:z,defaultViewport:A,translateExtent:I,minZoom:P,maxZoom:D,preventScrolling:T,defaultMarkerColor:O,zoomOnScroll:R,zoomOnPinch:B,panOnScroll:L,panOnScrollSpeed:H,panOnScrollMode:V,zoomOnDoubleClick:F,panOnDrag:q,onPaneClick:X,onPaneMouseEnter:Y,onPaneMouseMove:U,onPaneMouseLeave:W,onPaneScroll:Z,onPaneContextMenu:K,onEdgeContextMenu:G,onEdgeMouseEnter:Q,onEdgeMouseMove:J,onEdgeMouseLeave:ee,onReconnect:et,onReconnectStart:en,onReconnectEnd:er,reconnectRadius:eo,noDragClassName:ei,noWheelClassName:ea,noPanClassName:el,elevateEdgesOnSelect:es,disableKeyboardA11y:ec,nodeOrigin:eu,nodeExtent:ed,rfId:eh})=>{let ep=oK(e,ob),ef=oK(t,o$);return function(e){let t=rX(),n=(0,p.useRef)(!1);(0,p.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(i),p.createElement(ox,{onPaneClick:X,onPaneMouseEnter:Y,onPaneMouseMove:U,onPaneMouseLeave:W,onPaneContextMenu:K,onPaneScroll:Z,deleteKeyCode:j,selectionKeyCode:N,selectionOnDrag:S,selectionMode:_,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:E,panActivationKeyCode:k,zoomActivationKeyCode:M,elementsSelectable:$,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:R,zoomOnPinch:B,zoomOnDoubleClick:F,panOnScroll:L,panOnScrollSpeed:H,panOnScrollMode:V,panOnDrag:q,defaultViewport:A,translateExtent:I,minZoom:P,maxZoom:D,onSelectionContextMenu:m,preventScrolling:T,noDragClassName:ei,noWheelClassName:ea,noPanClassName:el,disableKeyboardA11y:ec},p.createElement(oX,null,p.createElement(oF,{edgeTypes:ef,onEdgeClick:l,onEdgeDoubleClick:c,onlyRenderVisibleElements:C,onEdgeContextMenu:G,onEdgeMouseEnter:Q,onEdgeMouseMove:J,onEdgeMouseLeave:ee,onReconnect:et,onReconnectStart:en,onReconnectEnd:er,reconnectRadius:eo,defaultMarkerColor:O,noPanClassName:el,elevateEdgesOnSelect:!!es,disableKeyboardA11y:ec,rfId:eh},p.createElement(oZ,{style:b,type:x,component:v,containerStyle:w})),p.createElement("div",{className:"react-flow__edgelabel-renderer"}),p.createElement(oS,{nodeTypes:ep,onNodeClick:a,onNodeDoubleClick:s,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:f,selectNodesOnDrag:z,onlyRenderVisibleElements:C,noPanClassName:el,noDragClassName:ei,disableKeyboardA11y:ec,nodeOrigin:eu,nodeExtent:ed,rfId:eh})))};oG.displayName="GraphView";var oQ=(0,p.memo)(oG);let oJ=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],o0={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:oJ,nodeExtent:oJ,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:i.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:nN,isValidConnection:void 0},o1=()=>S((e,t)=>({...o0,setNodes:n=>{let{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:rR(n,r,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{let{defaultEdgeOptions:r={}}=t();e({edges:n.map(e=>({...r,...e}))})},setDefaultNodesAndEdges:(n,r)=>{let o=void 0!==n,i=void 0!==r;e({nodeInternals:o?rR(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map,edges:i?r:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:n=>{let{onNodesChange:r,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:l,domNode:s,nodeOrigin:c}=t(),u=s?.querySelector(".react-flow__viewport");if(!u)return;let d=window.getComputedStyle(u),{m22:h}=new window.DOMMatrixReadOnly(d.transform),p=n.reduce((e,t)=>{let n=o.get(t.id);if(n?.hidden)o.set(n.id,{...n,[nv]:{...n[nv],handleBounds:void 0}});else if(n){let r=na(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(o.set(n.id,{...n,[nv]:{...n[nv],handleBounds:{source:oa(".source",t.nodeElement,h,c),target:oa(".target",t.nodeElement,h,c)}},...r}),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]);rO(o,c);let f=a||i&&!a&&rB(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:f}),p?.length>0&&r?.(p)},updateNodePositions:(e,n=!0,r=!1)=>{let{triggerNodeChanges:o}=t();o(e.map(e=>{let t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t}))},triggerNodeChanges:n=>{let{onNodesChange:r,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:a,getNodes:l,elevateNodesOnSelect:s}=t();n?.length&&(i&&e({nodeInternals:rR(r7(n,l()),o,a,s)}),r?.(n))},addSelectedNodes:n=>{let r;let{multiSelectionActive:o,edges:i,getNodes:a}=t(),l=null;o?r=n.map(e=>r8(e,!0)):(r=r9(a(),n),l=r9(i,[])),rL({changedNodes:r,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{let r;let{multiSelectionActive:o,edges:i,getNodes:a}=t(),l=null;o?r=n.map(e=>r8(e,!0)):(r=r9(i,n),l=r9(a(),[])),rL({changedNodes:l,changedEdges:r,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{let{edges:o,getNodes:i}=t();rL({changedNodes:(n||i()).map(e=>(e.selected=!1,r8(e.id,!1))),changedEdges:(r||o).map(e=>r8(e.id,!1)),get:t,set:e})},setMinZoom:n=>{let{d3Zoom:r,maxZoom:o}=t();r?.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{let{d3Zoom:r,minZoom:o}=t();r?.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{let{edges:n,getNodes:r}=t();rL({changedNodes:r().filter(e=>e.selected).map(e=>r8(e.id,!1)),changedEdges:n.filter(e=>e.selected).map(e=>r8(e.id,!1)),get:t,set:e})},setNodeExtent:n=>{let{nodeInternals:r}=t();r.forEach(e=>{e.positionAbsolute=ns(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{let{transform:n,width:r,height:o,d3Zoom:i,d3Selection:a,translateExtent:l}=t();if(!i||!a||!e.x&&!e.y)return!1;let s=tq.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=i?.constrain()(s,[[0,0],[r,o]],l);return i.transform(a,c),n[0]!==c.x||n[1]!==c.y||n[2]!==c.k},cancelConnection:()=>e({connectionNodeId:o0.connectionNodeId,connectionHandleId:o0.connectionHandleId,connectionHandleType:o0.connectionHandleType,connectionStatus:o0.connectionStatus,connectionStartHandle:o0.connectionStartHandle,connectionEndHandle:o0.connectionEndHandle}),reset:()=>e({...o0})}),Object.is),o2=({children:e})=>{let t=(0,p.useRef)(null);return t.current||(t.current=o1()),p.createElement(t6,{value:t.current},e)};o2.displayName="ReactFlowProvider";let o3=({children:e})=>(0,p.useContext)(t7)?p.createElement(p.Fragment,null,e):p.createElement(o2,null,e);o3.displayName="ReactFlowWrapper";let o5={input:rp,default:rd,output:rm,group:rg},o4={default:nX,straight:nH,step:nL,smoothstep:nB,simplebezier:nP},o7=[0,0],o6=[15,15],o8={x:0,y:0,zoom:1},o9={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ie=(0,p.forwardRef)(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:c=o5,edgeTypes:u=o4,onNodeClick:d,onEdgeClick:h,onInit:m,onMove:g,onMoveStart:y,onMoveEnd:x,onConnect:b,onConnectStart:v,onConnectEnd:w,onClickConnectStart:N,onClickConnectEnd:S,onNodeMouseEnter:_,onNodeMouseMove:E,onNodeMouseLeave:k,onNodeContextMenu:M,onNodeDoubleClick:j,onNodeDragStart:C,onNodeDrag:$,onNodeDragStop:z,onNodesDelete:A,onEdgesDelete:I,onSelectionChange:P,onSelectionDragStart:D,onSelectionDrag:T,onSelectionDragStop:O,onSelectionContextMenu:R,onSelectionStart:B,onSelectionEnd:L,connectionMode:H=i.Strict,connectionLineType:V=s.Bezier,connectionLineStyle:F,connectionLineComponent:q,connectionLineContainerStyle:X,deleteKeyCode:Y="Backspace",selectionKeyCode:U="Shift",selectionOnDrag:W=!1,selectionMode:Z=l.Full,panActivationKeyCode:K="Space",multiSelectionKeyCode:G=nM()?"Meta":"Control",zoomActivationKeyCode:Q=nM()?"Meta":"Control",snapToGrid:J=!1,snapGrid:ee=o6,onlyRenderVisibleElements:et=!1,selectNodesOnDrag:en=!0,nodesDraggable:er,nodesConnectable:eo,nodesFocusable:ei,nodeOrigin:ea=o7,edgesFocusable:el,edgesUpdatable:es,elementsSelectable:ec,defaultViewport:eu=o8,minZoom:ed=.5,maxZoom:eh=2,translateExtent:ep=oJ,preventScrolling:ef=!0,nodeExtent:em,defaultMarkerColor:eg="#b1b1b7",zoomOnScroll:ey=!0,zoomOnPinch:ex=!0,panOnScroll:eb=!1,panOnScrollSpeed:ev=.5,panOnScrollMode:ew=a.Free,zoomOnDoubleClick:eN=!0,panOnDrag:eS=!0,onPaneClick:e_,onPaneMouseEnter:eE,onPaneMouseMove:ek,onPaneMouseLeave:eM,onPaneScroll:ej,onPaneContextMenu:eC,children:e$,onEdgeContextMenu:ez,onEdgeDoubleClick:eA,onEdgeMouseEnter:eI,onEdgeMouseMove:eP,onEdgeMouseLeave:eD,onEdgeUpdate:eT,onEdgeUpdateStart:eO,onEdgeUpdateEnd:eR,onReconnect:eB,onReconnectStart:eL,onReconnectEnd:eH,reconnectRadius:eV=10,edgeUpdaterRadius:eF=10,onNodesChange:eq,onEdgesChange:eX,noDragClassName:eY="nodrag",noWheelClassName:eU="nowheel",noPanClassName:eW="nopan",fitView:eZ=!1,fitViewOptions:eK,connectOnClick:eG=!0,attributionPosition:eQ,proOptions:eJ,defaultEdgeOptions:e0,elevateNodesOnSelect:e1=!0,elevateEdgesOnSelect:e2=!1,disableKeyboardA11y:e3=!1,autoPanOnConnect:e5=!0,autoPanOnNodeDrag:e4=!0,connectionRadius:e7=20,isValidConnection:e6,onError:e8,style:e9,id:te,nodeDragThreshold:tt,...tn},tr)=>{let to=te||"1";return p.createElement("div",{...tn,style:{...e9,...o9},ref:tr,className:f(["react-flow",o]),"data-testid":"rf__wrapper",id:te},p.createElement(o3,null,p.createElement(oQ,{onInit:m,onMove:g,onMoveStart:y,onMoveEnd:x,onNodeClick:d,onEdgeClick:h,onNodeMouseEnter:_,onNodeMouseMove:E,onNodeMouseLeave:k,onNodeContextMenu:M,onNodeDoubleClick:j,nodeTypes:c,edgeTypes:u,connectionLineType:V,connectionLineStyle:F,connectionLineComponent:q,connectionLineContainerStyle:X,selectionKeyCode:U,selectionOnDrag:W,selectionMode:Z,deleteKeyCode:Y,multiSelectionKeyCode:G,panActivationKeyCode:K,zoomActivationKeyCode:Q,onlyRenderVisibleElements:et,selectNodesOnDrag:en,defaultViewport:eu,translateExtent:ep,minZoom:ed,maxZoom:eh,preventScrolling:ef,zoomOnScroll:ey,zoomOnPinch:ex,zoomOnDoubleClick:eN,panOnScroll:eb,panOnScrollSpeed:ev,panOnScrollMode:ew,panOnDrag:eS,onPaneClick:e_,onPaneMouseEnter:eE,onPaneMouseMove:ek,onPaneMouseLeave:eM,onPaneScroll:ej,onPaneContextMenu:eC,onSelectionContextMenu:R,onSelectionStart:B,onSelectionEnd:L,onEdgeContextMenu:ez,onEdgeDoubleClick:eA,onEdgeMouseEnter:eI,onEdgeMouseMove:eP,onEdgeMouseLeave:eD,onReconnect:eB??eT,onReconnectStart:eL??eO,onReconnectEnd:eH??eR,reconnectRadius:eV??eF,defaultMarkerColor:eg,noDragClassName:eY,noWheelClassName:eU,noPanClassName:eW,elevateEdgesOnSelect:e2,rfId:to,disableKeyboardA11y:e3,nodeOrigin:ea,nodeExtent:em}),p.createElement(rk,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:v,onConnectEnd:w,onClickConnectStart:N,onClickConnectEnd:S,nodesDraggable:er,nodesConnectable:eo,nodesFocusable:ei,edgesFocusable:el,edgesUpdatable:es,elementsSelectable:ec,elevateNodesOnSelect:e1,minZoom:ed,maxZoom:eh,nodeExtent:em,onNodesChange:eq,onEdgesChange:eX,snapToGrid:J,snapGrid:ee,connectionMode:H,translateExtent:ep,connectOnClick:eG,defaultEdgeOptions:e0,fitView:eZ,fitViewOptions:eK,onNodesDelete:A,onEdgesDelete:I,onNodeDragStart:C,onNodeDrag:$,onNodeDragStop:z,onSelectionDrag:T,onSelectionDragStart:D,onSelectionDragStop:O,noPanClassName:eW,nodeOrigin:ea,rfId:to,autoPanOnConnect:e5,autoPanOnNodeDrag:e4,onError:e8,connectionRadius:e7,isValidConnection:e6,nodeDragThreshold:tt}),p.createElement(rN,{onSelectionChange:P}),e$,p.createElement(no,{proOptions:eJ,position:eQ}),p.createElement(rI,{rfId:to,disableKeyboardA11y:e3})))});function it(e){return t=>{let[n,r]=(0,p.useState)(t),o=(0,p.useCallback)(t=>r(n=>e(t,n)),[]);return[n,r,o]}}function ir({color:e,dimensions:t,lineWidth:n}){return p.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function io({color:e,radius:t}){return p.createElement("circle",{cx:t,cy:t,r:t,fill:e})}ie.displayName="ReactFlow",it(r7),it(r6),!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(d||(d={}));let ii={[d.Dots]:"#91919a",[d.Lines]:"#eee",[d.Cross]:"#e2e2e2"},ia={[d.Dots]:1,[d.Lines]:1,[d.Cross]:6},il=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function is({id:e,variant:t=d.Dots,gap:n=20,size:r,lineWidth:o=1,offset:i=2,color:a,style:l,className:s}){let c=(0,p.useRef)(null),{transform:u,patternId:h}=ne(il,_),m=a||ii[t],g=r||ia[t],y=t===d.Dots,x=t===d.Cross,b=Array.isArray(n)?n:[n,n],v=[b[0]*u[2]||1,b[1]*u[2]||1],w=g*u[2],N=x?[w,w]:v,S=y?[w/i,w/i]:[N[0]/i,N[1]/i];return p.createElement("svg",{className:f(["react-flow__background",s]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},p.createElement("pattern",{id:h+e,x:u[0]%v[0],y:u[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`},y?p.createElement(io,{color:m,radius:w/i}):p.createElement(ir,{dimensions:N,color:m,lineWidth:o})),p.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+e})`}))}is.displayName="Background";var ic=(0,p.memo)(is);function iu(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},p.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function id(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},p.createElement("path",{d:"M0 0h32v4.2H0z"}))}function ih(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},p.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function ip(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},p.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function im(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},p.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}let ig=({children:e,className:t,...n})=>p.createElement("button",{type:"button",className:f(["react-flow__controls-button",t]),...n},e);ig.displayName="ControlButton";let iy=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),ix=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:a,onFitView:l,onInteractiveChange:s,className:c,children:u,position:d="bottom-left"})=>{let h=nt(),[m,g]=(0,p.useState)(!1),{isInteractive:y,minZoomReached:x,maxZoomReached:b}=ne(iy,_),{zoomIn:v,zoomOut:w,fitView:N}=rX();return((0,p.useEffect)(()=>{g(!0)},[]),m)?p.createElement(nr,{className:f(["react-flow__controls",c]),position:d,style:e,"data-testid":"rf__controls"},t&&p.createElement(p.Fragment,null,p.createElement(ig,{onClick:()=>{v(),i?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b},p.createElement(iu,null)),p.createElement(ig,{onClick:()=>{w(),a?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:x},p.createElement(id,null))),n&&p.createElement(ig,{className:"react-flow__controls-fitview",onClick:()=>{N(o),l?.()},title:"fit view","aria-label":"fit view"},p.createElement(ih,null)),r&&p.createElement(ig,{className:"react-flow__controls-interactive",onClick:()=>{h.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),s?.(!y)},title:"toggle interactivity","aria-label":"toggle interactivity"},y?p.createElement(im,null):p.createElement(ip,null)),u):null};ix.displayName="Controls";var ib=(0,p.memo)(ix);let iv=({id:e,x:t,y:n,width:r,height:o,style:i,color:a,strokeColor:l,strokeWidth:s,className:c,borderRadius:u,shapeRendering:d,onClick:h,selected:m})=>{let{background:g,backgroundColor:y}=i||{};return p.createElement("rect",{className:f(["react-flow__minimap-node",{selected:m},c]),x:t,y:n,rx:u,ry:u,width:r,height:o,fill:a||g||y,stroke:l,strokeWidth:s,shapeRendering:d,onClick:h?t=>h(t,e):void 0})};iv.displayName="MiniMapNode";var iw=(0,p.memo)(iv);let iN=e=>e.nodeOrigin,iS=e=>e.getNodes().filter(e=>!e.hidden&&e.width&&e.height),i_=e=>e instanceof Function?e:()=>e;var iE=(0,p.memo)(function({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:i=iw,onClick:a}){let l=ne(iS,_),s=ne(iN),c=i_(t),u=i_(e),d=i_(n);return p.createElement(p.Fragment,null,l.map(e=>{let{x:t,y:n}=n2(e,s).positionAbsolute;return p.createElement(i,{key:e.id,x:t,y:n,width:e.width,height:e.height,style:e.style,selected:e.selected,className:d(e),color:c(e),borderRadius:r,strokeColor:u(e),strokeWidth:o,shapeRendering:"crispEdges",onClick:a,id:e.id})}))});let ik=e=>{let t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?ng(n3(t,e.nodeOrigin),n):n,rfId:e.rfId}};function iM({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:a=2,nodeComponent:l,maskColor:s="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:u=1,position:d="bottom-right",onClick:h,onNodeClick:m,pannable:g=!1,zoomable:y=!1,ariaLabel:x="React Flow mini map",inversePan:b=!1,zoomStep:v=10,offsetScale:w=5}){let N=nt(),S=(0,p.useRef)(null),{boundingRect:E,viewBB:k,rfId:M}=ne(ik,_),j=e?.width??200,C=e?.height??150,$=Math.max(E.width/j,E.height/C),z=$*j,A=$*C,I=w*$,P=E.x-(z-E.width)/2-I,D=E.y-(A-E.height)/2-I,T=z+2*I,O=A+2*I,R=`react-flow__minimap-desc-${M}`,B=(0,p.useRef)(0);B.current=$,(0,p.useEffect)(()=>{if(S.current){let e=eg(S.current),t=tJ().on("zoom",g?e=>{let{transform:t,d3Selection:n,d3Zoom:r,translateExtent:o,width:i,height:a}=N.getState();if("mousemove"!==e.sourceEvent.type||!n||!r)return;let l=B.current*Math.max(1,t[2])*(b?-1:1),s={x:t[0]-e.sourceEvent.movementX*l,y:t[1]-e.sourceEvent.movementY*l},c=tq.translate(s.x,s.y).scale(t[2]),u=r.constrain()(c,[[0,0],[i,a]],o);r.transform(n,u)}:null).on("zoom.wheel",y?e=>{let{transform:t,d3Selection:n,d3Zoom:r}=N.getState();if("wheel"!==e.sourceEvent.type||!n||!r)return;let o=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*v,i=t[2]*Math.pow(2,o);r.scaleTo(n,i)}:null);return e.call(t),()=>{e.on("zoom",null)}}},[g,y,b,v]);let L=h?e=>{let t=eE(e);h(e,{x:t[0],y:t[1]})}:void 0;return p.createElement(nr,{position:d,style:e,className:f(["react-flow__minimap",t]),"data-testid":"rf__minimap"},p.createElement("svg",{width:j,height:C,viewBox:`${P} ${D} ${T} ${O}`,role:"img","aria-labelledby":R,ref:S,onClick:L},x&&p.createElement("title",{id:R},x),p.createElement(iE,{onClick:m?(e,t)=>{m(e,N.getState().nodeInternals.get(t))}:void 0,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:o,nodeStrokeWidth:a,nodeComponent:l}),p.createElement("path",{className:"react-flow__minimap-mask",d:`M${P-I},${D-I}h${T+2*I}v${O+2*I}h${-T-2*I}z
        M${k.x},${k.y}h${k.width}v${k.height}h${-k.width}z`,fill:s,fillRule:"evenodd",stroke:c,strokeWidth:u,pointerEvents:"none"})))}iM.displayName="MiniMap";var ij=(0,p.memo)(iM);n(7364);let{useDebugValue:iC}=p,{useSyncExternalStoreWithSelector:i$}=m,iz=!1,iA=e=>e,iI=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?y(e):e,n=(e,n)=>(function(e,t=iA,n){n&&!iz&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),iz=!0);let r=i$(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return iC(r),r})(t,e,n);return Object.assign(n,t),n},iP={nodes:[],edges:[],selectedNodeId:null,selectedEdgeId:null,domainName:"MyDomain",domainVersion:"1.0.0",zoom:1,isDirty:!1},iD=(r=(e,t)=>({...iP,setNodes:t=>e({nodes:t,isDirty:!0}),setEdges:t=>e({edges:t,isDirty:!0}),addNode:t=>e(e=>({nodes:[...e.nodes,t],isDirty:!0})),updateNode:(t,n)=>e(e=>({nodes:e.nodes.map(e=>e.id===t?{...e,data:{...e.data,...n}}:e),isDirty:!0})),removeNode:t=>e(e=>({nodes:e.nodes.filter(e=>e.id!==t),edges:e.edges.filter(e=>e.source!==t&&e.target!==t),selectedNodeId:e.selectedNodeId===t?null:e.selectedNodeId,isDirty:!0})),addEdge:t=>e(e=>({edges:[...e.edges,t],isDirty:!0})),removeEdge:t=>e(e=>({edges:e.edges.filter(e=>e.id!==t),selectedEdgeId:e.selectedEdgeId===t?null:e.selectedEdgeId,isDirty:!0})),selectNode:t=>e({selectedNodeId:t,selectedEdgeId:null}),selectEdge:t=>e({selectedEdgeId:t,selectedNodeId:null}),setDomainInfo:(t,n)=>e({domainName:t,domainVersion:n,isDirty:!0}),setZoom:t=>e({zoom:t}),setDirty:t=>e({isDirty:t}),resetEditor:()=>e(iP)}))?iI(r):iI,iT=()=>{let e=iD(e=>e.nodes),t=iD(e=>e.selectedNodeId);return e.find(e=>e.id===t)},iO=0,iR=()=>`node_${iO++}`;function iB(){let{screenToFlowPosition:e}=rX(),t=iD(e=>e.addNode);return{onDragOver:(0,p.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},[]),onDrop:(0,p.useCallback)(n=>{n.preventDefault();let r=n.dataTransfer.getData("application/islnodetype");r&&t(function(e,t){let n=iR();switch(e){case"entity":return{id:n,type:"entityNode",position:t,data:{type:"entity",name:"NewEntity",fields:[{id:"f1",name:"id",type:"UUID",optional:!1,annotations:["@unique"]}],invariants:[]}};case"behavior":return{id:n,type:"behaviorNode",position:t,data:{type:"behavior",name:"NewBehavior",description:"",inputs:[],outputType:"Boolean",errors:[],preconditions:[],postconditions:[]}};case"type":return{id:n,type:"typeNode",position:t,data:{type:"type",name:"NewType",definition:"String",constraints:[]}};case"invariant":return{id:n,type:"invariantNode",position:t,data:{type:"invariant",name:"NewInvariant",scope:"global",predicates:[]}};case"policy":return{id:n,type:"policyNode",position:t,data:{type:"policy",name:"NewPolicy",appliesTo:["all"],rules:[]}};default:throw Error(`Unknown node type: ${e}`)}}(r,e({x:n.clientX,y:n.clientY})))},[e,t]),onDragStart:(0,p.useCallback)((e,t)=>{e.dataTransfer.setData("application/islnodetype",t),e.dataTransfer.effectAllowed="move"},[])}}/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let iH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),iV=(e,t)=>{let n=(0,p.forwardRef)(({color:n="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:a="",children:l,...s},c)=>(0,p.createElement)("svg",{ref:c,...iL,width:r,height:r,stroke:n,strokeWidth:i?24*Number(o)/Number(r):o,className:["lucide",`lucide-${iH(e)}`,a].join(" "),...s},[...t.map(([e,t])=>(0,p.createElement)(e,t)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n},iF=iV("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),iq=iV("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),iX=iV("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),iY=e=>{let t=iK(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{let n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),iU(n,t)||iZ(e)},getConflictingClassGroupIds:(e,t)=>{let o=n[e]||[];return t&&r[e]?[...o,...r[e]]:o}}},iU=(e,t)=>{if(0===e.length)return t.classGroupId;let n=e[0],r=t.nextPart.get(n),o=r?iU(e.slice(1),r):void 0;if(o)return o;if(0===t.validators.length)return;let i=e.join("-");return t.validators.find(({validator:e})=>e(i))?.classGroupId},iW=/^\[(.+)\]$/,iZ=e=>{if(iW.test(e)){let t=iW.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},iK=e=>{let{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return i0(Object.entries(e.classGroups),n).forEach(([e,n])=>{iG(n,r,e,t)}),r},iG=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:iQ(t,e)).classGroupId=n;return}if("function"==typeof e){if(iJ(e)){iG(e(r),t,n,r);return}t.validators.push({validator:e,classGroupId:n});return}Object.entries(e).forEach(([e,o])=>{iG(o,iQ(t,e),n,r)})})},iQ=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},iJ=e=>e.isThemeGetter,i0=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,i1=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,n=new Map,r=new Map,o=(o,i)=>{n.set(o,i),++t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(o(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):o(e,t)}}},i2=e=>{let{separator:t,experimentalParseClassName:n}=e,r=1===t.length,o=t[0],i=t.length,a=e=>{let n;let a=[],l=0,s=0;for(let c=0;c<e.length;c++){let u=e[c];if(0===l){if(u===o&&(r||e.slice(c,c+i)===t)){a.push(e.slice(s,c)),s=c+i;continue}if("/"===u){n=c;continue}}"["===u?l++:"]"===u&&l--}let c=0===a.length?e:e.substring(s),u=c.startsWith("!"),d=u?c.substring(1):c;return{modifiers:a,hasImportantModifier:u,baseClassName:d,maybePostfixModifierPosition:n&&n>s?n-s:void 0}};return n?e=>n({className:e,parseClassName:a}):a},i3=e=>{if(e.length<=1)return e;let t=[],n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},i5=e=>({cache:i1(e.cacheSize),parseClassName:i2(e),...iY(e)}),i4=/\s+/,i7=(e,t)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],a=e.trim().split(i4),l="";for(let e=a.length-1;e>=0;e-=1){let t=a[e],{modifiers:s,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(t),h=!!d,p=r(h?u.substring(0,d):u);if(!p){if(!h||!(p=r(u))){l=t+(l.length>0?" "+l:l);continue}h=!1}let f=i3(s).join(":"),m=c?f+"!":f,g=m+p;if(i.includes(g))continue;i.push(g);let y=o(p,h);for(let e=0;e<y.length;++e){let t=y[e];i.push(m+t)}l=t+(l.length>0?" "+l:l)}return l};function i6(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=i8(e))&&(r&&(r+=" "),r+=t);return r}let i8=e=>{let t;if("string"==typeof e)return e;let n="";for(let r=0;r<e.length;r++)e[r]&&(t=i8(e[r]))&&(n&&(n+=" "),n+=t);return n},i9=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},ae=/^\[(?:([a-z-]+):)?(.+)\]$/i,at=/^\d+\/\d+$/,an=new Set(["px","full","screen"]),ar=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ao=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ai=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,aa=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,al=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,as=e=>au(e)||an.has(e)||at.test(e),ac=e=>aS(e,"length",a_),au=e=>!!e&&!Number.isNaN(Number(e)),ad=e=>aS(e,"number",au),ah=e=>!!e&&Number.isInteger(Number(e)),ap=e=>e.endsWith("%")&&au(e.slice(0,-1)),af=e=>ae.test(e),am=e=>ar.test(e),ag=new Set(["length","size","percentage"]),ay=e=>aS(e,ag,aE),ax=e=>aS(e,"position",aE),ab=new Set(["image","url"]),av=e=>aS(e,ab,aM),aw=e=>aS(e,"",ak),aN=()=>!0,aS=(e,t,n)=>{let r=ae.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},a_=e=>ao.test(e)&&!ai.test(e),aE=()=>!1,ak=e=>aa.test(e),aM=e=>al.test(e);Symbol.toStringTag;let aj=function(e){let t,n,r;let o=function(a){return n=(t=i5([].reduce((e,t)=>t(e),e()))).cache.get,r=t.cache.set,o=i,i(a)};function i(e){let o=n(e);if(o)return o;let i=i7(e,t);return r(e,i),i}return function(){return o(i6.apply(null,arguments))}}(()=>{let e=i9("colors"),t=i9("spacing"),n=i9("blur"),r=i9("brightness"),o=i9("borderColor"),i=i9("borderRadius"),a=i9("borderSpacing"),l=i9("borderWidth"),s=i9("contrast"),c=i9("grayscale"),u=i9("hueRotate"),d=i9("invert"),h=i9("gap"),p=i9("gradientColorStops"),f=i9("gradientColorStopPositions"),m=i9("inset"),g=i9("margin"),y=i9("opacity"),x=i9("padding"),b=i9("saturate"),v=i9("scale"),w=i9("sepia"),N=i9("skew"),S=i9("space"),_=i9("translate"),E=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",af,t],j=()=>[af,t],C=()=>["",as,ac],$=()=>["auto",au,af],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",af],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[au,af];return{cacheSize:500,separator:":",theme:{colors:[aN],spacing:[as,ac],blur:["none","",am,af],brightness:O(),borderColor:[e],borderRadius:["none","","full",am,af],borderSpacing:j(),borderWidth:C(),contrast:O(),grayscale:D(),hueRotate:O(),invert:D(),gap:j(),gradientColorStops:[e],gradientColorStopPositions:[ap,ac],inset:M(),margin:M(),opacity:O(),padding:j(),saturate:O(),scale:O(),sepia:D(),skew:O(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",af]}],container:["container"],columns:[{columns:[am]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),af]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ah,af]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",af]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",ah,af]}],"grid-cols":[{"grid-cols":[aN]}],"col-start-end":[{col:["auto",{span:["full",ah,af]},af]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[aN]}],"row-start-end":[{row:["auto",{span:[ah,af]},af]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",af]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",af]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",af,t]}],"min-w":[{"min-w":[af,t,"min","max","fit"]}],"max-w":[{"max-w":[af,t,"none","full","min","max","fit","prose",{screen:[am]},am]}],h:[{h:[af,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[af,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[af,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[af,t,"auto","min","max","fit"]}],"font-size":[{text:["base",am,ac]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ad]}],"font-family":[{font:[aN]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",af]}],"line-clamp":[{"line-clamp":["none",au,ad]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",as,af]}],"list-image":[{"list-image":["none",af]}],"list-style-type":[{list:["none","disc","decimal",af]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",as,ac]}],"underline-offset":[{"underline-offset":["auto",as,af]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",af]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",af]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),ax]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ay]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},av]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:A()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[as,af]}],"outline-w":[{outline:[as,ac]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[as,ac]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",am,aw]}],"shadow-color":[{shadow:[aN]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",am,af]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",af]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",af]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",af]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[ah,af]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",af]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",af]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",af]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[as,ac,ad]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function aC(...e){return aj(function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=function e(t){var n,r,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(r=e(t[n]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r)}return o}(e))&&(r&&(r+=" "),r+=t);return r}(e))}let a$=(0,p.memo)(function({id:e,data:t,selected:n}){let r=iD(e=>e.selectedNodeId);return(0,h.jsxs)("div",{className:aC("min-w-[200px] rounded-lg overflow-hidden","bg-gradient-to-br from-green-900/50 to-green-950/50","border-2 transition-all duration-200",n||r===e?"border-entity shadow-lg shadow-entity/30":"border-green-800/50 hover:border-green-700/70"),children:[(0,h.jsxs)("div",{className:"bg-entity/20 px-3 py-2 flex items-center gap-2 border-b border-green-800/50",children:[h.jsx(iF,{className:"w-4 h-4 text-entity"}),h.jsx("span",{className:"font-semibold text-entity",children:t.name}),t.lifecycleStates&&t.lifecycleStates.length>0&&h.jsx("span",{className:"ml-auto text-xs bg-entity/30 px-2 py-0.5 rounded",children:"lifecycle"})]}),h.jsx("div",{className:"p-2 space-y-1",children:0===t.fields.length?h.jsx("div",{className:"text-xs text-gray-500 italic px-2 py-1",children:"No fields"}):t.fields.map(e=>(0,h.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1 rounded bg-green-950/30 text-sm",children:[e.annotations.includes("@unique")&&h.jsx(iq,{className:"w-3 h-3 text-yellow-500"}),h.jsx("span",{className:"text-gray-300",children:e.name}),h.jsx("span",{className:"text-gray-500",children:":"}),h.jsx("span",{className:"text-entity",children:e.type}),e.optional&&h.jsx("span",{className:"text-gray-500",children:"?"})]},e.id))}),t.invariants.length>0&&(0,h.jsxs)("div",{className:"border-t border-green-800/50 p-2",children:[(0,h.jsxs)("div",{className:"flex items-center gap-1 text-xs text-yellow-500 mb-1",children:[h.jsx(iX,{className:"w-3 h-3"}),h.jsx("span",{children:"Invariants"})]}),t.invariants.map((e,t)=>h.jsx("div",{className:"text-xs text-gray-400 px-2 py-0.5 font-mono",children:e},t))]}),h.jsx(rc,{type:"target",position:u.Top,className:"w-3 h-3 !bg-entity border-2 border-green-950"}),h.jsx(rc,{type:"source",position:u.Bottom,className:"w-3 h-3 !bg-entity border-2 border-green-950"}),h.jsx(rc,{type:"source",position:u.Right,id:"right",className:"w-3 h-3 !bg-entity border-2 border-green-950"}),h.jsx(rc,{type:"target",position:u.Left,id:"left",className:"w-3 h-3 !bg-entity border-2 border-green-950"})]})}),az=iV("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]),aA=iV("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),aI=iV("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),aP=iV("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),aD=(0,p.memo)(function({id:e,data:t,selected:n}){let r=iD(e=>e.selectedNodeId);return(0,h.jsxs)("div",{className:aC("min-w-[220px] rounded-lg overflow-hidden","bg-gradient-to-br from-blue-900/50 to-blue-950/50","border-2 transition-all duration-200",n||r===e?"border-behavior shadow-lg shadow-behavior/30":"border-blue-800/50 hover:border-blue-700/70"),children:[(0,h.jsxs)("div",{className:"bg-behavior/20 px-3 py-2 flex items-center gap-2 border-b border-blue-800/50",children:[h.jsx(az,{className:"w-4 h-4 text-behavior"}),h.jsx("span",{className:"font-semibold text-behavior",children:t.name})]}),t.description&&h.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-blue-800/30",children:t.description}),(0,h.jsxs)("div",{className:"p-2 space-y-2",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"text-xs text-gray-500 mb-1 flex items-center gap-1",children:[h.jsx(aA,{className:"w-3 h-3"}),"Input"]}),0===t.inputs.length?h.jsx("div",{className:"text-xs text-gray-600 italic px-2",children:"None"}):h.jsx("div",{className:"space-y-0.5",children:t.inputs.map(e=>(0,h.jsxs)("div",{className:"flex items-center gap-1 px-2 py-0.5 text-xs",children:[h.jsx("span",{className:"text-gray-300",children:e.name}),h.jsx("span",{className:"text-gray-500",children:":"}),h.jsx("span",{className:"text-behavior",children:e.type})]},e.id))})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"text-xs text-gray-500 mb-1 flex items-center gap-1",children:[h.jsx(aA,{className:"w-3 h-3 rotate-180"}),"Output"]}),h.jsx("div",{className:"px-2 py-0.5 text-xs",children:h.jsx("span",{className:"text-behavior",children:t.outputType})})]}),t.errors.length>0&&(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"text-xs text-red-400 mb-1 flex items-center gap-1",children:[h.jsx(aI,{className:"w-3 h-3"}),"Errors"]}),h.jsx("div",{className:"flex flex-wrap gap-1 px-2",children:t.errors.map((e,t)=>h.jsx("span",{className:"text-xs bg-red-900/30 text-red-400 px-1.5 py-0.5 rounded",children:e},t))})]})]}),(t.preconditions.length>0||t.postconditions.length>0)&&(0,h.jsxs)("div",{className:"border-t border-blue-800/50 p-2 space-y-1",children:[t.preconditions.length>0&&(0,h.jsxs)("div",{className:"text-xs",children:[h.jsx("span",{className:"text-yellow-500",children:"pre:"}),(0,h.jsxs)("span",{className:"text-gray-400 ml-1",children:[t.preconditions.length," condition(s)"]})]}),t.postconditions.length>0&&(0,h.jsxs)("div",{className:"text-xs flex items-center gap-1",children:[h.jsx(aP,{className:"w-3 h-3 text-green-500"}),(0,h.jsxs)("span",{className:"text-gray-400",children:[t.postconditions.length," postcondition(s)"]})]})]}),h.jsx(rc,{type:"target",position:u.Top,className:"w-3 h-3 !bg-behavior border-2 border-blue-950"}),h.jsx(rc,{type:"source",position:u.Bottom,className:"w-3 h-3 !bg-behavior border-2 border-blue-950"}),h.jsx(rc,{type:"source",position:u.Right,id:"right",className:"w-3 h-3 !bg-behavior border-2 border-blue-950"}),h.jsx(rc,{type:"target",position:u.Left,id:"left",className:"w-3 h-3 !bg-behavior border-2 border-blue-950"})]})}),aT=iV("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),aO=(0,p.memo)(function({id:e,data:t,selected:n}){let r=iD(e=>e.selectedNodeId);return(0,h.jsxs)("div",{className:aC("min-w-[160px] rounded-lg overflow-hidden","bg-gradient-to-br from-pink-900/50 to-pink-950/50","border-2 transition-all duration-200",n||r===e?"border-type shadow-lg shadow-type/30":"border-pink-800/50 hover:border-pink-700/70"),children:[(0,h.jsxs)("div",{className:"bg-type/20 px-3 py-2 flex items-center gap-2 border-b border-pink-800/50",children:[h.jsx(aT,{className:"w-4 h-4 text-type"}),h.jsx("span",{className:"font-semibold text-type",children:t.name})]}),(0,h.jsxs)("div",{className:"p-3",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Base type"}),h.jsx("div",{className:"font-mono text-sm text-gray-300",children:t.definition}),t.constraints.length>0&&(0,h.jsxs)("div",{className:"mt-2",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Constraints"}),t.constraints.map((e,t)=>h.jsx("div",{className:"text-xs font-mono text-pink-300 bg-pink-950/50 px-2 py-1 rounded mt-1",children:e},t))]})]}),h.jsx(rc,{type:"target",position:u.Top,className:"w-3 h-3 !bg-type border-2 border-pink-950"}),h.jsx(rc,{type:"source",position:u.Bottom,className:"w-3 h-3 !bg-type border-2 border-pink-950"})]})}),aR=iV("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),aB=(0,p.memo)(function({id:e,data:t,selected:n}){let r=iD(e=>e.selectedNodeId);return(0,h.jsxs)("div",{className:aC("min-w-[180px] rounded-lg overflow-hidden","bg-gradient-to-br from-red-900/50 to-red-950/50","border-2 transition-all duration-200",n||r===e?"border-highlight shadow-lg shadow-highlight/30":"border-red-800/50 hover:border-red-700/70"),children:[(0,h.jsxs)("div",{className:"bg-highlight/20 px-3 py-2 flex items-center gap-2 border-b border-red-800/50",children:[h.jsx(aR,{className:"w-4 h-4 text-highlight"}),h.jsx("span",{className:"font-semibold text-highlight",children:t.name}),h.jsx("span",{className:"ml-auto text-xs bg-red-900/50 px-2 py-0.5 rounded",children:t.scope})]}),h.jsx("div",{className:"p-3",children:0===t.predicates.length?h.jsx("div",{className:"text-xs text-gray-500 italic",children:"No predicates"}):h.jsx("div",{className:"space-y-1",children:t.predicates.map((e,t)=>h.jsx("div",{className:"text-xs font-mono text-gray-300 bg-red-950/50 px-2 py-1 rounded",children:e},t))})}),h.jsx(rc,{type:"target",position:u.Top,className:"w-3 h-3 !bg-highlight border-2 border-red-950"}),h.jsx(rc,{type:"source",position:u.Bottom,className:"w-3 h-3 !bg-highlight border-2 border-red-950"})]})}),aL=iV("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),aH={entityNode:a$,behaviorNode:aD,typeNode:aO,invariantNode:aB,policyNode:(0,p.memo)(function({id:e,data:t,selected:n}){let r=iD(e=>e.selectedNodeId);return(0,h.jsxs)("div",{className:aC("min-w-[180px] rounded-lg overflow-hidden","bg-gradient-to-br from-yellow-900/50 to-yellow-950/50","border-2 transition-all duration-200",n||r===e?"border-yellow-500 shadow-lg shadow-yellow-500/30":"border-yellow-800/50 hover:border-yellow-700/70"),children:[(0,h.jsxs)("div",{className:"bg-yellow-500/20 px-3 py-2 flex items-center gap-2 border-b border-yellow-800/50",children:[h.jsx(aL,{className:"w-4 h-4 text-yellow-500"}),h.jsx("span",{className:"font-semibold text-yellow-500",children:t.name})]}),(0,h.jsxs)("div",{className:"p-3",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Applies to"}),h.jsx("div",{className:"flex flex-wrap gap-1",children:t.appliesTo.map((e,t)=>h.jsx("span",{className:"text-xs bg-yellow-900/30 text-yellow-400 px-2 py-0.5 rounded",children:e},t))}),t.rules.length>0&&(0,h.jsxs)("div",{className:"mt-2",children:[h.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Rules"}),t.rules.map((e,t)=>h.jsx("div",{className:"text-xs font-mono text-gray-300 bg-yellow-950/50 px-2 py-1 rounded mt-1",children:e},t))]})]}),h.jsx(rc,{type:"target",position:u.Top,className:"w-3 h-3 !bg-yellow-500 border-2 border-yellow-950"}),h.jsx(rc,{type:"source",position:u.Bottom,className:"w-3 h-3 !bg-yellow-500 border-2 border-yellow-950"})]})})};function aV(){let{nodes:e,edges:t,onNodesChange:n,onEdgesChange:r,onConnect:o,onNodeClick:i,onEdgeClick:a,onPaneClick:l}=function(){let{project:e,fitView:t,zoomIn:n,zoomOut:r,setViewport:o,getViewport:i}=rX(),{nodes:a,edges:l,setNodes:s,setEdges:c,addEdge:u,selectNode:d,selectEdge:h,setZoom:f}=iD(),m=(0,p.useCallback)(e=>{s(r7(e,a))},[a,s]),g=(0,p.useCallback)(e=>{c(r6(e,l))},[l,c]),y=(0,p.useCallback)(e=>{if(!e.source||!e.target)return;let t=a.find(t=>t.id===e.source),n=a.find(t=>t.id===e.target);if(!t||!n)return;let r="reference",o=!1;"behavior"===t.data.type&&"entity"===n.data.type?r="uses":"entity"===t.data.type&&"behavior"===n.data.type?r="produces":"policy"===t.data.type||"invariant"===t.data.type?r="enforces":"entity"===t.data.type&&"entity"===n.data.type&&(r="lifecycle",o=!0),u({id:`e-${e.source}-${e.target}`,source:e.source,target:e.target,sourceHandle:e.sourceHandle||void 0,targetHandle:e.targetHandle||void 0,data:{type:r},animated:o,style:{stroke:function(e){switch(e){case"uses":return"#60a5fa";case"produces":return"#4ade80";case"consumes":return"#f472b6";case"lifecycle":return"#fbbf24";case"enforces":return"#e94560";default:return"#94a3b8"}}(r)}})},[a,u]),x=(0,p.useCallback)((e,t)=>{d(t.id)},[d]),b=(0,p.useCallback)((e,t)=>{h(t.id)},[h]),v=(0,p.useCallback)(()=>{d(null),h(null)},[d,h]),w=(0,p.useCallback)(()=>{n(),f(i().zoom)},[n,i,f]);return{nodes:a,edges:l,onNodesChange:m,onEdgesChange:g,onConnect:y,onNodeClick:x,onEdgeClick:b,onPaneClick:v,handleZoomIn:w,handleZoomOut:(0,p.useCallback)(()=>{r(),f(i().zoom)},[r,i,f]),handleFitView:(0,p.useCallback)(()=>{t({padding:.2}),f(i().zoom)},[t,i,f]),handleCenter:(0,p.useCallback)(()=>{o({x:0,y:0,zoom:1}),f(1)},[o,f]),project:e}}(),{onDragOver:s,onDrop:c}=iB();return(0,h.jsxs)(ie,{nodes:e,edges:t,onNodesChange:n,onEdgesChange:r,onConnect:o,onNodeClick:i,onEdgeClick:a,onPaneClick:l,onDragOver:s,onDrop:c,nodeTypes:aH,fitView:!0,snapToGrid:!0,snapGrid:[16,16],defaultEdgeOptions:{type:"smoothstep",animated:!1},proOptions:{hideAttribution:!0},children:[h.jsx(ic,{variant:d.Dots,gap:16,size:1,color:"#2d3748"}),h.jsx(ib,{showZoom:!0,showFitView:!0,showInteractive:!1,className:"bg-panel border border-accent"}),h.jsx(ij,{nodeColor:e=>(function(e){switch(e){case"entity":return"#4ade80";case"behavior":return"#60a5fa";case"type":return"#f472b6";case"invariant":return"#e94560";case"policy":return"#fbbf24";default:return"#94a3b8"}})(e.data?.type),maskColor:"rgba(22, 33, 62, 0.8)",className:"bg-panel border border-accent"})]})}/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let aF=iV("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),aq=[{id:"entity",type:"entity",label:"Entity",icon:"database",description:"Data model with fields and invariants"},{id:"behavior",type:"behavior",label:"Behavior",icon:"workflow",description:"Operation with pre/postconditions"},{id:"type",type:"type",label:"Type",icon:"type",description:"Custom type definition"},{id:"invariant",type:"invariant",label:"Invariant",icon:"shield",description:"Global constraint"},{id:"policy",type:"policy",label:"Policy",icon:"scale",description:"Business rule"}],aX={database:iF,workflow:az,type:aT,shield:aR,scale:aL};function aY(){let{onDragStart:e}=iB(),[t,n]=(0,p.useState)(["components"]),r=e=>{n(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,h.jsxs)("aside",{className:"w-64 bg-panel border-r border-accent flex flex-col",children:[(0,h.jsxs)("div",{className:"border-b border-accent",children:[(0,h.jsxs)("button",{onClick:()=>r("components"),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-accent/30 transition-colors",children:[h.jsx("span",{className:"font-semibold text-sm uppercase tracking-wider",children:"Components"}),h.jsx(aF,{className:`w-4 h-4 transition-transform ${t.includes("components")?"":"-rotate-90"}`})]}),t.includes("components")&&h.jsx("div",{className:"p-2 space-y-1",children:aq.map(t=>h.jsx(aU,{tool:t,onDragStart:e},t.id))})]}),(0,h.jsxs)("div",{className:"border-b border-accent",children:[(0,h.jsxs)("button",{onClick:()=>r("templates"),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-accent/30 transition-colors",children:[h.jsx("span",{className:"font-semibold text-sm uppercase tracking-wider",children:"Templates"}),h.jsx(aF,{className:`w-4 h-4 transition-transform ${t.includes("templates")?"":"-rotate-90"}`})]}),t.includes("templates")&&h.jsx("div",{className:"p-4 text-sm text-gray-400",children:"Coming soon: Pre-built patterns"})]}),h.jsx("div",{className:"mt-auto p-4 border-t border-accent",children:(0,h.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,h.jsxs)("p",{className:"mb-2",children:[h.jsx("strong",{children:"Tip:"})," Drag components onto the canvas"]}),h.jsx("p",{children:"Connect nodes by dragging from handles"})]})})]})}function aU({tool:e,onDragStart:t}){let n=aX[e.icon],r=function(e){switch(e){case"entity":return"entity";case"behavior":return"behavior";case"type":return"type";case"invariant":case"policy":return"highlight";default:return"gray-400"}}(e.type);return(0,h.jsxs)("div",{draggable:!0,onDragStart:n=>t(n,e.type),className:`
        flex items-center gap-3 p-3 rounded-lg cursor-grab
        bg-accent/30 hover:bg-accent/50 border border-transparent
        hover:border-${r}/50 transition-all
        active:cursor-grabbing
      `,children:[h.jsx("div",{className:`p-2 rounded-lg bg-${r}/20`,children:h.jsx(n,{className:`w-5 h-5 text-${r}`})}),(0,h.jsxs)("div",{children:[h.jsx("div",{className:"font-medium text-sm",children:e.label}),h.jsx("div",{className:"text-xs text-gray-500",children:e.description})]})]})}/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let aW=iV("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),aZ=iV("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),aK=iV("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function aG(){let e=iT(),t=iD(e=>e.updateNode),n=iD(e=>e.removeNode);if(!e)return(0,h.jsxs)("div",{className:"flex-1 p-4 border-b border-accent",children:[h.jsx("h2",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Properties"}),h.jsx("div",{className:"text-sm text-gray-500 text-center py-8",children:"Select a node to edit its properties"})]});let{data:r}=e;return(0,h.jsxs)("div",{className:"flex-1 p-4 border-b border-accent overflow-y-auto",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider",children:"Properties"}),h.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 hover:bg-red-900/30 rounded text-red-400 transition-colors",title:"Delete node",children:h.jsx(aW,{className:"w-4 h-4"})})]}),(0,h.jsxs)("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Name"}),h.jsx("input",{type:"text",value:r.name,onChange:n=>t(e.id,{name:n.target.value}),className:"w-full bg-accent/50 border border-accent rounded px-3 py-2 text-sm focus:outline-none focus:border-highlight"})]}),"entity"===r.type&&h.jsx(aQ,{data:r,onUpdate:n=>t(e.id,n)}),"behavior"===r.type&&h.jsx(aJ,{data:r,onUpdate:n=>t(e.id,n)}),"type"===r.type&&h.jsx(a0,{data:r,onUpdate:n=>t(e.id,n)})]})}function aQ({data:e,onUpdate:t}){let n=(n,r)=>{t({fields:e.fields.map(e=>e.id===n?{...e,...r}:e)})},r=n=>{t({fields:e.fields.filter(e=>e.id!==n)})};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"mb-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("label",{className:"text-xs text-gray-500",children:"Fields"}),h.jsx("button",{onClick:()=>{let n={id:`f${Date.now()}`,name:"newField",type:"String",optional:!1,annotations:[]};t({fields:[...e.fields,n]})},className:"p-1 hover:bg-accent rounded transition-colors",children:h.jsx(aZ,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"space-y-2",children:e.fields.map(e=>(0,h.jsxs)("div",{className:"bg-accent/30 rounded p-2 space-y-2",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",value:e.name,onChange:t=>n(e.id,{name:t.target.value}),className:"flex-1 bg-accent/50 border border-accent rounded px-2 py-1 text-xs focus:outline-none focus:border-highlight",placeholder:"Field name"}),h.jsx("button",{onClick:()=>r(e.id),className:"p-1 hover:bg-red-900/30 rounded text-red-400",children:h.jsx(aK,{className:"w-3 h-3"})})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsxs)("select",{value:e.type,onChange:t=>n(e.id,{type:t.target.value}),className:"flex-1 bg-accent/50 border border-accent rounded px-2 py-1 text-xs focus:outline-none",children:[h.jsx("option",{value:"String",children:"String"}),h.jsx("option",{value:"Int",children:"Int"}),h.jsx("option",{value:"Boolean",children:"Boolean"}),h.jsx("option",{value:"UUID",children:"UUID"}),h.jsx("option",{value:"Timestamp",children:"Timestamp"}),h.jsx("option",{value:"Decimal",children:"Decimal"})]}),(0,h.jsxs)("label",{className:"flex items-center gap-1 text-xs",children:[h.jsx("input",{type:"checkbox",checked:e.optional,onChange:t=>n(e.id,{optional:t.target.checked}),className:"w-3 h-3"}),"Optional"]})]})]},e.id))})]}),(0,h.jsxs)("div",{children:[h.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Invariants (one per line)"}),h.jsx("textarea",{value:e.invariants.join("\n"),onChange:e=>t({invariants:e.target.value.split("\n").filter(e=>e.trim())}),className:"w-full bg-accent/50 border border-accent rounded px-3 py-2 text-xs font-mono h-20 resize-none focus:outline-none focus:border-highlight",placeholder:"e.g., balance >= 0"})]})]})}function aJ({data:e,onUpdate:t}){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Description"}),h.jsx("input",{type:"text",value:e.description||"",onChange:e=>t({description:e.target.value}),className:"w-full bg-accent/50 border border-accent rounded px-3 py-2 text-sm focus:outline-none focus:border-highlight",placeholder:"What does this behavior do?"})]}),(0,h.jsxs)("div",{className:"mb-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("label",{className:"text-xs text-gray-500",children:"Inputs"}),h.jsx("button",{onClick:()=>{let n={id:`i${Date.now()}`,name:"input",type:"String",optional:!1,annotations:[]};t({inputs:[...e.inputs,n]})},className:"p-1 hover:bg-accent rounded transition-colors",children:h.jsx(aZ,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"space-y-2",children:e.inputs.map(n=>(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",value:n.name,onChange:r=>t({inputs:e.inputs.map(e=>e.id===n.id?{...e,name:r.target.value}:e)}),className:"flex-1 bg-accent/50 border border-accent rounded px-2 py-1 text-xs focus:outline-none"}),(0,h.jsxs)("select",{value:n.type,onChange:r=>t({inputs:e.inputs.map(e=>e.id===n.id?{...e,type:r.target.value}:e)}),className:"bg-accent/50 border border-accent rounded px-2 py-1 text-xs",children:[h.jsx("option",{value:"String",children:"String"}),h.jsx("option",{value:"Int",children:"Int"}),h.jsx("option",{value:"Boolean",children:"Boolean"}),h.jsx("option",{value:"UUID",children:"UUID"})]}),h.jsx("button",{onClick:()=>t({inputs:e.inputs.filter(e=>e.id!==n.id)}),className:"p-1 hover:bg-red-900/30 rounded text-red-400",children:h.jsx(aK,{className:"w-3 h-3"})})]},n.id))})]}),(0,h.jsxs)("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Output Type"}),(0,h.jsxs)("select",{value:e.outputType,onChange:e=>t({outputType:e.target.value}),className:"w-full bg-accent/50 border border-accent rounded px-3 py-2 text-sm focus:outline-none",children:[h.jsx("option",{value:"Boolean",children:"Boolean"}),h.jsx("option",{value:"String",children:"String"}),h.jsx("option",{value:"Int",children:"Int"}),h.jsx("option",{value:"UUID",children:"UUID"}),h.jsx("option",{value:"void",children:"void"})]})]}),(0,h.jsxs)("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Preconditions"}),h.jsx("textarea",{value:e.preconditions.join("\n"),onChange:e=>t({preconditions:e.target.value.split("\n").filter(e=>e.trim())}),className:"w-full bg-accent/50 border border-accent rounded px-3 py-2 text-xs font-mono h-16 resize-none focus:outline-none focus:border-highlight",placeholder:"e.g., input.amount > 0"})]}),(0,h.jsxs)("div",{children:[h.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Postconditions"}),h.jsx("textarea",{value:e.postconditions.join("\n"),onChange:e=>t({postconditions:e.target.value.split("\n").filter(e=>e.trim())}),className:"w-full bg-accent/50 border border-accent rounded px-3 py-2 text-xs font-mono h-16 resize-none focus:outline-none focus:border-highlight",placeholder:"e.g., result == true"})]})]})}function a0({data:e,onUpdate:t}){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Base Type"}),(0,h.jsxs)("select",{value:e.definition,onChange:e=>t({definition:e.target.value}),className:"w-full bg-accent/50 border border-accent rounded px-3 py-2 text-sm focus:outline-none",children:[h.jsx("option",{value:"String",children:"String"}),h.jsx("option",{value:"Int",children:"Int"}),h.jsx("option",{value:"Decimal",children:"Decimal"}),h.jsx("option",{value:"Boolean",children:"Boolean"})]})]}),(0,h.jsxs)("div",{children:[h.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Constraints (one per line)"}),h.jsx("textarea",{value:e.constraints.join("\n"),onChange:e=>t({constraints:e.target.value.split("\n").filter(e=>e.trim())}),className:"w-full bg-accent/50 border border-accent rounded px-3 py-2 text-xs font-mono h-20 resize-none focus:outline-none focus:border-highlight",placeholder:'e.g., format: "email"'})]})]})}/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a1=iV("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),a2=iV("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function a3(){let e=iD(e=>e.nodes),t=iD(e=>e.edges),n=iD(e=>e.domainName),r=iD(e=>e.domainVersion);return{islCode:(0,p.useMemo)(()=>(function(e){let{nodes:t,edges:n,domainName:r,domainVersion:o}=e,i=[];i.push(`domain ${r} {`),i.push(`  version: "${o}"`),i.push("");let a=t.filter(e=>"type"===e.data.type),l=t.filter(e=>"entity"===e.data.type),s=t.filter(e=>"behavior"===e.data.type),c=t.filter(e=>"invariant"===e.data.type),u=t.filter(e=>"policy"===e.data.type);if(a.length>0)for(let e of(i.push("  // Types"),a))i.push(...(function(e){let t=[];if(0===e.constraints.length)t.push(`type ${e.name} = ${e.definition}`);else{for(let n of(t.push(`type ${e.name} = ${e.definition} {`),e.constraints))t.push(`  ${n}`);t.push("}")}return t})(e.data).map(e=>`  ${e}`)),i.push("");if(l.length>0)for(let e of(i.push("  // Entities"),l))i.push(...(function(e){let t=[];for(let n of(t.push(`entity ${e.name} {`),e.fields)){let e=n.annotations.length>0?` ${n.annotations.join(" ")}`:"",r=n.optional?"?":"";t.push(`  ${n.name}: ${n.type}${r}${e}`)}if(e.invariants.length>0){for(let n of(t.push(""),t.push("  invariant {"),e.invariants))t.push(`    ${n}`);t.push("  }")}if(e.lifecycleStates&&e.lifecycleStates.length>0){t.push(""),t.push("  lifecycle {");for(let n=0;n<e.lifecycleStates.length-1;n++)t.push(`    ${e.lifecycleStates[n]} -> ${e.lifecycleStates[n+1]}`);t.push("  }")}return t.push("}"),t})(e.data).map(e=>`  ${e}`)),i.push("");if(s.length>0)for(let e of(i.push("  // Behaviors"),s))i.push(...(function(e){let t=[];for(let n of(t.push(`behavior ${e.name} {`),e.description&&(t.push(`  description: "${e.description}"`),t.push("")),t.push("  input {"),e.inputs)){let e=n.optional?"?":"";t.push(`    ${n.name}: ${n.type}${e}`)}if(t.push("  }"),t.push(""),t.push("  output {"),t.push(`    success: ${e.outputType}`),e.errors.length>0)for(let n of(t.push(""),e.errors))t.push(`    error ${n}`);if(t.push("  }"),e.preconditions.length>0){for(let n of(t.push(""),t.push("  pre {"),e.preconditions))t.push(`    ${n}`);t.push("  }")}if(e.postconditions.length>0){for(let n of(t.push(""),t.push("  post {"),e.postconditions))t.push(`    ${n}`);t.push("  }")}return t.push("}"),t})(e.data).map(e=>`  ${e}`)),i.push("");if(c.length>0)for(let e of(i.push("  // Invariants"),c))i.push(...(function(e){let t=[];if(t.push(`invariant ${e.name} {`),t.push(`  scope: ${e.scope}`),e.predicates.length>0)for(let n of(t.push(""),e.predicates))t.push(`  ${n}`);return t.push("}"),t})(e.data).map(e=>`  ${e}`)),i.push("");if(u.length>0)for(let e of(i.push("  // Policies"),u))i.push(...(function(e){let t=[];t.push(`policy ${e.name} {`);let n=e.appliesTo.includes("all")?"all":e.appliesTo.join(", ");if(t.push(`  applies_to: ${n}`),e.rules.length>0){for(let n of(t.push(""),t.push("  rules {"),e.rules))t.push(`    ${n}`);t.push("  }")}return t.push("}"),t})(e.data).map(e=>`  ${e}`)),i.push("");return i.push("}"),i.join("\n")})({nodes:e,edges:t,domainName:n,domainVersion:r}),[e,t,n,r]),domainName:n,domainVersion:r}}function a5(){let{islCode:e,domainName:t,domainVersion:n}=a3(),[r,o]=(0,p.useState)(!1),i=async()=>{await navigator.clipboard.writeText(e),o(!0),setTimeout(()=>o(!1),2e3)};return(0,h.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-b border-accent",children:[h.jsx("h2",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider",children:"ISL Preview"}),h.jsx("button",{onClick:i,className:"p-1.5 hover:bg-accent rounded transition-colors",title:"Copy to clipboard",children:r?h.jsx(a1,{className:"w-4 h-4 text-green-500"}):h.jsx(a2,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"flex-1 overflow-auto p-4",children:h.jsx("pre",{className:"code-preview text-xs leading-relaxed",children:h.jsx("code",{dangerouslySetInnerHTML:{__html:e.replace(/\b(domain|entity|behavior|type|invariant|policy|input|output|pre|post|error|lifecycle|temporal|security)\b/g,'<span class="keyword">$1</span>').replace(/\b(String|Int|Boolean|UUID|Timestamp|Decimal|Duration|List|Map|Optional)\b/g,'<span class="type">$1</span>').replace(/"([^"\\]|\\.)*"/g,'<span class="string">$&</span>').replace(/\b(\d+(\.\d+)?)\b/g,'<span class="number">$1</span>').replace(/(\/\/.*$)/gm,'<span class="comment">$1</span>').replace(/(@\w+)/g,'<span class="keyword">$1</span>')}})})})]})}/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a4=iV("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]),a7=iV("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),a6=iV("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),a8=iV("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),a9=iV("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),le=iV("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),lt=iV("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function ln(){let{domainName:e,domainVersion:t,isDirty:n,setDomainInfo:r,resetEditor:o}=iD(),{islCode:i}=a3();return(0,h.jsxs)("header",{className:"h-14 bg-panel border-b border-accent flex items-center justify-between px-4",children:[(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[h.jsx(a4,{className:"w-6 h-6 text-highlight"}),h.jsx("span",{className:"font-bold text-lg",children:"ISL Editor"})]}),h.jsx("div",{className:"h-6 w-px bg-accent"}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",value:e,onChange:e=>r(e.target.value,t),className:"bg-accent/50 border border-accent rounded px-2 py-1 text-sm w-36 focus:outline-none focus:border-highlight",placeholder:"Domain name"}),h.jsx("span",{className:"text-gray-500",children:"v"}),h.jsx("input",{type:"text",value:t,onChange:t=>r(e,t.target.value),className:"bg-accent/50 border border-accent rounded px-2 py-1 text-sm w-20 focus:outline-none focus:border-highlight",placeholder:"Version"}),n&&h.jsx("span",{className:"w-2 h-2 rounded-full bg-highlight",title:"Unsaved changes"})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>{(!n||confirm("You have unsaved changes. Create new specification?"))&&o()},className:"p-2 hover:bg-accent rounded-lg transition-colors",title:"New",children:h.jsx(a4,{className:"w-5 h-5"})}),h.jsx("button",{className:"p-2 hover:bg-accent rounded-lg transition-colors",title:"Undo",children:h.jsx(a7,{className:"w-5 h-5"})}),h.jsx("button",{className:"p-2 hover:bg-accent rounded-lg transition-colors",title:"Redo",children:h.jsx(a6,{className:"w-5 h-5"})}),h.jsx("div",{className:"h-6 w-px bg-accent mx-2"}),h.jsx("button",{className:"p-2 hover:bg-accent rounded-lg transition-colors",title:"Import ISL",children:h.jsx(a8,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>{let t=new Blob([i],{type:"text/plain"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`${e.toLowerCase()}.isl`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},className:"p-2 hover:bg-accent rounded-lg transition-colors",title:"Export ISL",children:h.jsx(a9,{className:"w-5 h-5"})}),h.jsx("button",{className:"p-2 hover:bg-accent rounded-lg transition-colors",title:"Save",children:h.jsx(le,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("button",{className:"p-2 hover:bg-accent rounded-lg transition-colors",title:"Settings",children:h.jsx(lt,{className:"w-5 h-5"})})})]})}function lr(){return h.jsx(o2,{children:(0,h.jsxs)("div",{className:"h-screen w-screen flex flex-col overflow-hidden bg-canvas",children:[h.jsx(ln,{}),(0,h.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[h.jsx(aY,{}),h.jsx("div",{className:"flex-1 relative",children:h.jsx(aV,{})}),(0,h.jsxs)("div",{className:"w-96 flex flex-col border-l border-accent bg-panel",children:[h.jsx(aG,{}),h.jsx(a5,{})]})]})]})})}},2204:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i,metadata:()=>o});var r=n(1002);n(9881);let o={title:"ISL Visual Editor",description:"Visual/graphical editor for ISL specifications"};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"antialiased",children:e})})}},1342:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>a});let r=(0,n(7460).createProxy)(String.raw`C:\Users\mevla\OneDrive\Desktop\IntentOS\packages\visual-editor\src\app\page.tsx`),{__esModule:o,$$typeof:i}=r,a=r.default},7364:()=>{},9881:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[612],()=>n(7313));module.exports=r})();